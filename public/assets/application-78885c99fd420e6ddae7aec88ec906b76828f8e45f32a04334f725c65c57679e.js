if(function(){var t=this;(function(){(function(){this.Rails={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:{selector:"button[data-remote]:not([form]), button[data-confirm]:not([form])",exclude:"form button"},inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",formDisableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",formEnableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]"}}).call(this)}).call(t);var v=t.Rails;(function(){(function(){v.cspNonce=function(){var t;return(t=document.querySelector("meta[name=csp-nonce]"))&&t.content}}).call(this),function(){var i,n;n=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector,v.matches=function(t,e){return null!=e.exclude?n.call(t,e.selector)&&!n.call(t,e.exclude):n.call(t,e)},i="_ujsData",v.getData=function(t,e){var n;return null!=(n=t[i])?n[e]:void 0},v.setData=function(t,e,n){return null==t[i]&&(t[i]={}),t[i][e]=n},v.$=function(t){return Array.prototype.slice.call(document.querySelectorAll(t))}}.call(this),function(){var n,i,o;n=v.$,o=v.csrfToken=function(){var t;return(t=document.querySelector("meta[name=csrf-token]"))&&t.content},i=v.csrfParam=function(){var t;return(t=document.querySelector("meta[name=csrf-param]"))&&t.content},v.CSRFProtection=function(t){var e;if(null!=(e=o()))return t.setRequestHeader("X-CSRF-Token",e)},v.refreshCSRFTokens=function(){var t,e;if(e=o(),t=i(),null!=e&&null!=t)return n('form input[name="'+t+'"]').forEach(function(t){return t.value=e})}}.call(this),function(){var o,e,r,n;r=v.matches,"function"!=typeof(o=window.CustomEvent)&&((o=function(t,e){var n;return(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,n=o.prototype.preventDefault,o.prototype.preventDefault=function(){var t;return t=n.call(this),this.cancelable&&!this.defaultPrevented&&Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),t}),e=v.fire=function(t,e,n){var i;return i=new o(e,{bubbles:!0,cancelable:!0,detail:n}),t.dispatchEvent(i),!i.defaultPrevented},v.stopEverything=function(t){return e(t.target,"ujs:everythingStopped"),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()},v.delegate=function(t,n,e,i){return t.addEventListener(e,function(t){var e;for(e=t.target;e instanceof Element&&!r(e,n);)e=e.parentNode;if(e instanceof Element&&!1===i.call(e,t))return t.preventDefault(),t.stopPropagation()})}}.call(this),function(){var e,i,t,r,o,a;r=v.cspNonce,i=v.CSRFProtection,v.fire,e={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},v.ajax=function(n){var i;return n=o(n),i=t(n,function(){var t,e;return e=a(null!=(t=i.response)?t:i.responseText,i.getResponseHeader("Content-Type")),2===Math.floor(i.status/100)?"function"==typeof n.success&&n.success(e,i.statusText,i):"function"==typeof n.error&&n.error(e,i.statusText,i),"function"==typeof n.complete?n.complete(i,i.statusText):void 0}),!(null!=n.beforeSend&&!n.beforeSend(i,n))&&(i.readyState===XMLHttpRequest.OPENED?i.send(n.data):void 0)},o=function(t){return t.url=t.url||location.href,t.type=t.type.toUpperCase(),"GET"===t.type&&t.data&&(t.url.indexOf("?")<0?t.url+="?"+t.data:t.url+="&"+t.data),null==e[t.dataType]&&(t.dataType="*"),t.accept=e[t.dataType],"*"!==t.dataType&&(t.accept+=", */*; q=0.01"),t},t=function(t,e){var n;return(n=new XMLHttpRequest).open(t.type,t.url,!0),n.setRequestHeader("Accept",t.accept),"string"==typeof t.data&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),i(n),n.withCredentials=!!t.withCredentials,n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE)return e(n)},n},a=function(t,e){var n,i;if("string"==typeof t&&"string"==typeof e)if(e.match(/\bjson\b/))try{t=JSON.parse(t)}catch(o){}else if(e.match(/\b(?:java|ecma)script\b/))(i=document.createElement("script")).setAttribute("nonce",r()),i.text=t,document.head.appendChild(i).parentNode.removeChild(i);else if(e.match(/\b(xml|html|svg)\b/)){n=new DOMParser,e=e.replace(/;.+/,"");try{t=n.parseFromString(t,e)}catch(o){}}return t},v.href=function(t){return t.href},v.isCrossDomain=function(t){var e,n;(e=document.createElement("a")).href=location.href,n=document.createElement("a");try{return n.href=t,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return i,!0}}}.call(this),function(){var o,r;o=v.matches,r=function(t){return Array.prototype.slice.call(t)},v.serializeElement=function(t,e){var n,i;return n=[t],o(t,"form")&&(n=r(t.elements)),i=[],n.forEach(function(e){if(e.name&&!e.disabled)return o(e,"select")?r(e.options).forEach(function(t){if(t.selected)return i.push({name:e.name,value:t.value})}):e.checked||-1===["radio","checkbox","submit"].indexOf(e.type)?i.push({name:e.name,value:e.value}):void 0}),e&&i.push(e),i.map(function(t){return null!=t.name?encodeURIComponent(t.name)+"="+encodeURIComponent(t.value):t}).join("&")},v.formElements=function(t,e){return o(t,"form")?r(t.elements).filter(function(t){return o(t,e)}):r(t.querySelectorAll(e))}}.call(this),function(){var e,r,n;r=v.fire,n=v.stopEverything,v.handleConfirm=function(t){if(!e(this))return n(t)},e=function(t){var e,n,i;if(!(i=t.getAttribute("data-confirm")))return!0;if(e=!1,r(t,"confirm")){try{e=confirm(i)}catch(o){}n=r(t,"confirm:complete",[e])}return e&&n}}.call(this),function(){var n,i,o,r,a,s,e,l,c,u,d;c=v.matches,l=v.getData,u=v.setData,d=v.stopEverything,e=v.formElements,v.handleDisabledElement=function(t){if(this.disabled)return d(t)},v.enableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,v.linkDisableSelector)?s(e):c(e,v.buttonDisableSelector)||c(e,v.formEnableSelector)?r(e):c(e,v.formSubmitSelector)?a(e):void 0},v.disableElement=function(t){var e;return e=t instanceof Event?t.target:t,c(e,v.linkDisableSelector)?o(e):c(e,v.buttonDisableSelector)||c(e,v.formDisableSelector)?n(e):c(e,v.formSubmitSelector)?i(e):void 0},o=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e),t.addEventListener("click",d),u(t,"ujs:disabled",!0)},s=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(t.innerHTML=e,u(t,"ujs:enable-with",null)),t.removeEventListener("click",d),u(t,"ujs:disabled",null)},i=function(t){return e(t,v.formDisableSelector).forEach(n)},n=function(t){var e;return null!=(e=t.getAttribute("data-disable-with"))&&(c(t,"button")?(u(t,"ujs:enable-with",t.innerHTML),t.innerHTML=e):(u(t,"ujs:enable-with",t.value),t.value=e)),t.disabled=!0,u(t,"ujs:disabled",!0)},a=function(t){return e(t,v.formEnableSelector).forEach(r)},r=function(t){var e;return null!=(e=l(t,"ujs:enable-with"))&&(c(t,"button")?t.innerHTML=e:t.value=e,u(t,"ujs:enable-with",null)),t.disabled=!1,u(t,"ujs:disabled",null)}}.call(this),function(){var l;l=v.stopEverything,v.handleMethod=function(t){var e,n,i,o,r,a,s;if(s=(a=this).getAttribute("data-method"))return r=v.href(a),n=v.csrfToken(),e=v.csrfParam(),i=document.createElement("form"),o="<input name='_method' value='"+s+"' type='hidden' />",null==e||null==n||v.isCrossDomain(r)||(o+="<input name='"+e+"' value='"+n+"' type='hidden' />"),o+='<input type="submit" />',i.method="post",i.action=r,i.target=a.target,i.innerHTML=o,i.style.display="none",document.body.appendChild(i),i.querySelector('[type="submit"]').click(),l(t)}}.call(this),function(){var l,c,u,d,h,f,p,g,m,E=[].slice;f=v.matches,u=v.getData,g=v.setData,c=v.fire,m=v.stopEverything,l=v.ajax,d=v.isCrossDomain,p=v.serializeElement,h=function(t){var e;return null!=(e=t.getAttribute("data-remote"))&&"false"!==e},v.handleRemote=function(t){var e,n,i,o,r,a,s;return!h(o=this)||(c(o,"ajax:before")?(s=o.getAttribute("data-with-credentials"),i=o.getAttribute("data-type")||"script",f(o,v.formSubmitSelector)?(e=u(o,"ujs:submit-button"),r=u(o,"ujs:submit-button-formmethod")||o.method,a=u(o,"ujs:submit-button-formaction")||o.getAttribute("action")||location.href,"GET"===r.toUpperCase()&&(a=a.replace(/\?.*$/,"")),"multipart/form-data"===o.enctype?(n=new FormData(o),null!=e&&n.append(e.name,e.value)):n=p(o,e),g(o,"ujs:submit-button",null),g(o,"ujs:submit-button-formmethod",null),g(o,"ujs:submit-button-formaction",null)):f(o,v.buttonClickSelector)||f(o,v.inputChangeSelector)?(r=o.getAttribute("data-method"),a=o.getAttribute("data-url"),n=p(o,o.getAttribute("data-params"))):(r=o.getAttribute("data-method"),a=v.href(o),n=o.getAttribute("data-params")),l({type:r||"GET",url:a,data:n,dataType:i,beforeSend:function(t,e){return c(o,"ajax:beforeSend",[t,e])?c(o,"ajax:send",[t]):(c(o,"ajax:stopped"),!1)},success:function(){var t;return t=1<=arguments.length?E.call(arguments,0):[],c(o,"ajax:success",t)},error:function(){var t;return t=1<=arguments.length?E.call(arguments,0):[],c(o,"ajax:error",t)},complete:function(){var t;return t=1<=arguments.length?E.call(arguments,0):[],c(o,"ajax:complete",t)},crossDomain:d(a),withCredentials:null!=s&&"false"!==s}),m(t)):(c(o,"ajax:stopped"),!1))},v.formSubmitButtonClick=function(){var t,e;if(e=(t=this).form)return t.name&&g(e,"ujs:submit-button",{name:t.name,value:t.value}),g(e,"ujs:formnovalidate-button",t.formNoValidate),g(e,"ujs:submit-button-formaction",t.getAttribute("formaction")),g(e,"ujs:submit-button-formmethod",t.getAttribute("formmethod"))},v.handleMetaClick=function(t){var e,n,i;if(i=((n=this).getAttribute("data-method")||"GET").toUpperCase(),e=n.getAttribute("data-params"),(t.metaKey||t.ctrlKey)&&"GET"===i&&!e)return t.stopImmediatePropagation()}}.call(this),function(){var t,i,e,n,o,r,a,s,l,c,u,d,h,f;if(r=v.fire,e=v.delegate,s=v.getData,t=v.$,f=v.refreshCSRFTokens,i=v.CSRFProtection,o=v.enableElement,n=v.disableElement,c=v.handleDisabledElement,l=v.handleConfirm,h=v.handleRemote,a=v.formSubmitButtonClick,u=v.handleMetaClick,d=v.handleMethod,"undefined"!=typeof jQuery&&null!==jQuery&&null!=jQuery.ajax){if(jQuery.rails)throw new Error("If you load both jquery_ujs and rails-ujs, use rails-ujs only.");jQuery.rails=v,jQuery.ajaxPrefilter(function(t,e,n){if(!t.crossDomain)return i(n)})}v.start=function(){if(window._rails_loaded)throw new Error("rails-ujs has already been loaded!");return window.addEventListener("pageshow",function(){return t(v.formEnableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return o(t)}),t(v.linkDisableSelector).forEach(function(t){if(s(t,"ujs:disabled"))return o(t)})}),e(document,v.linkDisableSelector,"ajax:complete",o),e(document,v.linkDisableSelector,"ajax:stopped",o),e(document,v.buttonDisableSelector,"ajax:complete",o),e(document,v.buttonDisableSelector,"ajax:stopped",o),e(document,v.linkClickSelector,"click",c),e(document,v.linkClickSelector,"click",l),e(document,v.linkClickSelector,"click",u),e(document,v.linkClickSelector,"click",n),e(document,v.linkClickSelector,"click",h),e(document,v.linkClickSelector,"click",d),e(document,v.buttonClickSelector,"click",c),e(document,v.buttonClickSelector,"click",l),e(document,v.buttonClickSelector,"click",n),e(document,v.buttonClickSelector,"click",h),e(document,v.inputChangeSelector,"change",c),e(document,v.inputChangeSelector,"change",l),e(document,v.inputChangeSelector,"change",h),e(document,v.formSubmitSelector,"submit",c),e(document,v.formSubmitSelector,"submit",l),e(document,v.formSubmitSelector,"submit",h),e(document,v.formSubmitSelector,"submit",function(t){return setTimeout(function(){return n(t)},13)}),e(document,v.formSubmitSelector,"ajax:send",n),e(document,v.formSubmitSelector,"ajax:complete",o),e(document,v.formInputClickSelector,"click",c),e(document,v.formInputClickSelector,"click",l),e(document,v.formInputClickSelector,"click",a),document.addEventListener("DOMContentLoaded",f),window._rails_loaded=!0},window.Rails===v&&r(document,"rails:attachBindings")&&v.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=v:"function"==typeof define&&define.amd&&define(v)}.call(this),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.ActiveStorage={})}(this,function(t){"use strict";function e(t,e){return t(e={exports:{}},e.exports),e.exports}function a(t){var e=i(document.head,'meta[name="'+t+'"]');if(e)return e.getAttribute("content")}function o(t,e){return"string"==typeof t&&(e=t,t=document),r(t.querySelectorAll(e))}function i(t,e){return"string"==typeof t&&(e=t,t=document),t.querySelector(e)}function l(t,e,n){var i=2<arguments.length&&n!==undefined?arguments[2]:{},o=t.disabled,r=i.bubbles,a=i.cancelable,s=i.detail,l=document.createEvent("Event");l.initEvent(e,r||!0,a||!0),l.detail=s||{};try{t.disabled=!1,t.dispatchEvent(l)}finally{t.disabled=o}return l}function r(t){return Array.isArray(t)?t:Array.from?Array.from(t):[].slice.call(t)}function s(t,e){if(t&&"function"==typeof t[e]){for(var n=arguments.length,i=Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];return t[e].apply(t,i)}}function n(){x||(x=!0,document.addEventListener("click",c,!0),document.addEventListener("submit",u),document.addEventListener("ajax:before",d))}function c(t){var e=t.target;"INPUT"!=e.tagName&&"BUTTON"!=e.tagName||"submit"!=e.type||!e.form||K.set(e.form,e)}function u(t){h(t)}function d(t){"FORM"==t.target.tagName&&h(t)}function h(t){var e=t.target;if(e.hasAttribute(w))t.preventDefault();else{var n=new _(e),i=n.inputs;i.length&&(t.preventDefault(),e.setAttribute(w,""),i.forEach(p),n.start(function(t){e.removeAttribute(w),t?i.forEach(g):f(e)}))}}function f(t){var e=K.get(t)||i(t,"input[type=submit], button[type=submit]");if(e){var n=e.disabled;e.disabled=!1,e.focus(),e.click(),e.disabled=n}else(e=document.createElement("input")).type="submit",e.style.display="none",t.appendChild(e),e.click(),t.removeChild(e);K["delete"](t)}function p(t){t.disabled=!0}function g(t){t.disabled=!1}function m(){window.ActiveStorage&&n()}var E=e(function(t){var e;e=function(u){function c(t,e){var n=t[0],i=t[1],o=t[2],r=t[3];i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&o|~i&r)+e[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&o)+e[1]-389564586|0)<<12|r>>>20)+n|0)&n|~r&i)+e[2]+606105819|0)<<17|o>>>15)+r|0)&r|~o&n)+e[3]-1044525330|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&o|~i&r)+e[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&o)+e[5]+1200080426|0)<<12|r>>>20)+n|0)&n|~r&i)+e[6]-1473231341|0)<<17|o>>>15)+r|0)&r|~o&n)+e[7]-45705983|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&o|~i&r)+e[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&o)+e[9]-1958414417|0)<<12|r>>>20)+n|0)&n|~r&i)+e[10]-42063|0)<<17|o>>>15)+r|0)&r|~o&n)+e[11]-1990404162|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&o|~i&r)+e[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&o)+e[13]-40341101|0)<<12|r>>>20)+n|0)&n|~r&i)+e[14]-1502002290|0)<<17|o>>>15)+r|0)&r|~o&n)+e[15]+1236535329|0)<<22|i>>>10)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&r|o&~r)+e[1]-165796510|0)<<5|n>>>27)+i|0)&o|i&~o)+e[6]-1069501632|0)<<9|r>>>23)+n|0)&i|n&~i)+e[11]+643717713|0)<<14|o>>>18)+r|0)&n|r&~n)+e[0]-373897302|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&r|o&~r)+e[5]-701558691|0)<<5|n>>>27)+i|0)&o|i&~o)+e[10]+38016083|0)<<9|r>>>23)+n|0)&i|n&~i)+e[15]-660478335|0)<<14|o>>>18)+r|0)&n|r&~n)+e[4]-405537848|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&r|o&~r)+e[9]+568446438|0)<<5|n>>>27)+i|0)&o|i&~o)+e[14]-1019803690|0)<<9|r>>>23)+n|0)&i|n&~i)+e[3]-187363961|0)<<14|o>>>18)+r|0)&n|r&~n)+e[8]+1163531501|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i&r|o&~r)+e[13]-1444681467|0)<<5|n>>>27)+i|0)&o|i&~o)+e[2]-51403784|0)<<9|r>>>23)+n|0)&i|n&~i)+e[7]+1735328473|0)<<14|o>>>18)+r|0)&n|r&~n)+e[12]-1926607734|0)<<20|i>>>12)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i^o^r)+e[5]-378558|0)<<4|n>>>28)+i|0)^i^o)+e[8]-2022574463|0)<<11|r>>>21)+n|0)^n^i)+e[11]+1839030562|0)<<16|o>>>16)+r|0)^r^n)+e[14]-35309556|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i^o^r)+e[1]-1530992060|0)<<4|n>>>28)+i|0)^i^o)+e[4]+1272893353|0)<<11|r>>>21)+n|0)^n^i)+e[7]-155497632|0)<<16|o>>>16)+r|0)^r^n)+e[10]-1094730640|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i^o^r)+e[13]+681279174|0)<<4|n>>>28)+i|0)^i^o)+e[0]-358537222|0)<<11|r>>>21)+n|0)^n^i)+e[3]-722521979|0)<<16|o>>>16)+r|0)^r^n)+e[6]+76029189|0)<<23|i>>>9)+o|0,i=((i+=((o=((o+=((r=((r+=((n=((n+=(i^o^r)+e[9]-640364487|0)<<4|n>>>28)+i|0)^i^o)+e[12]-421815835|0)<<11|r>>>21)+n|0)^n^i)+e[15]+530742520|0)<<16|o>>>16)+r|0)^r^n)+e[2]-995338651|0)<<23|i>>>9)+o|0,i=((i+=((r=((r+=(i^((n=((n+=(o^(i|~r))+e[0]-198630844|0)<<6|n>>>26)+i|0)|~o))+e[7]+1126891415|0)<<10|r>>>22)+n|0)^((o=((o+=(n^(r|~i))+e[14]-1416354905|0)<<15|o>>>17)+r|0)|~n))+e[5]-57434055|0)<<21|i>>>11)+o|0,i=((i+=((r=((r+=(i^((n=((n+=(o^(i|~r))+e[12]+1700485571|0)<<6|n>>>26)+i|0)|~o))+e[3]-1894986606|0)<<10|r>>>22)+n|0)^((o=((o+=(n^(r|~i))+e[10]-1051523|0)<<15|o>>>17)+r|0)|~n))+e[1]-2054922799|0)<<21|i>>>11)+o|0,i=((i+=((r=((r+=(i^((n=((n+=(o^(i|~r))+e[8]+1873313359|0)<<6|n>>>26)+i|0)|~o))+e[15]-30611744|0)<<10|r>>>22)+n|0)^((o=((o+=(n^(r|~i))+e[6]-1560198380|0)<<15|o>>>17)+r|0)|~n))+e[13]+1309151649|0)<<21|i>>>11)+o|0,i=((i+=((r=((r+=(i^((n=((n+=(o^(i|~r))+e[4]-145523070|0)<<6|n>>>26)+i|0)|~o))+e[11]-1120210379|0)<<10|r>>>22)+n|0)^((o=((o+=(n^(r|~i))+e[2]+718787259|0)<<15|o>>>17)+r|0)|~n))+e[9]-343485551|0)<<21|i>>>11)+o|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=o+t[2]|0,t[3]=r+t[3]|0}function d(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function h(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function i(t){var e,n,i,o,r,a,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)c(l,d(t.substring(e-64,e)));for(n=(t=t.substring(e-64)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(l,i),e=0;e<16;e+=1)i[e]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),a=parseInt(o[1],16)||0,i[14]=r,i[15]=a,c(l,i),l}function o(t){var e,n,i,o,r,a,s=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=s;e+=64)c(l,h(t.subarray(e-64,e)));for(n=(t=e-64<s?t.subarray(e-64):new Uint8Array(0)).length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)i[e>>2]|=t[e]<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),55<e)for(c(l,i),e=0;e<16;e+=1)i[e]=0;return o=(o=8*s).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(o[2],16),a=parseInt(o[1],16)||0,i[14]=r,i[15]=a,c(l,i),l}function n(t){var e,n="";for(e=0;e<4;e+=1)n+=g[t>>8*e+4&15]+g[t>>8*e&15];return n}function a(t){var e;for(e=0;e<t.length;e+=1)t[e]=n(t[e]);return t.join("")}function r(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function e(t,e){var n,i=t.length,o=new ArrayBuffer(i),r=new Uint8Array(o);for(n=0;n<i;n+=1)r[n]=t.charCodeAt(n);return e?r:o}function s(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}function f(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return a(i("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function c(t,e){return(t=0|t||0)<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(t,e){var n,i,o,r,a=this.byteLength,s=c(t,a),l=a;return e!==u&&(l=c(e,a)),l<s?new ArrayBuffer(0):(n=l-s,i=new ArrayBuffer(n),o=new Uint8Array(i),r=new Uint8Array(this,s,n),o.set(r),i)}}(),p.prototype.append=function(t){return this.appendBinary(r(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)c(this._hash,d(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,n,i=this._buff,o=i.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)r[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(r,o),n=a(this._hash),t&&(n=f(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var n,i,o,r=e;if(t[r>>2]|=128<<(r%4<<3),55<r)for(c(this._hash,t),r=0;r<16;r+=1)t[r]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),o=parseInt(n[1],16)||0,t[14]=i,t[15]=o,c(this._hash,t)},p.hash=function(t,e){return p.hashBinary(r(t),e)},p.hashBinary=function(t,e){var n=a(i(t));return e?f(n):n},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,n=l(this._buff.buffer,t,!0),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)c(this._hash,h(n.subarray(e-64,e)));return this._buff=e-64<i?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,o=i.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)r[e>>2]|=i[e]<<(e%4<<3);return this._finish(r,o),n=a(this._hash),t&&(n=f(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=s(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=e(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=a(o(new Uint8Array(t)));return e?f(n):n},p},t.exports=e()}),v=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},T=function(){function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}}(),y=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,b=function(){function n(t){v(this,n),this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}return T(n,null,[{key:"create",value:function i(t,e){new n(t).create(e)}}]),T(n,[{key:"create",value:function i(t){var e=this;this.callback=t,this.md5Buffer=new E.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",function(t){return e.fileReaderDidLoad(t)}),this.fileReader.addEventListener("error",function(t){return e.fileReaderDidError(t)}),this.readNextChunk()}},{key:"fileReaderDidLoad",value:function o(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){var e=this.md5Buffer.end(!0),n=btoa(e);this.callback(null,n)}}},{key:"fileReaderDidError",value:function t(){this.callback("Error reading "+this.file.name)}},{key:"readNextChunk",value:function r(){if(this.chunkIndex<this.chunkCount||0==this.chunkIndex&&0==this.chunkCount){var t=this.chunkIndex*this.chunkSize,e=Math.min(t+this.chunkSize,this.file.size),n=y.call(this.file,t,e);return this.fileReader.readAsArrayBuffer(n),this.chunkIndex++,!0}return!1}}]),n}(),C=function(){function o(t,e,n){var i=this;v(this,o),this.file=t,this.attributes={filename:t.name,content_type:t.type,byte_size:t.size,checksum:e},this.xhr=new XMLHttpRequest,this.xhr.open("POST",n,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),this.xhr.setRequestHeader("X-CSRF-Token",a("csrf-token")),this.xhr.addEventListener("load",function(t){return i.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return i.requestDidError(t)})}return T(o,[{key:"create",value:function e(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}},{key:"requestDidLoad",value:function i(t){if(200<=this.status&&this.status<300){var e=this.response,n=e.direct_upload;delete e.direct_upload,this.attributes=e,this.directUploadData=n,this.callback(null,this.toJSON())}else this.requestDidError(t)}},{key:"requestDidError",value:function t(){this.callback('Error creating Blob for "'+this.file.name+'". Status: '+this.status)}},{key:"toJSON",value:function n(){var t={};for(var e in this.attributes)t[e]=this.attributes[e];return t}},{key:"status",get:function r(){return this.xhr.status}},{key:"response",get:function r(){var t=this.xhr,e=t.responseType,n=t.response;return"json"==e?n:JSON.parse(n)}}]),o}(),D=function(){function a(t){var e=this;v(this,a),this.blob=t,this.file=t.file;var n=t.directUploadData,i=n.url,o=n.headers;for(var r in this.xhr=new XMLHttpRequest,this.xhr.open("PUT",i,!0),this.xhr.responseType="text",o)this.xhr.setRequestHeader(r,o[r]);this.xhr.addEventListener("load",function(t){return e.requestDidLoad(t)}),this.xhr.addEventListener("error",function(t){return e.requestDidError(t)})}return T(a,[{key:"create",value:function e(t){this.callback=t,this.xhr.send(this.file.slice())}},{key:"requestDidLoad",value:function o(t){var e=this.xhr,n=e.status,i=e.response;200<=n&&n<300?this.callback(null,i):this.requestDidError(t)}},{key:"requestDidError",value:function t(){this.callback('Error storing "'+this.file.name+'". Status: '+this.xhr.status)}}]),a}(),I=0,O=function(){function i(t,e,n){v(this,i),this.id=++I,this.file=t,this.url=e,this.delegate=n}return T(i,[{key:"create",value:function t(i){var o=this;b.create(this.file,function(t,e){if(t)i(t);else{var n=new C(o.file,e,o.url);s(o.delegate,"directUploadWillCreateBlobWithXHR",n.xhr),n.create(function(t){if(t)i(t);else{var e=new D(n);s(o.delegate,"directUploadWillStoreFileWithXHR",e.xhr),e.create(function(t){t?i(t):i(null,n.toJSON())})}})}})}}]),i}(),R=function(){function n(t,e){v(this,n),this.input=t,this.file=e,this.directUpload=new O(this.file,this.url,this),this.dispatch("initialize")}return T(n,[{key:"start",value:function t(n){var i=this,o=document.createElement("input");o.type="hidden",o.name=this.input.name,this.input.insertAdjacentElement("beforebegin",o),this.dispatch("start"),this.directUpload.create(function(t,e){t?(o.parentNode.removeChild(o),i.dispatchError(t)):o.value=e.signed_id,i.dispatch("end"),n(t)})}},{key:"uploadRequestDidProgress",value:function i(t){var e=t.loaded/t.total*100;e&&this.dispatch("progress",{progress:e})}},{key:"dispatch",value:function o(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:{};return n.file=this.file,n.id=this.directUpload.id,l(this.input,"direct-upload:"+t,{detail:n})}},{key:"dispatchError",value:function e(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}},{key:"directUploadWillCreateBlobWithXHR",value:function r(t){this.dispatch("before-blob-request",{xhr:t})}},{key:"directUploadWillStoreFileWithXHR",value:function a(t){var e=this;this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",function(t){return e.uploadRequestDidProgress(t)})}},{key:"url",get:function s(){return this.input.getAttribute("data-direct-upload-url")}}]),n}(),k="input[type=file][data-direct-upload-url]:not([disabled])",_=function(){function e(t){v(this,e),this.form=t,this.inputs=o(t,k).filter(function(t){return t.files.length})}return T(e,[{key:"start",value:function t(e){var n=this,i=this.createDirectUploadControllers(),o=function o(){var t=i.shift();t?t.start(function(t){t?(e(t),n.dispatch("end")):o()}):(e(),n.dispatch("end"))};this.dispatch("start"),o()}},{key:"createDirectUploadControllers",value:function n(){var i=[];return this.inputs.forEach(function(n){r(n.files).forEach(function(t){var e=new R(n,t);i.push(e)})}),i}},{key:"dispatch",value:function i(t,e){var n=1<arguments.length&&e!==undefined?arguments[1]:{};return l(this.form,"direct-uploads:"+t,{detail:n})}}]),e}(),w="data-direct-uploads-processing",K=new WeakMap,x=!1;setTimeout(m,1),t.start=n,t.DirectUpload=O,Object.defineProperty(t,"__esModule",{value:!0})}),function(){var t=this;(function(){(function(){this.Turbolinks={supported:null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener,visit:function(t,e){return u.controller.visit(t,e)},clearCache:function(){return u.controller.clearCache()},setProgressBarDelay:function(t){return u.controller.setProgressBarDelay(t)}}}).call(this)}).call(t);var u=t.Turbolinks;(function(){(function(){var n,i,l,t,e,o,r,a,s,c=[].slice;u.copyObject=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]=i;return n},u.closest=function(t,e){return n.call(t,e)},n=null!=(s=document.documentElement.closest)?s:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&i.call(e,t))return e;e=e.parentNode}},u.defer=function(t){return setTimeout(t,1)},u.throttle=function(n){var i;return i=null,function(){var t,e;return t=1<=arguments.length?c.call(arguments,0):[],null!=i?i:i=requestAnimationFrame((e=this,function(){return i=null,n.apply(e,t)}))}},u.dispatch=function(t,e){var n,i,o,r,a,s;return s=(a=null!=e?e:{}).target,n=a.cancelable,i=a.data,(o=document.createEvent("Events")).initEvent(t,!0,!0===n),o.data=null!=i?i:{},o.cancelable&&!l&&(r=o.preventDefault,o.preventDefault=function(){return this.defaultPrevented||Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}}),r.call(this)}),(null!=s?s:document).dispatchEvent(o),o},(a=document.createEvent("Events")).initEvent("test",!0,!0),a.preventDefault(),l=a.defaultPrevented,u.match=function(t,e){return i.call(t,e)},i=null!=(e=null!=(o=null!=(r=(t=document.documentElement).matchesSelector)?r:t.webkitMatchesSelector)?o:t.msMatchesSelector)?e:t.mozMatchesSelector,u.uuid=function(){var t,e,n;for(n="",t=e=1;e<=36;t=++e)n+=9===t||14===t||19===t||24===t?"-":15===t?"4":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return n}}).call(this),function(){u.Location=function(){function t(t){var e,n;null==t&&(t=""),(n=document.createElement("a")).href=t.toString(),this.absoluteURL=n.href,(e=n.hash.length)<2?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=n.hash.slice(1))}var e,n,i,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split("/",3).join("/")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.requestURL.match(/\/\/[^\/]*(\/[^?;]*)/))?e[1]:void 0)?t:"/"},t.prototype.getPathComponents=function(){return this.getPath().split("/").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\.[^.]*$/))?e[0]:void 0)?t:""},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=n(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){
return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},n=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return i(t,"/")?t:t+"/"},o=function(t,e){return t.slice(0,e.length)===e},i=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.HttpRequest=function(){function t(t,e,n){this.delegate=t,this.requestCanceled=i(this.requestCanceled,this),this.requestTimedOut=i(this.requestTimedOut,this),this.requestFailed=i(this.requestFailed,this),this.requestLoaded=i(this.requestLoaded,this),this.requestProgressed=i(this.requestProgressed,this),this.url=u.Location.wrap(e).requestURL,this.referrer=u.Location.wrap(n).absoluteURL,this.createXHR()}return t.NETWORK_FAILURE=0,t.TIMEOUT_FAILURE=-1,t.timeout=60,t.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,"function"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},t.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},t.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},t.prototype.requestLoaded=function(){return this.endRequest((e=this,function(){var t;return 200<=(t=e.xhr.status)&&t<300?e.delegate.requestCompletedWithResponse(e.xhr.responseText,e.xhr.getResponseHeader("Turbolinks-Location")):(e.failed=!0,e.delegate.requestFailedWithStatusCode(e.xhr.status,e.xhr.responseText))}));var e},t.prototype.requestFailed=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}));var t},t.prototype.requestTimedOut=function(){return this.endRequest((t=this,function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}));var t},t.prototype.requestCanceled=function(){return this.endRequest()},t.prototype.notifyApplicationBeforeRequestStart=function(){return u.dispatch("turbolinks:request-start",{data:{url:this.url,xhr:this.xhr}})},t.prototype.notifyApplicationAfterRequestEnd=function(){return u.dispatch("turbolinks:request-end",{data:{url:this.url,xhr:this.xhr}})},t.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open("GET",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader("Accept","text/html, application/xhtml+xml"),this.xhr.setRequestHeader("Turbolinks-Referrer",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},t.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},t.prototype.setProgress=function(t){var e;return this.progress=t,"function"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},t.prototype.destroy=function(){var t;return this.setProgress(1),"function"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},t}()}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}};u.ProgressBar=function(){function t(){this.trickle=n(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var e;return e=300,t.defaultCSS=".turbolinks-progress-bar {\n  position: fixed;\n  display: block;\n  top: 0;\n  left: 0;\n  height: 3px;\n  background: #0076ff;\n  z-index: 9999;\n  transition: width "+e+"ms ease-out, opacity "+e/2+"ms "+e/2+"ms ease-in;\n  transform: translate3d(0, 0, 0);\n}",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement((t=this,function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}))):void 0;var t},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*e)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,e)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame((t=this,function(){return t.progressElement.style.width=10+90*t.value+"%"}));var t},t.prototype.createStylesheetElement=function(){var t;return(t=document.createElement("style")).type="text/css",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return(t=document.createElement("div")).className="turbolinks-progress-bar",t},t}()}.call(this),function(){var o=function(t,e){return function(){return t.apply(e,arguments)}};u.BrowserAdapter=function(){function t(t){this.controller=t,this.showProgressBar=o(this.showProgressBar,this),this.progressBar=new u.ProgressBar}var n,i,e;return e=u.HttpRequest,n=e.NETWORK_FAILURE,i=e.TIMEOUT_FAILURE,t.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},t.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},t.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||"restore"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},t.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},t.prototype.visitRequestCompleted=function(t){return t.loadResponse()},t.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},t.prototype.visitRequestFinished=function(){return this.hideProgressBar()},t.prototype.visitCompleted=function(t){return t.followRedirect()},t.prototype.pageInvalidated=function(){return this.reload()},t.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,this.controller.progressBarDelay)},t.prototype.showProgressBar=function(){return this.progressBar.show()},t.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},t.prototype.reload=function(){return window.location.reload()},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.History=function(){function t(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1):void 0},t.prototype.push=function(t,e){return t=u.Location.wrap(t),this.update("push",t,e)},t.prototype.replace=function(t,e){return t=u.Location.wrap(t),this.update("replace",t,e)},t.prototype.onPopState=function(t){var e,n,i,o;return this.shouldHandlePopState()&&(o=null!=(n=t.state)?n.turbolinks:void 0)?(e=u.Location.wrap(window.location),i=o.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(e,i)):void 0},t.prototype.onPageLoad=function(){return u.defer((t=this,function(){return t.pageLoaded=!0}));var t},t.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},t.prototype.pageIsLoaded=function(){return this.pageLoaded||"complete"===document.readyState},t.prototype.update=function(t,e,n){var i;return i={turbolinks:{restorationIdentifier:n}},history[t+"State"](i,null,e)},t}()}.call(this),function(){u.HeadDetails=function(){function t(t){var e,n,i,o,r;for(this.elements={},n=0,o=t.length;n<o;n++)(r=t[n]).nodeType===Node.ELEMENT_NODE&&(i=r.outerHTML,(null!=(e=this.elements)[i]?e[i]:e[i]={type:s(r),tracked:a(r),elements:[]}).elements.push(r))}var r,e,n,a,s;return t.fromHeadElement=function(t){var e;return new this(null!=(e=null!=t?t.childNodes:void 0)?e:[])},t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var n;return function(){var t,e;for(n in e=[],t=this.elements)t[n].tracked&&e.push(n);return e}.call(this).join("")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("script",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails("stylesheet",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var n,i,o,r,a,s;for(i in a=[],o=this.elements)s=(r=o[i]).type,n=r.elements,s!==t||e.hasElementWithKey(i)||a.push(n[0]);return a},t.prototype.getProvisionalElements=function(){var t,e,n,i,o,r,a;for(e in n=[],i=this.elements)a=(o=i[e]).type,r=o.tracked,t=o.elements,null!=a||r?1<t.length&&n.push.apply(n,t.slice(1)):n.push.apply(n,t);return n},t.prototype.getMetaValue=function(t){var e;return null!=(e=this.findMetaElementByName(t))?e.getAttribute("content"):void 0},t.prototype.findMetaElementByName=function(t){var e,n,i,o;for(i in e=void 0,o=this.elements)n=o[i].elements,r(n[0],t)&&(e=n[0]);return e},s=function(t){return e(t)?"script":n(t)?"stylesheet":void 0},a=function(t){return"reload"===t.getAttribute("data-turbolinks-track")},e=function(t){return"script"===t.tagName.toLowerCase()},n=function(t){var e;return"style"===(e=t.tagName.toLowerCase())||"link"===e&&"stylesheet"===t.getAttribute("rel")},r=function(t,e){return"meta"===t.tagName.toLowerCase()&&t.getAttribute("name")===e},t}()}.call(this),function(){u.Snapshot=function(){function t(t,e){this.headDetails=t,this.bodyElement=e}return t.wrap=function(t){return t instanceof this?t:"string"==typeof t?this.fromHTMLString(t):this.fromHTMLElement(t)},t.fromHTMLString=function(t){var e;return(e=document.createElement("html")).innerHTML=t,this.fromHTMLElement(e)},t.fromHTMLElement=function(t){var e,n,i;return n=t.querySelector("head"),e=null!=(i=t.querySelector("body"))?i:document.createElement("body"),new this(u.HeadDetails.fromHeadElement(n),e)},t.prototype.clone=function(){return new this.constructor(this.headDetails,this.bodyElement.cloneNode(!0))},t.prototype.getRootLocation=function(){var t,e;return e=null!=(t=this.getSetting("root"))?t:"/",new u.Location(e)},t.prototype.getCacheControlValue=function(){return this.getSetting("cache-control")},t.prototype.getElementForAnchor=function(t){try{return this.bodyElement.querySelector("[id='"+t+"'], a[name='"+t+"']")}catch(u){}},t.prototype.getPermanentElements=function(){return this.bodyElement.querySelectorAll("[id][data-turbolinks-permanent]")},t.prototype.getPermanentElementById=function(t){return this.bodyElement.querySelector("#"+t+"[data-turbolinks-permanent]")},t.prototype.getPermanentElementsPresentInSnapshot=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.getPermanentElements()).length;n<i;n++)e=o[n],t.getPermanentElementById(e.id)&&r.push(e);return r},t.prototype.findFirstAutofocusableElement=function(){return this.bodyElement.querySelector("[autofocus]")},t.prototype.hasAnchor=function(t){return null!=this.getElementForAnchor(t)},t.prototype.isPreviewable=function(){return"no-preview"!==this.getCacheControlValue()},t.prototype.isCacheable=function(){return"no-cache"!==this.getCacheControlValue()},t.prototype.isVisitable=function(){return"reload"!==this.getSetting("visit-control")},t.prototype.getSetting=function(t){return this.headDetails.getMetaValue("turbolinks-"+t)},t}()}.call(this),function(){var r=[].slice;u.Renderer=function(){function t(){}var n;return t.render=function(t,e){var n,i,o;return i=t,n=e,(o=function(t,e,n){n.prototype=t.prototype;var i=new n,o=t.apply(i,e);return Object(o)===o?o:i}(this,3<=arguments.length?r.call(arguments,2):[],function(){})).delegate=i,o.render(n),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return"false"===t.getAttribute("data-turbolinks-eval")?t:((e=document.createElement("script")).textContent=t.textContent,e.async=!1,n(e,t),e)},n=function(t,e){var n,i,o,r,a,s,l;for(s=[],n=0,i=(r=e.attributes).length;n<i;n++)o=(a=r[n]).name,l=a.value,s.push(t.setAttribute(o,l));return s},t}()}.call(this),function(){var s,l,n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;u.SnapshotRenderer=function(t){function e(t,e,n){this.currentSnapshot=t,this.newSnapshot=e,this.isPreview=n,this.currentHeadDetails=this.currentSnapshot.headDetails,this.newHeadDetails=this.newSnapshot.headDetails,this.currentBody=this.currentSnapshot.bodyElement,this.newBody=this.newSnapshot.bodyElement}return n(e,t),e.prototype.render=function(t){return this.shouldRender()?(this.mergeHead(),this.renderView((e=this,function(){return e.replaceBody(),e.isPreview||e.focusFirstAutofocusableElement(),t()}))):this.invalidateView();var e},e.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},e.prototype.replaceBody=function(){var t;return t=this.relocateCurrentBodyPermanentElements(),this.activateNewBodyScriptElements(),this.assignNewBody(),this.replacePlaceholderElementsWithClonedPermanentElements(t)},e.prototype.shouldRender=function(){return this.newSnapshot.isVisitable()&&this.trackedElementsAreIdentical()},e.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},e.prototype.copyNewHeadStylesheetElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadStylesheetElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(t));return o},e.prototype.copyNewHeadScriptElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadScriptElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},e.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getCurrentHeadProvisionalElements()).length;e<n;e++)t=i[e],o.push(document.head.removeChild(t));return o},e.prototype.copyNewHeadProvisionalElements=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getNewHeadProvisionalElements()).length;e<n;e++)t=i[e],o.push(document.head.appendChild(t));return o},e.prototype.relocateCurrentBodyPermanentElements=function(){var t,e,n,i,o,r,a;for(a=[],t=0,e=(r=this.getCurrentBodyPermanentElements()).length;t<e;t++)i=r[t],o=s(i),n=this.newSnapshot.getPermanentElementById(i.id),l(i,o.element),l(n,i),a.push(o);return a},e.prototype.replacePlaceholderElementsWithClonedPermanentElements=function(t){var e,n,i,o,r,a;for(a=[],i=0,o=t.length;i<o;i++)n=(r=t[i]).element,e=r.permanentElement.cloneNode(!0),a.push(l(n,e));return a},e.prototype.activateNewBodyScriptElements=function(){var t,e,n,i,o,r;for(r=[],e=0,i=(o=this.getNewBodyScriptElements()).length;e<i;e++)n=o[e],t=this.createScriptElement(n),r.push(l(n,t));return r},e.prototype.assignNewBody=function(){return document.body=this.newBody},e.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.newSnapshot.findFirstAutofocusableElement())?t.focus():void 0},e.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},e.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},e.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},e.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},e.prototype.getCurrentBodyPermanentElements=function(){return this.currentSnapshot.getPermanentElementsPresentInSnapshot(this.newSnapshot)},e.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll("script")},e}(u.Renderer),s=function(t){var e;return(e=document.createElement("meta")).setAttribute("name","turbolinks-permanent-placeholder"),e.setAttribute("content",t.id),{element:e,permanentElement:t}},l=function(t,e){var n;return(n=t.parentNode)?n.replaceChild(e,t):void 0}}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;u.ErrorRenderer=function(t){function e(t){var e;(e=document.createElement("html")).innerHTML=t,this.newHead=e.querySelector("head"),this.newBody=e.querySelector("body")}return n(e,t),e.prototype.render=function(t){return this.renderView((e=this,function(){return e.replaceHeadAndBody(),e.activateBodyScriptElements(),t()}));var e},e.prototype.replaceHeadAndBody=function(){var t,e;return e=document.head,t=document.body,e.parentNode.replaceChild(this.newHead,e),t.parentNode.replaceChild(this.newBody,t)},e.prototype.activateBodyScriptElements=function(){var t,e,n,i,o,r;for(r=[],e=0,n=(i=this.getScriptElements()).length;e<n;e++)o=i[e],t=this.createScriptElement(o),r.push(o.parentNode.replaceChild(t,o));return r},e.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll("script")},e}(u.Renderer)}.call(this),function(){u.View=function(){function t(t){this.delegate=t,this.htmlElement=document.documentElement}return t.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},t.prototype.getElementForAnchor=function(t){return this.getSnapshot().getElementForAnchor(t)},t.prototype.getSnapshot=function(){return u.Snapshot.fromHTMLElement(this.htmlElement)},t.prototype.render=function(t,e){var n,i,o;return o=t.snapshot,n=t.error,i=t.isPreview,this.markAsPreview(i),null!=o?this.renderSnapshot(o,i,e):this.renderError(n,e)},t.prototype.markAsPreview=function(t){return t?this.htmlElement.setAttribute("data-turbolinks-preview",""):this.htmlElement.removeAttribute("data-turbolinks-preview")},t.prototype.renderSnapshot=function(t,e,n){return u.SnapshotRenderer.render(this.delegate,n,this.getSnapshot(),u.Snapshot.wrap(t),e)},t.prototype.renderError=function(t,e){return u.ErrorRenderer.render(this.delegate,e,t)},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.ScrollManager=function(){function t(t){this.delegate=t,this.onScroll=e(this.onScroll,this),this.onScroll=u.throttle(this.onScroll)}return t.prototype.start=function(){return this.started?void 0:(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)},t.prototype.stop=function(){return this.started?(removeEventListener("scroll",this.onScroll,!1),this.started=!1):void 0},t.prototype.scrollToElement=function(t){return t.scrollIntoView()},t.prototype.scrollToPosition=function(t){var e,n;return e=t.x,n=t.y,window.scrollTo(e,n)},t.prototype.onScroll=function(){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},t.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},t}()}.call(this),function(){u.SnapshotCache=function(){function t(t){this.size=t,this.keys=[],this.snapshots={}}var i;return t.prototype.has=function(t){return i(t)in this.snapshots},t.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},t.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},t.prototype.read=function(t){var e;return e=i(t),this.snapshots[e]},t.prototype.write=function(t,e){var n;return n=i(t),this.snapshots[n]=e},t.prototype.touch=function(t){var e,n;return n=i(t),-1<(e=this.keys.indexOf(n))&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},t.prototype.trim=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=this.keys.splice(this.size)).length;t<n;t++)e=i[t],o.push(delete this.snapshots[e]);return o},i=function(t){return u.Location.wrap(t).toCacheKey()},t}()}.call(this),function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};u.Visit=function(){function t(t,e,n){this.controller=t,this.action=n,this.performScroll=i(this.performScroll,this),this.identifier=u.uuid(),this.location=u.Location.wrap(e),this.adapter=this.controller.adapter,this.state="initialized",this.timingMetrics={}}var n;return t.prototype.start=function(){return"initialized"===this.state?(this.recordTimingMetric("visitStart"),this.state="started",this.adapter.visitStarted(this)):void 0},t.prototype.cancel=function(){var t;return"started"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state="canceled"):void 0},t.prototype.complete=function(){var t;return"started"===this.state?(this.recordTimingMetric("visitEnd"),this.state="completed","function"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},t.prototype.fail=function(){var t;return"started"===this.state?(this.state="failed","function"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},t.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?"replace":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},t.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new u.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},t.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||"restore"!==this.action&&!t.isPreviewable()?void 0:t},t.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},t.prototype.loadCachedSnapshot=function(){var e,n;return(n=this.getCachedSnapshot())?(e=this.shouldIssueRequest(),this.render(function(){var t;return this.cacheSnapshot(),this.controller.render({snapshot:n,isPreview:e},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),e?void 0:this.complete()})):void 0},t.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),"function"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),"function"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},t.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},t.prototype.requestStarted=function(){var t;return this.recordTimingMetric("requestStart"),"function"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},t.prototype.requestProgressed=function(t){var e;return this.progress=t,"function"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},t.prototype.requestCompletedWithResponse=function(t,e){return this.response=t,null!=e&&(this.redirectedToLocation=u.Location.wrap(e)),this.adapter.visitRequestCompleted(this)},t.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},t.prototype.requestFinished=function(){var t;return this.recordTimingMetric("requestEnd"),"function"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},t.prototype.performScroll=function(){return this.scrolled?void 0:("restore"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},t.prototype.scrollToRestoredPosition=function(){var t,e;return null!=(t=null!=(e=this.restorationData)?e.scrollPosition:void 0)?(this.controller.scrollToPosition(t),!0):void 0},t.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},t.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},t.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},t.prototype.getTimingMetrics=function(){return u.copyObject(this.timingMetrics)},n=function(t){switch(t){case"replace":return"replaceHistoryWithLocationAndRestorationIdentifier";case"advance":case"restore":return"pushHistoryWithLocationAndRestorationIdentifier"}},t.prototype.shouldIssueRequest=function(){return"restore"!==this.action||!this.hasCachedSnapshot()},t.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},t.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame((e=this,function(){return e.frame=null,t.call(e)}));var e},t.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};u.Controller=function(){function t(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new u.History(this),this.view=new u.View(this),this.scrollManager=new u.ScrollManager(this),this.restorationData={},this.clearCache(),this.setProgressBarDelay(500)}return t.prototype.start=function(){return u.supported&&!this.started?(addEventListener("click",this.clickCaptured,!0),addEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.stop=function(){return this.started?(removeEventListener("click",this.clickCaptured,!0),removeEventListener("DOMContentLoaded",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},t.prototype.clearCache=function(){return this.cache=new u.SnapshotCache(10)},t.prototype.visit=function(t,e){var n,i;return null==e&&(e={}),t=u.Location.wrap(t),this.applicationAllowsVisitingLocation(t)?this.locationIsVisitable(t)?(n=null!=(i=e.action)?i:"advance",this.adapter.visitProposedToLocationWithAction(t,n)):window.location=t:void 0},t.prototype.startVisitToLocationWithAction=function(t,e,n){var i;return u.supported?(i=this.getRestorationDataForIdentifier(n),this.startVisit(t,e,{restorationData:i})):window.location=t},t.prototype.setProgressBarDelay=function(t){return this.progressBarDelay=t},t.prototype.startHistory=function(){return this.location=u.Location.wrap(window.location),this.restorationIdentifier=u.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.stopHistory=function(){return this.history.stop()},t.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=u.Location.wrap(t),this.history.push(this.location,this.restorationIdentifier)},t.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(t,e){return this.restorationIdentifier=e,this.location=u.Location.wrap(t),this.history.replace(this.location,this.restorationIdentifier)},t.prototype.historyPoppedToLocationWithRestorationIdentifier=function(t,e){var n;return this.restorationIdentifier=e,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(t,"restore",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=u.Location.wrap(t)):this.adapter.pageInvalidated()},t.prototype.getCachedSnapshotForLocation=function(t){var e;return null!=(e=this.cache.get(t))?e.clone():void 0},t.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},t.prototype.cacheSnapshot=function(){var t,e,n;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),e=this.view.getSnapshot(),t=this.lastRenderedLocation,u.defer((n=this,function(){return n.cache.put(t,e.clone())}))):void 0},t.prototype.scrollToAnchor=function(t){var e;return(e=this.view.getElementForAnchor(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},t.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},t.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},t.prototype.scrollPositionChanged=function(t){return this.getCurrentRestorationData().scrollPosition=t},t.prototype.render=function(t,e){return this.view.render(t,e)},t.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},t.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},t.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},t.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},t.prototype.clickCaptured=function(){return removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)},t.prototype.clickBubbled=function(t){var e,n,i;return this.enabled&&this.clickEventIsSignificant(t)&&(n=this.getVisitableLinkForNode(t.target))&&(i=this.getVisitableLocationForLink(n))&&this.applicationAllowsFollowingLinkToLocation(n,i)?(t.preventDefault(),e=this.getActionForLink(n),this.visit(i,{action:e})):void 0},t.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){return!this.notifyApplicationAfterClickingLinkToLocation(t,e).defaultPrevented},t.prototype.applicationAllowsVisitingLocation=function(t){return!this.notifyApplicationBeforeVisitingLocation(t).defaultPrevented},t.prototype.notifyApplicationAfterClickingLinkToLocation=function(t,e){return u.dispatch("turbolinks:click",{target:t,data:{url:e.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationBeforeVisitingLocation=function(t){return u.dispatch("turbolinks:before-visit",{data:{url:t.absoluteURL},cancelable:!0})},t.prototype.notifyApplicationAfterVisitingLocation=function(t){return u.dispatch("turbolinks:visit",{data:{url:t.absoluteURL}})},t.prototype.notifyApplicationBeforeCachingSnapshot=function(){return u.dispatch("turbolinks:before-cache")},t.prototype.notifyApplicationBeforeRender=function(t){return u.dispatch("turbolinks:before-render",{data:{newBody:t}})},t.prototype.notifyApplicationAfterRender=function(){return u.dispatch("turbolinks:render")},t.prototype.notifyApplicationAfterPageLoad=function(t){return null==t&&(t={}),u.dispatch("turbolinks:load",{data:{url:this.location.absoluteURL,timing:t}})},t.prototype.startVisit=function(t,e,n){var i;return null!=(i=this.currentVisit)&&i.cancel(),this.currentVisit=this.createVisit(t,e,n),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},t.prototype.createVisit=function(t,e,n){var i,o,r,a,s;return a=(o=null!=n?n:{}).restorationIdentifier,r=o.restorationData,i=o.historyChanged,(s=new u.Visit(this,t,e)).restorationIdentifier=null!=a?a:u.uuid(),s.restorationData=u.copyObject(r),s.historyChanged=i,s.referrer=this.location,s},t.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},t.prototype.clickEventIsSignificant=function(t){return!(
t.defaultPrevented||t.target.isContentEditable||1<t.which||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},t.prototype.getVisitableLinkForNode=function(t){return this.nodeIsVisitable(t)?u.closest(t,"a[href]:not([target]):not([download])"):void 0},t.prototype.getVisitableLocationForLink=function(t){var e;return e=new u.Location(t.getAttribute("href")),this.locationIsVisitable(e)?e:void 0},t.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute("data-turbolinks-action"))?e:"advance"},t.prototype.nodeIsVisitable=function(t){var e;return!(e=u.closest(t,"[data-turbolinks]"))||"false"!==e.getAttribute("data-turbolinks")},t.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},t.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},t.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},t}()}.call(this),function(){!function(){var t,e;if((t=e=document.currentScript)&&!e.hasAttribute("data-turbolinks-suppress-warning"))for(;t=t.parentNode;)if(t===document.body)return console.warn("You are loading Turbolinks from a <script> element inside the <body> element. This is probably not what you meant to do!\n\nLoad your application\u2019s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\nFor more information, see: https://github.com/turbolinks/turbolinks#working-with-script-elements\n\n\u2014\u2014\nSuppress this warning by adding a `data-turbolinks-suppress-warning` attribute to: %s",e.outerHTML)}()}.call(this),function(){var t,e,n;u.start=function(){return e()?(null==u.controller&&(u.controller=t()),u.controller.start()):void 0},e=function(){return null==window.Turbolinks&&(window.Turbolinks=u),n()},t=function(){var t;return(t=new u.Controller).adapter=new u.BrowserAdapter(t),t},(n=function(){return window.Turbolinks===u})()&&u.start()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=u:"function"==typeof define&&define.amd&&define(u)}.call(this),function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(I,t){"use strict";function g(t,e,n){var i,o=(e=e||at).createElement("script");if(o.text=t,n)for(i in yt)n[i]&&(o[i]=n[i]);e.head.appendChild(o).parentNode.removeChild(o)}function m(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ht[ft.call(t)]||"object":typeof t}function s(t){var e=!!t&&"length"in t&&t.length,n=m(t);return!vt(t)&&!Tt(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function c(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}function e(t,n,i){return vt(n)?Ct.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?Ct.grep(t,function(t){return t===n!==i}):"string"!=typeof n?Ct.grep(t,function(t){return-1<dt.call(n,t)!==i}):Ct.filter(n,t,i)}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return Ct.each(t.match(At)||[],function(t,e){n[e]=!0}),n}function d(t){return t}function h(t){throw t}function l(t,e,n,i){var o;try{t&&vt(o=t.promise)?o.call(t).done(e).fail(n):t&&vt(o=t.then)?o.call(t,e,n):e.apply(undefined,[t].slice(i))}catch(t){n.apply(undefined,[t])}}function i(){at.removeEventListener("DOMContentLoaded",i),I.removeEventListener("load",i),Ct.ready()}function o(t,e){return e.toUpperCase()}function f(t){return t.replace(Ft,"ms-").replace(Bt,o)}function r(){this.expando=Ct.expando+r.uid++}function a(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:qt.test(t)?JSON.parse(t):t)}function p(t,e,n){var i;if(n===undefined&&1===t.nodeType)if(i="data-"+e.replace(Ht,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=a(n)}catch(o){}jt.set(t,e,n)}else n=undefined;return n}function E(t,e,n,i){var o,r,a=20,s=i?function(){return i.cur()}:function(){return Ct.css(t,e,"")},l=s(),c=n&&n[3]||(Ct.cssNumber[e]?"":"px"),u=(Ct.cssNumber[e]||"px"!==c&&+l)&&Wt.exec(Ct.css(t,e));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)Ct.style(t,e,u+c),(1-r)*(1-(r=s()/l||.5))<=0&&(a=0),u/=r;u*=2,Ct.style(t,e,u+c),n=n||[]}return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function v(t){var e,n=t.ownerDocument,i=t.nodeName,o=Xt[i];return o||(e=n.body.appendChild(n.createElement(i)),o=Ct.css(e,"display"),e.parentNode.removeChild(e),"none"===o&&(o="block"),Xt[i]=o)}function T(t,e){for(var n,i,o=[],r=0,a=t.length;r<a;r++)(i=t[r]).style&&(n=i.style.display,e?("none"===n&&(o[r]=$t.get(i,"display")||null,o[r]||(i.style.display="")),""===i.style.display&&Vt(i)&&(o[r]=v(i))):"none"!==n&&(o[r]="none",$t.set(i,"display",n)));for(r=0;r<a;r++)null!=o[r]&&(t[r].style.display=o[r]);return t}function y(t,e){var n;return n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[],e===undefined||e&&c(t,e)?Ct.merge([t],n):n}function b(t,e){for(var n=0,i=t.length;n<i;n++)$t.set(t[n],"globalEval",!e||$t.get(e[n],"globalEval"))}function C(t,e,n,i,o){for(var r,a,s,l,c,u,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===m(r))Ct.merge(h,r.nodeType?[r]:r);else if(ne.test(r)){for(a=a||d.appendChild(e.createElement("div")),s=(Yt.exec(r)||["",""])[1].toLowerCase(),l=Zt[s]||Zt._default,a.innerHTML=l[1]+Ct.htmlPrefilter(r)+l[2],u=l[0];u--;)a=a.lastChild;Ct.merge(h,a.childNodes),(a=d.firstChild).textContent=""}else h.push(e.createTextNode(r));for(d.textContent="",f=0;r=h[f++];)if(i&&-1<Ct.inArray(r,i))o&&o.push(r);else if(c=Ct.contains(r.ownerDocument,r),a=y(d.appendChild(r),"script"),c&&b(a),n)for(u=0;r=a[u++];)Qt.test(r.type||"")&&n.push(r);return d}function D(){return!0}function O(){return!1}function R(){try{return at.activeElement}catch(t){}}function k(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)k(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=O;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return Ct().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=Ct.guid++)),t.each(function(){Ct.event.add(this,e,o,i,n)})}function _(t,e){return c(t,"table")&&c(11!==e.nodeType?e:e.firstChild,"tr")&&Ct(t).children("tbody")[0]||t}function w(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function K(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function x(t,e){var n,i,o,r,a,s,l,c;if(1===e.nodeType){if($t.hasData(t)&&(r=$t.access(t),a=$t.set(e,r),c=r.events))for(o in delete a.handle,a.events={},c)for(n=0,i=c[o].length;n<i;n++)Ct.event.add(e,o,c[o][n]);jt.hasData(t)&&(s=jt.access(t),l=Ct.extend({},s),jt.set(e,l))}}function S(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Jt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function A(n,i,o,r){i=ct.apply([],i);var t,e,a,s,l,c,u=0,d=n.length,h=d-1,f=i[0],p=vt(f);if(p||1<d&&"string"==typeof f&&!Et.checkClone&&ce.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),A(e,i,o,r)});if(d&&(e=(t=C(i,n[0].ownerDocument,!1,n,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(s=(a=Ct.map(y(t,"script"),w)).length;u<d;u++)l=t,u!==h&&(l=Ct.clone(l,!0,!0),s&&Ct.merge(a,y(l,"script"))),o.call(n[u],l,u);if(s)for(c=a[a.length-1].ownerDocument,Ct.map(a,K),u=0;u<s;u++)l=a[u],Qt.test(l.type||"")&&!$t.access(l,"globalEval")&&Ct.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ct._evalUrl&&Ct._evalUrl(l.src):g(l.textContent.replace(ue,""),c,l))}return n}function N(t,e,n){for(var i,o=e?Ct.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||Ct.cleanData(y(i)),i.parentNode&&(n&&Ct.contains(i.ownerDocument,i)&&b(y(i,"script")),i.parentNode.removeChild(i));return t}function L(t,e,n){var i,o,r,a,s=t.style;return(n=n||he(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||Ct.contains(t.ownerDocument,t)||(a=Ct.style(t,e)),!Et.pixelBoxStyles()&&de.test(a)&&fe.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r)),a!==undefined?a+"":a}function P(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function F(t){if(t in Te)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ve.length;n--;)if((t=ve[n]+e)in Te)return t}function B(t){var e=Ct.cssProps[t];return e||(e=Ct.cssProps[t]=F(t)||t),e}function M(t,e,n){var i=Wt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function $(t,e,n,i,o,r){var a="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=Ct.css(t,n+zt[a],!0,o)),i?("content"===n&&(l-=Ct.css(t,"padding"+zt[a],!0,o)),"margin"!==n&&(l-=Ct.css(t,"border"+zt[a]+"Width",!0,o))):(l+=Ct.css(t,"padding"+zt[a],!0,o),"padding"!==n?l+=Ct.css(t,"border"+zt[a]+"Width",!0,o):s+=Ct.css(t,"border"+zt[a]+"Width",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-s-.5))),l}function j(t,e,n){var i=he(t),o=L(t,e,i),r="border-box"===Ct.css(t,"boxSizing",!1,i),a=r;if(de.test(o)){if(!n)return o;o="auto"}return a=a&&(Et.boxSizingReliable()||o===t.style[e]),("auto"===o||!parseFloat(o)&&"inline"===Ct.css(t,"display",!1,i))&&(o=t["offset"+e[0].toUpperCase()+e.slice(1)],a=!0),(o=parseFloat(o)||0)+$(t,e,n||(r?"border":"content"),a,i,o)+"px"}function q(t,e,n,i,o){return new q.prototype.init(t,e,n,i,o)}function H(){be&&(!1===at.hidden&&I.requestAnimationFrame?I.requestAnimationFrame(H):I.setTimeout(H,Ct.fx.interval),Ct.fx.tick())}function U(){return I.setTimeout(function(){ye=undefined}),ye=Date.now()}function W(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=zt[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function z(t,e,n){for(var i,o=(X.tweeners[e]||[]).concat(X.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function V(t,e,n){var i,o,r,a,s,l,c,u,d="width"in e||"height"in e,h=this,f={},p=t.style,g=t.nodeType&&Vt(t),m=$t.get(t,"fxshow");for(i in n.queue||(null==(a=Ct._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Ct.queue(t,"fx").length||a.empty.fire()})})),e)if(o=e[i],Ie.test(o)){if(delete e[i],r=r||"toggle"===o,o===(g?"hide":"show")){if("show"!==o||!m||m[i]===undefined)continue;g=!0}f[i]=m&&m[i]||Ct.style(t,i)}if((l=!Ct.isEmptyObject(e))||!Ct.isEmptyObject(f))for(i in d&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=m&&m.display)&&(c=$t.get(t,"display")),"none"===(u=Ct.css(t,"display"))&&(c?u=c:(T([t],!0),c=t.style.display||c,u=Ct.css(t,"display"),T([t]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===Ct.css(t,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(m?"hidden"in m&&(g=m.hidden):m=$t.access(t,"fxshow",{display:c}),r&&(m.hidden=!g),g&&T([t],!0),h.done(function(){for(i in g||T([t]),$t.remove(t,"fxshow"),f)Ct.style(t,i,f[i])})),l=z(g?m[i]:0,i,h),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}function G(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=f(n)],r=t[n],Array.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=Ct.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function X(r,t,e){var n,a,i=0,o=X.prefilters.length,s=Ct.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=ye||U(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(o||s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:Ct.extend({},t),opts:Ct.extend(!0,{specialEasing:{},easing:Ct.easing._default},e),originalProperties:t,originalOptions:e,startTime:ye||U(),duration:e.duration,tweens:[],createTween:function(t,e){var n=Ct.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,t])):s.rejectWith(r,[c,t]),this}}),u=c.props;for(G(u,c.opts.specialEasing);i<o;i++)if(n=X.prefilters[i].call(c,r,u,c.opts))return vt(n.stop)&&(Ct._queueHooks(c.elem,c.opts.queue).stop=n.stop.bind(n)),n;return Ct.map(u,z,c),vt(c.opts.start)&&c.opts.start.call(r,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),Ct.fx.timer(Ct.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c}function J(t){return(t.match(At)||[]).join(" ")}function Y(t){return t.getAttribute&&t.getAttribute("class")||""}function Q(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(At)||[]}function Z(n,t,i,o){var e;if(Array.isArray(t))Ct.each(t,function(t,e){i||Pe.test(n)?o(n,e):Z(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==m(t))o(n,t);else for(e in t)Z(n+"["+e+"]",t[e],i,o)}function tt(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(At)||[];if(vt(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function et(e,o,r,a){function s(t){var i;return l[t]=!0,Ct.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===Ge;return s(o.dataTypes[0])||!l["*"]&&s("*")}function nt(t,e){var n,i,o=Ct.ajaxSettings.flatOptions||{};for(n in e)e[n]!==undefined&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&Ct.extend(!0,t,i),t}function it(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}if(r)return r!==l[0]&&l.unshift(r),n[r]}function ot(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}var rt=[],at=I.document,st=Object.getPrototypeOf,lt=rt.slice,ct=rt.concat,ut=rt.push,dt=rt.indexOf,ht={},ft=ht.toString,pt=ht.hasOwnProperty,gt=pt.toString,mt=gt.call(Object),Et={},vt=function vt(t){return"function"==typeof t&&"number"!=typeof t.nodeType},Tt=function Tt(t){return null!=t&&t===t.window},yt={type:!0,src:!0,noModule:!0},bt="3.3.1",Ct=function(t,e){return new Ct.fn.init(t,e)},Dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ct.fn=Ct.prototype={jquery:bt,constructor:Ct,length:0,toArray:function(){return lt.call(this)},get:function(t){return null==t?lt.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=Ct.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return Ct.each(this,t)},map:function(n){return this.pushStack(Ct.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(lt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ut,sort:rt.sort,splice:rt.splice},Ct.extend=Ct.fn.extend=function(t){var e,n,i,o,r,a,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||vt(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(e=arguments[l]))for(n in e)i=s[n],s!==(o=e[n])&&(u&&o&&(Ct.isPlainObject(o)||(r=Array.isArray(o)))?(r?(r=!1,a=i&&Array.isArray(i)?i:[]):a=i&&Ct.isPlainObject(i)?i:{},s[n]=Ct.extend(u,a,o)):o!==undefined&&(s[n]=o));return s},Ct.extend({expando:"jQuery"+(bt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==ft.call(t))&&(!(e=st(t))||"function"==typeof(n=pt.call(e,"constructor")&&e.constructor)&&gt.call(n)===mt)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){g(t)},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(Dt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?Ct.merge(n,"string"==typeof t?[t]:t):ut.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:dt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(s(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return ct.apply([],a)},guid:1,support:Et}),"function"==typeof Symbol&&(Ct.fn[Symbol.iterator]=rt[Symbol.iterator]),Ct.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ht["[object "+e+"]"]=e.toLowerCase()});var It=function(n){function y(t,e,n,i){var o,r,a,s,l,c,u,d=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&((e?e.ownerDocument||e:j)!==A&&S(e),e=e||A,L)){if(11!==h&&(l=Et.exec(t)))if(o=l[1]){if(9===h){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(d&&(a=d.getElementById(o))&&M(e,a)&&a.id===o)return n.push(a),n}else{if(l[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=l[3])&&C.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(C.qsa&&!z[t+" "]&&(!P||!P.test(t))){if(1!==h)d=e,u=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(bt,Ct):e.setAttribute("id",s=$),r=(c=R(t)).length;r--;)c[r]="#"+s+" "+g(c[r]);u=c.join(","),d=vt.test(t)&&p(e.parentNode)||e}if(u)try{return Q.apply(n,d.querySelectorAll(u)),n}catch(f){}finally{s===$&&e.removeAttribute("id")}}}return _(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>D.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[$]=!0,t}function o(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)D.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&It(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function s(a){return l(function(r){return r=+r,l(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function p(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function g(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,c=t.next,u=c||l,d=e&&"parentNode"===u,h=H++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||d)return s(t,e,n);return!1}:function(t,e,n){var i,o,r,a=[q,h];if(n){for(;t=t[l];)if((1===t.nodeType||d)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||d)if(o=(r=t[$]||(t[$]={}))[t.uniqueID]||(r[t.uniqueID]={}),c&&c===t.nodeName.toLowerCase())t=t[l]||t;else{if((i=o[u])&&i[0]===q&&i[1]===h)return a[2]=i[2];if((o[u]=a)[2]=s(t,e,n))return!0}return!1}}function h(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function v(t,e,n){for(var i=0,o=e.length;i<o;i++)y(t,e[i],n);return n}function b(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function T(f,p,g,m,E,t){return m&&!m[$]&&(m=T(m)),E&&!E[$]&&(E=T(E,t)),l(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,u=t||v(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:b(u,s,f,n,i),h=g?E||(t?f:c||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(o=b(h,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(t){if(E||f){if(E){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);E(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=E?tt(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=b(h===e?h.splice(c,h.length):h),E?E(null,e,h,i):Q.apply(e,h)})}function f(t){for(var o,e,n,i=t.length,r=D.relative[t[0].type],a=r||D.relative[" "],s=r?1:0,l=d(function(t){return t===o},a,!0),c=d(function(t){return-1<tt(o,t)},a,!0),u=[function(t,e,n){var i=!r&&(n||e!==w)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=D.relative[t[s].type])u=[d(h(u),e)];else{if((e=D.filter[t[s].type].apply(null,t[s].matches))[$]){for(n=++s;n<i&&!D.relative[t[n].type];n++);return T(1<s&&h(u),1<s&&g(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&f(t.slice(s,n)),n<i&&f(t=t.slice(n)),n<i&&g(t))}u.push(e)}return h(u)}function m(m,E){var v=0<E.length,T=0<m.length,t=function(t,e,n,i,o){var r,a,s,l=0,c="0",u=t&&[],d=[],h=w,f=t||T&&D.find.TAG("*",o),p=q+=null==h?1:Math.random()||.1,g=f.length;for(o&&(w=e===A||e||o);c!==g&&null!=(r=f[c]);c++){if(T&&r){for(a=0,e||r.ownerDocument===A||(S(r),n=!L);s=m[a++];)if(s(r,e||A,n)){i.push(r);break}o&&(q=p)}v&&((r=!s&&r)&&l--,t&&u.push(r))}if(l+=c,v&&c!==l){for(a=0;s=E[a++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=J.call(i));d=b(d)}Q.apply(i,d),o&&!t&&0<d.length&&1<l+E.length&&y.uniqueSort(i)}return o&&(q=p,w=h),u};return v?l(t):t}var E,C,D,I,O,R,k,_,w,K,x,S,A,N,L,P,F,B,M,$="sizzle"+1*new Date,j=n.document,q=0,H=0,U=t(),W=t(),z=t(),V=function(t,e){return t===e&&(x=!0),0},G={}.hasOwnProperty,X=[],J=X.pop,Y=X.push,Q=X.push,Z=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,Et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,Tt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),yt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},bt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ct=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Dt=function(){S()},It=d(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{Q.apply(X=Z.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(Ot){Q={apply:X.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(E in C=y.support={},O=y.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},S=y.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:j;return i!==A&&9===i.nodeType&&i.documentElement&&(N=(A=i).documentElement,L=!O(A),j!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Dt,!1):n.attachEvent&&n.attachEvent("onunload",Dt)),C.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=o(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=mt.test(A.getElementsByClassName),C.getById=o(function(t){return N.appendChild(t).id=$,!A.getElementsByName||!A.getElementsByName($).length}),C.getById?(D.filter.ID=function(t){var e=t.replace(Tt,yt);return function(t){return t.getAttribute("id")===e}},D.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n=e.getElementById(t);return n?[n]:[]}}):(D.filter.ID=function(t){var n=t.replace(Tt,yt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}},D.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),D.find.TAG=C.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):C.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},D.find.CLASS=C.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&L)return e.getElementsByClassName(t)},F=[],P=[],(C.qsa=mt.test(A.querySelectorAll))&&(o(function(t){N.appendChild(t).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||P.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+$+"-]").length||P.push("~="),t.querySelectorAll(":checked").length||P.push(":checked"),t.querySelectorAll("a#"+$+"+*").length||P.push(".#.+[+~]")}),o(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&P.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),P.push(",.*:")})),(C.matchesSelector=mt.test(B=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(t){C.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),F.push("!=",rt)}),P=P.length&&new RegExp(P.join("|")),F=F.length&&new RegExp(F.join("|")),e=mt.test(N.compareDocumentPosition),M=e||mt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return x=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===j&&M(j,t)?-1:e===A||e.ownerDocument===j&&M(j,e)?1:K?tt(K,t)-tt(K,e):0:4&n?-1:1)}:function(t,e){if(t===e)return x=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===A?-1:e===A?1:o?-1:r?1:K?tt(K,t)-tt(K,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===j?-1:s[i]===j?1:0}),A},y.matches=function(t,e){return y(t,null,null,e)},y.matchesSelector=function(t,e){if((t.ownerDocument||t)!==A&&S(t),e=e.replace(ut,"='$1']"),C.matchesSelector&&L&&!z[e+" "]&&(!F||!F.test(e))&&(!P||!P.test(e)))try{var n=B.call(t,e);if(n||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Ot){}return 0<y(e,A,null,[t]).length},y.contains=function(t,e){return(t.ownerDocument||t)!==A&&S(t),M(t,e)},y.attr=function(t,e){(t.ownerDocument||t)!==A&&S(t);var n=D.attrHandle[e.toLowerCase()],i=n&&G.call(D.attrHandle,e.toLowerCase())?n(t,e,!L):undefined;return i!==undefined?i:C.attributes||!L?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},y.escape=function(t){return(t+"").replace(bt,Ct)},y.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},y.uniqueSort=function(t){var e,n=[],i=0,o=0;if(x=!C.detectDuplicates,K=!C.sortStable&&t.slice(0),t.sort(V),x){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return K=null,t},I=y.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=I(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=I(e);return n},(D=y.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Tt,yt),t[3]=(t[3]||t[4]||t[5]||"").replace(Tt,yt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||y.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&y.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=R(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Tt,yt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=y.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,g,m){var E="nth"!==p.slice(0,3),v="last"!==p.slice(-4),T="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=E!==v?"nextSibling":"previousSibling",u=t.parentNode,d=T&&t.nodeName.toLowerCase(),h=!n&&!T,f=!1;if(u){if(E){for(;c;){for(a=t;a=a[c];)if(T?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(f=(s=(i=(o=(r=(a=u)[$]||(a[$]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===q&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===t){o[p]=[q,s,f];break}}else if(h&&(f=s=(i=(o=(r=(a=t)[$]||(a[$]={}))[a.uniqueID]||(
r[a.uniqueID]={}))[p]||[])[0]===q&&i[1]),!1===f)for(;(a=++s&&a&&a[c]||(f=s=0)||l.pop())&&((T?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(h&&((o=(r=a[$]||(a[$]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]=[q,f]),a!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,r){var e,a=D.pseudos[t]||D.setFilters[t.toLowerCase()]||y.error("unsupported pseudo: "+t);return a[$]?a(r):1<a.length?(e=[t,t,"",r],D.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],o=[],s=k(t.replace(st,"$1"));return s[$]?l(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<y(e,t).length}}),contains:l(function(e){return e=e.replace(Tt,yt),function(t){return-1<(t.textContent||t.innerText||I(t)).indexOf(e)}}),lang:l(function(n){return ht.test(n||"")||y.error("unsupported lang: "+n),n=n.replace(Tt,yt).toLowerCase(),function(t){var e;do{if(e=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===N},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:a(!1),disabled:a(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!D.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:s(function(){return[0]}),last:s(function(t,e){return[e-1]}),eq:s(function(t,e,n){return[n<0?n+e:n]}),even:s(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:s(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:s(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:s(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=D.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})D.pseudos[E]=i(E);for(E in{submit:!0,reset:!0})D.pseudos[E]=r(E);return u.prototype=D.filters=D.pseudos,D.setFilters=new u,R=y.tokenize=function(t,e){var n,i,o,r,a,s,l,c=W[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=D.preFilter;a;){for(r in n&&!(i=lt.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=ct.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),D.filter)!(i=ft[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?y.error(t):W(t,s).slice(0)},k=y.compile=function(t,e){var n,i=[],o=[],r=z[t+" "];if(!r){for(e||(e=R(t)),n=e.length;n--;)(r=f(e[n]))[$]?i.push(r):o.push(r);(r=z(t,m(o,i))).selector=t}return r},_=y.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,u=!i&&R(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&9===e.nodeType&&L&&D.relative[r[1].type]){if(!(e=(D.find.ID(a.matches[0].replace(Tt,yt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!D.relative[s=a.type]);)if((l=D.find[s])&&(i=l(a.matches[0].replace(Tt,yt),vt.test(r[0].type)&&p(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&g(r)))return Q.apply(n,i),n;break}}return(c||k(t,u))(i,e,!L,n,!e||vt.test(t)&&p(e.parentNode)||e),n},C.sortStable=$.split("").sort(V).join("")===$,C.detectDuplicates=!!x,S(),C.sortDetached=o(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),C.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),y}(I);Ct.find=It,Ct.expr=It.selectors,Ct.expr[":"]=Ct.expr.pseudos,Ct.uniqueSort=Ct.unique=It.uniqueSort,Ct.text=It.getText,Ct.isXMLDoc=It.isXML,Ct.contains=It.contains,Ct.escapeSelector=It.escape;var Ot=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&Ct(t).is(n))break;i.push(t)}return i},Rt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},kt=Ct.expr.match.needsContext,_t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ct.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?Ct.find.matchesSelector(i,t)?[i]:[]:Ct.find.matches(t,Ct.grep(e,function(t){return 1===t.nodeType}))},Ct.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(Ct(t).filter(function(){for(e=0;e<i;e++)if(Ct.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)Ct.find(t,o[e],n);return 1<i?Ct.uniqueSort(n):n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&kt.test(t)?Ct(t):t||[],!1).length}});var wt,Kt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(Ct.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||wt,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):vt(t)?n.ready!==undefined?n.ready(t):t(Ct):Ct.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:Kt.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Ct?e[0]:e,Ct.merge(this,Ct.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:at,!0)),_t.test(i[1])&&Ct.isPlainObject(e))for(i in e)vt(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(o=at.getElementById(i[2]))&&(this[0]=o,this.length=1),this}).prototype=Ct.fn,wt=Ct(at);var xt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};Ct.fn.extend({has:function(t){var e=Ct(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(Ct.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,r=[],a="string"!=typeof t&&Ct(t);if(!kt.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&Ct.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?Ct.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?dt.call(Ct(t),this[0]):dt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Ct.uniqueSort(Ct.merge(this.get(),Ct(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Ot(t,"parentNode")},parentsUntil:function(t,e,n){return Ot(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return Ot(t,"nextSibling")},prevAll:function(t){return Ot(t,"previousSibling")},nextUntil:function(t,e,n){return Ot(t,"nextSibling",n)},prevUntil:function(t,e,n){return Ot(t,"previousSibling",n)},siblings:function(t){return Rt((t.parentNode||{}).firstChild,t)},children:function(t){return Rt(t.firstChild)},contents:function(t){return c(t,"iframe")?t.contentDocument:(c(t,"template")&&(t=t.content||t),Ct.merge([],t.childNodes))}},function(i,o){Ct.fn[i]=function(t,e){var n=Ct.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=Ct.filter(e,n)),1<this.length&&(St[i]||Ct.uniqueSort(n),xt.test(i)&&n.reverse()),this.pushStack(n)}});var At=/[^\x20\t\r\n\f]+/g;Ct.Callbacks=function(i){i="string"==typeof i?u(i):Ct.extend({},i);var o,t,e,n,r=[],a=[],s=-1,l=function(){for(n=n||i.once,e=o=!0;a.length;s=-1)for(t=a.shift();++s<r.length;)!1===r[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=r.length,t=!1);i.memory||(t=!1),o=!1,n&&(r=t?[]:"")},c={add:function(){return r&&(t&&!o&&(s=r.length-1,a.push(t)),function n(t){Ct.each(t,function(t,e){vt(e)?i.unique&&c.has(e)||r.push(e):e&&e.length&&"string"!==m(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return Ct.each(arguments,function(t,e){for(var n;-1<(n=Ct.inArray(e,r,n));)r.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<Ct.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return n=a=[],r=t="",this},disabled:function(){return!r},lock:function(){return n=a=[],t||o||(r=t=""),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},Ct.extend({Deferred:function(t){var r=[["notify","progress",Ct.Callbacks("memory"),Ct.Callbacks("memory"),2],["resolve","done",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),0,"resolved"],["reject","fail",Ct.Callbacks("once memory"),Ct.Callbacks("once memory"),1,"rejected"]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(t){return a.then(null,t)},pipe:function(){var o=arguments;return Ct.Deferred(function(i){Ct.each(r,function(t,e){var n=vt(o[e[4]])&&o[e[4]];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&vt(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),o=null}).promise()},then:function(e,n,i){function c(r,a,s,l){return function(){var n=this,i=arguments,e=function(){var t,e;if(!(r<u)){if((t=s.apply(n,i))===a.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,vt(e)?l?e.call(t,c(u,a,d,l),c(u,a,h,l)):(u++,e.call(t,c(u,a,d,l),c(u,a,h,l),c(u,a,d,a.notifyWith))):(s!==d&&(n=undefined,i=[t]),(l||a.resolveWith)(n,i))}},o=l?e:function(){try{e()}catch(t){Ct.Deferred.exceptionHook&&Ct.Deferred.exceptionHook(t,o.stackTrace),u<=r+1&&(s!==h&&(n=undefined,i=[t]),a.rejectWith(n,i))}};r?o():(Ct.Deferred.getStackHook&&(o.stackTrace=Ct.Deferred.getStackHook()),I.setTimeout(o))}}var u=0;return Ct.Deferred(function(t){r[0][3].add(c(0,t,vt(i)?i:d,t.notifyWith)),r[1][3].add(c(0,t,vt(e)?e:d)),r[2][3].add(c(0,t,vt(n)?n:h))}).promise()},promise:function(t){return null!=t?Ct.extend(t,a):a}},s={};return Ct.each(r,function(t,e){var n=e[2],i=e[5];a[e[1]]=n.add,i&&n.add(function(){o=i},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),n.add(e[3].fire),s[e[0]]=function(){return s[e[0]+"With"](this===s?undefined:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var n=arguments.length,e=n,i=Array(e),o=lt.call(arguments),r=Ct.Deferred(),a=function(e){return function(t){i[e]=this,o[e]=1<arguments.length?lt.call(arguments):t,--n||r.resolveWith(i,o)}};if(n<=1&&(l(t,r.done(a(e)).resolve,r.reject,!n),"pending"===r.state()||vt(o[e]&&o[e].then)))return r.then();for(;e--;)l(o[e],a(e),r.reject);return r.promise()}});var Nt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ct.Deferred.exceptionHook=function(t,e){I.console&&I.console.warn&&t&&Nt.test(t.name)&&I.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},Ct.readyException=function(t){I.setTimeout(function(){throw t})};var Lt=Ct.Deferred();Ct.fn.ready=function(t){return Lt.then(t)["catch"](function(t){Ct.readyException(t)}),this},Ct.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--Ct.readyWait:Ct.isReady)||(Ct.isReady=!0)!==t&&0<--Ct.readyWait||Lt.resolveWith(at,[Ct])}}),Ct.ready.then=Lt.then,"complete"===at.readyState||"loading"!==at.readyState&&!at.documentElement.doScroll?I.setTimeout(Ct.ready):(at.addEventListener("DOMContentLoaded",i),I.addEventListener("load",i));var Pt=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===m(n))for(s in o=!0,n)Pt(t,e,s,n[s],!0,r,a);else if(i!==undefined&&(o=!0,vt(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(Ct(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Ft=/^-ms-/,Bt=/-([a-z])/g,Mt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};r.uid=1,r.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Mt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[f(e)]=n;else for(i in e)o[f(i)]=e[i];return o},get:function(t,e){return e===undefined?this.cache(t):t[this.expando]&&t[this.expando][f(e)]},access:function(t,e,n){return e===undefined||e&&"string"==typeof e&&n===undefined?this.get(t,e):(this.set(t,e,n),n!==undefined?n:e)},remove:function(t,e){var n,i=t[this.expando];if(i!==undefined){if(e!==undefined){n=(e=Array.isArray(e)?e.map(f):(e=f(e))in i?[e]:e.match(At)||[]).length;for(;n--;)delete i[e[n]]}(e===undefined||Ct.isEmptyObject(i))&&(t.nodeType?t[this.expando]=undefined:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return e!==undefined&&!Ct.isEmptyObject(e)}};var $t=new r,jt=new r,qt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ht=/[A-Z]/g;Ct.extend({hasData:function(t){return jt.hasData(t)||$t.hasData(t)},data:function(t,e,n){return jt.access(t,e,n)},removeData:function(t,e){jt.remove(t,e)},_data:function(t,e,n){return $t.access(t,e,n)},_removeData:function(t,e){$t.remove(t,e)}}),Ct.fn.extend({data:function(n,t){var e,i,o,r=this[0],a=r&&r.attributes;if(n!==undefined)return"object"==typeof n?this.each(function(){jt.set(this,n)}):Pt(this,function(t){var e;if(r&&t===undefined)return(e=jt.get(r,n))!==undefined?e:(e=p(r,n))!==undefined?e:void 0;this.each(function(){jt.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=jt.get(r),1===r.nodeType&&!$t.get(r,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(i=a[e].name).indexOf("data-")&&(i=f(i.slice(5)),p(r,i,o[i]));$t.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){jt.remove(this,t)})}}),Ct.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=$t.get(t,e),n&&(!i||Array.isArray(n)?i=$t.access(t,e,Ct.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=Ct.queue(t,e),i=n.length,o=n.shift(),r=Ct._queueHooks(t,e),a=function(){Ct.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return $t.get(t,n)||$t.access(t,n,{empty:Ct.Callbacks("once memory").add(function(){$t.remove(t,[e+"queue",n])})})}}),Ct.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?Ct.queue(this[0],e):n===undefined?this:this.each(function(){var t=Ct.queue(this,e,n);Ct._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Ct.dequeue(this,e)})},dequeue:function(t){return this.each(function(){Ct.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=Ct.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=$t.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var Ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wt=new RegExp("^(?:([+-])=|)("+Ut+")([a-z%]*)$","i"),zt=["Top","Right","Bottom","Left"],Vt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&Ct.contains(t.ownerDocument,t)&&"none"===Ct.css(t,"display")},Gt=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o},Xt={};Ct.fn.extend({show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Vt(this)?Ct(this).show():Ct(this).hide()})}});var Jt=/^(?:checkbox|radio)$/i,Yt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Qt=/^$|^module$|\/(?:java|ecma)script/i,Zt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td;var te,ee,ne=/<|&#?\w+;/;te=at.createDocumentFragment().appendChild(at.createElement("div")),(ee=at.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),te.appendChild(ee),Et.checkClone=te.cloneNode(!0).cloneNode(!0).lastChild.checked,te.innerHTML="<textarea>x</textarea>",Et.noCloneChecked=!!te.cloneNode(!0).lastChild.defaultValue;var ie=at.documentElement,oe=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ae=/^([^.]*)(?:\.(.+)|)/;Ct.event={global:{},add:function(e,t,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=$t.get(e);if(m)for(n.handler&&(n=(r=n).handler,o=r.selector),o&&Ct.find.matchesSelector(ie,o),n.guid||(n.guid=Ct.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(t){return void 0!==Ct&&Ct.event.triggered!==t.type?Ct.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(At)||[""]).length;c--;)f=g=(s=ae.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=Ct.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=Ct.event.special[f]||{},u=Ct.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&Ct.expr.match.needsContext.test(o),namespace:p.join(".")},r),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),Ct.event.global[f]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=$t.hasData(t)&&$t.get(t);if(m&&(l=m.events)){for(c=(e=(e||"").match(At)||[""]).length;c--;)if(f=g=(s=ae.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=Ct.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)u=h[r],!o&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(r,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(t,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||Ct.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)Ct.event.remove(t,f+e[c],n,i,!0);Ct.isEmptyObject(l)&&$t.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,a,s=Ct.event.fix(t),l=new Array(arguments.length),c=($t.get(this,"events")||{})[s.type]||[],u=Ct.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=Ct.event.handlers.call(this,s,c),e=0;(o=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,(i=((Ct.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l))!==undefined&&!1===(s.result=i)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,o,r,a,s=[],l=e.delegateCount,c=t.target;if(l&&c.nodeType&&!("click"===t.type&&1<=t.button))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(r=[],a={},n=0;n<l;n++)a[o=(i=e[n]).selector+" "]===undefined&&(a[o]=i.needsContext?-1<Ct(o,this).index(c):Ct.find(o,this,null,[c]).length),a[o]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return c=this,l<e.length&&s.push({elem:c,handlers:e.slice(l)}),s},addProp:function(e,t){Object.defineProperty(Ct.Event.prototype,e,{enumerable:!0,configurable:!0,get:vt(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[Ct.expando]?t:new Ct.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==R()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===R()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&c(this,"input"))return this.click(),!1},_default:function(t){return c(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},Ct.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},Ct.Event=function(t,e){if(!(this instanceof Ct.Event))return new Ct.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?D:O,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&Ct.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[Ct.expando]=!0},Ct.Event.prototype={constructor:Ct.Event,isDefaultPrevented:O,isPropagationStopped:O,isImmediatePropagationStopped:O,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=D,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=D,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=D,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},Ct.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&oe.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&e!==undefined&&re.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},Ct.event.addProp),Ct.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){Ct.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||Ct.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),Ct.fn.extend({on:function(t,e,n,i){return k(this,t,e,n,i)},one:function(t,e,n,i){return k(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,Ct(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=O),this.each(function(){Ct.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this}});var se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,le=/<script|<style|<link/i,ce=/checked\s*(?:[^=]|=\s*.checked.)/i,ue=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ct.extend({htmlPrefilter:function(t){return t.replace(se,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=Ct.contains(t.ownerDocument,t);if(!(Et.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Ct.isXMLDoc(t)))for(a=y(s),i=0,o=(r=y(t)).length;i<o;i++)S(r[i],a[i]);if(e)if(n)for(r=r||y(t),a=a||y(s),i=0,o=r.length;i<o;i++)x(r[i],a[i]);else x(t,s);return 0<(a=y(s,"script")).length&&b(a,!l&&y(t,"script")),s},cleanData:function(t){for(var e,n,i,o=Ct.event.special,r=0;(n=t[r])!==undefined;r++)if(Mt(n)){if(e=n[$t.expando]){if(e.events)for(i in e.events)o[i]?Ct.event.remove(n,i):Ct.removeEvent(n,i,e.handle);n[$t.expando]=undefined}n[jt.expando]&&(n[jt.expando]=undefined)}}}),Ct.fn.extend({detach:function(t){return N(this,t,!0)},remove:function(t){return N(this,t)},text:function(t){return Pt(this,function(t){return t===undefined?Ct.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return A(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||_(this,t).appendChild(t)})},prepend:function(){return A(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=_(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return A(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Ct.cleanData(y(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Ct.clone(this,t,e)})},html:function(t){return Pt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!le.test(t)&&!Zt[(Yt.exec(t)||["",""])[1].toLowerCase()]){t=Ct.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(Ct.cleanData(y(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return A(this,arguments,function(t){var e=this.parentNode;Ct.inArray(this,n)<0&&(Ct.cleanData(y(this)),e&&e.replaceChild(t,this))},n)}}),Ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){Ct.fn[t]=function(t){for(var e,n=[],i=Ct(t),o=i.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),Ct(i[r])[a](e),ut.apply(n,e.get());return this.pushStack(n)}});var de=new RegExp("^("+Ut+")(?!px)[a-z%]+$","i"),he=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=I),e.getComputedStyle(t)},fe=new RegExp(zt.join("|"),"i");!function(){function t(){if(l){s.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(s).appendChild(l);var t=I.getComputedStyle(l);n="1%"!==t.top,a=12===e(t.marginLeft),l.style.right="60%",r=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",ie.removeChild(s),l=null}}function e(t){return Math.round(parseFloat(t))}var n,i,o,r,a,s=at.createElement("div"),l=at.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",Et.clearCloneStyle="content-box"===l.style.backgroundClip,Ct.extend(Et,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),r},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),a},scrollboxSize:function(){return t(),o}}))}();var pe=/^(none|table(?!-c[ea]).+)/,ge=/^--/,me={position:"absolute",visibility:"hidden",display:"block"},Ee={letterSpacing:"0",fontWeight:"400"},ve=["Webkit","Moz","ms"],Te=at.createElement("div").style;Ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=L(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=f(e),l=ge.test(e),c=t.style;if(l||(e=B(s)),a=Ct.cssHooks[e]||Ct.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:c[e];"string"===(r=typeof n)&&(o=Wt.exec(n))&&o[1]&&(n=E(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(Ct.cssNumber[s]?"":"px")),Et.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&(n=a.set(t,n,i))===undefined||(l?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,i){var o,r,a,s=f(e);return ge.test(e)||(e=B(s)),(a=Ct.cssHooks[e]||Ct.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),o===undefined&&(o=L(t,e,i)),"normal"===o&&e in Ee&&(o=Ee[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),Ct.each(["height","width"],function(t,s){Ct.cssHooks[s]={get:function(t,e,n){if(e)return!pe.test(Ct.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?j(t,s,n):Gt(t,me,function(){return j(t,s,n)})},set:function(t,e,n){var i,o=he(t),r="border-box"===Ct.css(t,"boxSizing",!1,o),a=n&&$(t,s,n,r,o);return r&&Et.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(o[s])-$(t,s,"border",!1,o)-.5)),a&&(i=Wt.exec(e))&&"px"!==(i[3]||"px")&&(t.style[s]=e,e=Ct.css(t,s)),M(t,e,a)}}}),Ct.cssHooks.marginLeft=P(Et.reliableMarginLeft,function(t,e){if(e)return(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Gt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),Ct.each({margin:"",padding:"",border:"Width"},function(o,r){Ct.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+zt[e]+r]=i[e]||i[e-2]||i[0];return n}},"margin"!==o&&(Ct.cssHooks[o+r].set=M)}),Ct.fn.extend({css:function(t,e){return Pt(this,function(t,e,n){var i,o,r={},a=0;if(Array.isArray(e)){for(i=he(t),o=e.length;a<o;a++)r[e[a]]=Ct.css(t,e[a],!1,i);return r}return n!==undefined?Ct.style(t,e,n):Ct.css(t,e)},t,e,1<arguments.length)}}),(Ct.Tween=q).prototype={constructor:q,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||Ct.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(Ct.cssNumber[n]?"":"px")},cur:function(){var t=q.propHooks[this.prop];return t&&t.get?t.get(this):q.propHooks._default.get(this)},run:function(t){var e,n=q.propHooks[this.prop];return this.options.duration?this.pos=e=Ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=Ct.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){Ct.fx.step[t.prop]?Ct.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[Ct.cssProps[t.prop]]&&!Ct.cssHooks[t.prop]?t.elem[t.prop]=t.now:Ct.style(t.elem,t.prop,t.now+t.unit)}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},Ct.fx=q.prototype.init,Ct.fx.step={};var ye,be,Ce,De,Ie=/^(?:toggle|show|hide)$/,Oe=/queueHooks$/;Ct.Animation=Ct.extend(X,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return E(n.elem,t,Wt.exec(e),n),n}]},tweener:function(t,e){vt(t)?(e=t,t=["*"]):t=t.match(At);for(var n,i=0,o=t.length;i<o;i++)n=t[i],X.tweeners[n]=X.tweeners[n]||[],X.tweeners[n].unshift(e)},prefilters:[V],prefilter:function(t,e){e?X.prefilters.unshift(t):X.prefilters.push(t)}}),Ct.speed=function(t,e,n){var i=t&&"object"==typeof t?Ct.extend({},t):{complete:n||!n&&e||vt(t)&&t,duration:t,easing:n&&e||e&&!vt(e)&&e};return Ct.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in Ct.fx.speeds?i.duration=Ct.fx.speeds[i.duration]:i.duration=Ct.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){vt(i.old)&&i.old.call(this),i.queue&&Ct.dequeue(this,i.queue)},i},Ct.fn.extend({
fadeTo:function(t,e,n,i){return this.filter(Vt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=Ct.isEmptyObject(e),r=Ct.speed(t,n,i),a=function(){var t=X(this,Ct.extend({},e),r);(o||$t.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=Ct.timers,i=$t.get(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Oe.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||Ct.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=$t.get(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=Ct.timers,r=n?n.length:0;for(e.finish=!0,Ct.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),Ct.each(["toggle","show","hide"],function(t,i){var o=Ct.fn[i];Ct.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(W(i,!0),t,e,n)}}),Ct.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){Ct.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),Ct.timers=[],Ct.fx.tick=function(){var t,e=0,n=Ct.timers;for(ye=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||Ct.fx.stop(),ye=undefined},Ct.fx.timer=function(t){Ct.timers.push(t),Ct.fx.start()},Ct.fx.interval=13,Ct.fx.start=function(){be||(be=!0,H())},Ct.fx.stop=function(){be=null},Ct.fx.speeds={slow:600,fast:200,_default:400},Ct.fn.delay=function(i,t){return i=Ct.fx&&Ct.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=I.setTimeout(t,i);e.stop=function(){I.clearTimeout(n)}})},Ce=at.createElement("input"),De=at.createElement("select").appendChild(at.createElement("option")),Ce.type="checkbox",Et.checkOn=""!==Ce.value,Et.optSelected=De.selected,(Ce=at.createElement("input")).value="t",Ce.type="radio",Et.radioValue="t"===Ce.value;var Re,ke=Ct.expr.attrHandle;Ct.fn.extend({attr:function(t,e){return Pt(this,Ct.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){Ct.removeAttr(this,t)})}}),Ct.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?Ct.prop(t,e,n):(1===r&&Ct.isXMLDoc(t)||(o=Ct.attrHooks[e.toLowerCase()]||(Ct.expr.match.bool.test(e)?Re:undefined)),n!==undefined?null===n?void Ct.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=Ct.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!Et.radioValue&&"radio"===e&&c(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(At);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),Re={set:function(t,e,n){return!1===e?Ct.removeAttr(t,n):t.setAttribute(n,n),n}},Ct.each(Ct.expr.match.bool.source.match(/\w+/g),function(t,e){var a=ke[e]||Ct.find.attr;ke[e]=function(t,e,n){var i,o,r=e.toLowerCase();return n||(o=ke[r],ke[r]=i,i=null!=a(t,e,n)?r:null,ke[r]=o),i}});var _e=/^(?:input|select|textarea|button)$/i,we=/^(?:a|area)$/i;Ct.fn.extend({prop:function(t,e){return Pt(this,Ct.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[Ct.propFix[t]||t]})}}),Ct.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&Ct.isXMLDoc(t)||(e=Ct.propFix[e]||e,o=Ct.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=Ct.find.attr(t,"tabindex");return e?parseInt(e,10):_e.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),Et.optSelected||(Ct.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),Ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ct.propFix[this.toLowerCase()]=this}),Ct.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(vt(e))return this.each(function(t){Ct(this).addClass(e.call(this,t,Y(this)))});if((t=Q(e)).length)for(;n=this[l++];)if(o=Y(n),i=1===n.nodeType&&" "+J(o)+" "){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=J(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(vt(e))return this.each(function(t){Ct(this).removeClass(e.call(this,t,Y(this)))});if(!arguments.length)return this.attr("class","");if((t=Q(e)).length)for(;n=this[l++];)if(o=Y(n),i=1===n.nodeType&&" "+J(o)+" "){for(a=0;r=t[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(s=J(i))&&n.setAttribute("class",s)}return this},toggleClass:function(o,e){var r=typeof o,a="string"===r||Array.isArray(o);return"boolean"==typeof e&&a?e?this.addClass(o):this.removeClass(o):vt(o)?this.each(function(t){Ct(this).toggleClass(o.call(this,t,Y(this),e),e)}):this.each(function(){var t,e,n,i;if(a)for(e=0,n=Ct(this),i=Q(o);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==r||((t=Y(this))&&$t.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===o?"":$t.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+J(Y(n))+" ").indexOf(e))return!0;return!1}});var Ke=/\r/g;Ct.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=vt(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,Ct(this).val()):n)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=Ct.map(e,function(t){return null==t?"":t+""})),(i=Ct.valHooks[this.type]||Ct.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=Ct.valHooks[e.type]||Ct.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Ke,""):null==t?"":t:void 0}}),Ct.extend({valHooks:{option:{get:function(t){var e=Ct.find.attr(t,"value");return null!=e?e:J(Ct.text(t))}},select:{get:function(t){var e,n,i,o=t.options,r=t.selectedIndex,a="select-one"===t.type,s=a?null:[],l=a?r+1:o.length;for(i=r<0?l:a?r:0;i<l;i++)if(((n=o[i]).selected||i===r)&&!n.disabled&&(!n.parentNode.disabled||!c(n.parentNode,"optgroup"))){if(e=Ct(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,i,o=t.options,r=Ct.makeArray(e),a=o.length;a--;)((i=o[a]).selected=-1<Ct.inArray(Ct.valHooks.option.get(i),r))&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),Ct.each(["radio","checkbox"],function(){Ct.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<Ct.inArray(Ct(t).val(),e)}},Et.checkOn||(Ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Et.focusin="onfocusin"in I;var xe=/^(?:focusinfocus|focusoutblur)$/,Se=function(t){t.stopPropagation()};Ct.extend(Ct.event,{trigger:function(t,e,n,i){var o,r,a,s,l,c,u,d,h=[n||at],f=pt.call(t,"type")?t.type:t,p=pt.call(t,"namespace")?t.namespace.split("."):[];if(r=d=a=n=n||at,3!==n.nodeType&&8!==n.nodeType&&!xe.test(f+Ct.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),l=f.indexOf(":")<0&&"on"+f,(t=t[Ct.expando]?t:new Ct.Event(f,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:Ct.makeArray(e,[t]),u=Ct.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!Tt(n)){for(s=u.delegateType||f,xe.test(s+f)||(r=r.parentNode);r;r=r.parentNode)h.push(r),a=r;a===(n.ownerDocument||at)&&h.push(a.defaultView||a.parentWindow||I)}for(o=0;(r=h[o++])&&!t.isPropagationStopped();)d=r,t.type=1<o?s:u.bindType||f,(c=($t.get(r,"events")||{})[t.type]&&$t.get(r,"handle"))&&c.apply(r,e),(c=l&&r[l])&&c.apply&&Mt(r)&&(t.result=c.apply(r,e),!1===t.result&&t.preventDefault());return t.type=f,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!Mt(n)||l&&vt(n[f])&&!Tt(n)&&((a=n[l])&&(n[l]=null),Ct.event.triggered=f,t.isPropagationStopped()&&d.addEventListener(f,Se),n[f](),t.isPropagationStopped()&&d.removeEventListener(f,Se),Ct.event.triggered=undefined,a&&(n[l]=a)),t.result}},simulate:function(t,e,n){var i=Ct.extend(new Ct.Event,n,{type:t,isSimulated:!0});Ct.event.trigger(i,null,e)}}),Ct.fn.extend({trigger:function(t,e){return this.each(function(){Ct.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return Ct.event.trigger(t,e,n,!0)}}),Et.focusin||Ct.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){Ct.event.simulate(i,t.target,Ct.event.fix(t))};Ct.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=$t.access(t,i);e||t.addEventListener(n,o,!0),$t.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=$t.access(t,i)-1;e?$t.access(t,i,e):(t.removeEventListener(n,o,!0),$t.remove(t,i))}}});var Ae=I.location,Ne=Date.now(),Le=/\?/;Ct.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new I.DOMParser).parseFromString(t,"text/xml")}catch(n){e=undefined}return e&&!e.getElementsByTagName("parsererror").length||Ct.error("Invalid XML: "+t),e};var Pe=/\[\]$/,Fe=/\r?\n/g,Be=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;Ct.param=function(t,e){var n,i=[],o=function(t,e){var n=vt(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!Ct.isPlainObject(t))Ct.each(t,function(){o(this.name,this.value)});else for(n in t)Z(n,t[n],e,o);return i.join("&")},Ct.fn.extend({serialize:function(){return Ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Ct.prop(this,"elements");return t?Ct.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Ct(this).is(":disabled")&&Me.test(this.nodeName)&&!Be.test(t)&&(this.checked||!Jt.test(t))}).map(function(t,e){var n=Ct(this).val();return null==n?null:Array.isArray(n)?Ct.map(n,function(t){return{name:e.name,value:t.replace(Fe,"\r\n")}}):{name:e.name,value:n.replace(Fe,"\r\n")}}).get()}});var $e=/%20/g,je=/#.*$/,qe=/([?&])_=[^&]*/,He=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,We=/^(?:GET|HEAD)$/,ze=/^\/\//,Ve={},Ge={},Xe="*/".concat("*"),Je=at.createElement("a");Je.href=Ae.href,Ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:Ue.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?nt(nt(t,Ct.ajaxSettings),e):nt(Ct.ajaxSettings,t)},ajaxPrefilter:tt(Ve),ajaxTransport:tt(Ge),ajax:function(t,e){function n(t,e,n,i){var o,r,a,s,l,c=e;p||(p=!0,f&&I.clearTimeout(f),u=undefined,h=i||"",C.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=it(m,C,n)),s=ot(m,s,C,o),o?(m.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(Ct.lastModified[d]=l),(l=C.getResponseHeader("etag"))&&(Ct.etag[d]=l)),204===t||"HEAD"===m.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),C.status=t,C.statusText=(e||c)+"",o?T.resolveWith(E,[r,c,C]):T.rejectWith(E,[C,c,a]),C.statusCode(b),b=undefined,g&&v.trigger(o?"ajaxSuccess":"ajaxError",[C,m,o?r:a]),y.fireWith(E,[C,c]),g&&(v.trigger("ajaxComplete",[C,m]),--Ct.active||Ct.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var u,d,h,i,f,o,p,g,r,a,m=Ct.ajaxSetup({},e),E=m.context||m,v=m.context&&(E.nodeType||E.jquery)?Ct(E):Ct.event,T=Ct.Deferred(),y=Ct.Callbacks("once memory"),b=m.statusCode||{},s={},l={},c="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(p){if(!i)for(i={};e=He.exec(h);)i[e[1].toLowerCase()]=e[2];e=i[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return p?h:null},setRequestHeader:function(t,e){return null==p&&(t=l[t.toLowerCase()]=l[t.toLowerCase()]||t,s[t]=e),this},overrideMimeType:function(t){return null==p&&(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(p)C.always(t[C.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||c;return u&&u.abort(e),n(0,e),this}};if(T.promise(C),m.url=((t||m.url||Ae.href)+"").replace(ze,Ae.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=(m.dataType||"*").toLowerCase().match(At)||[""],null==m.crossDomain){o=at.createElement("a");try{o.href=m.url,o.href=o.href,m.crossDomain=Je.protocol+"//"+Je.host!=o.protocol+"//"+o.host}catch(D){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=Ct.param(m.data,m.traditional)),et(Ve,m,e,C),p)return C;for(r in(g=Ct.event&&m.global)&&0==Ct.active++&&Ct.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!We.test(m.type),d=m.url.replace(je,""),m.hasContent?m.data&&m.processData&&0===(m.contentType||"").indexOf("application/x-www-form-urlencoded")&&(m.data=m.data.replace($e,"+")):(a=m.url.slice(d.length),m.data&&(m.processData||"string"==typeof m.data)&&(d+=(Le.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(d=d.replace(qe,"$1"),a=(Le.test(d)?"&":"?")+"_="+Ne+++a),m.url=d+a),m.ifModified&&(Ct.lastModified[d]&&C.setRequestHeader("If-Modified-Since",Ct.lastModified[d]),Ct.etag[d]&&C.setRequestHeader("If-None-Match",Ct.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&C.setRequestHeader("Content-Type",m.contentType),C.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Xe+"; q=0.01":""):m.accepts["*"]),m.headers)C.setRequestHeader(r,m.headers[r]);if(m.beforeSend&&(!1===m.beforeSend.call(E,C,m)||p))return C.abort();if(c="abort",y.add(m.complete),C.done(m.success),C.fail(m.error),u=et(Ge,m,e,C)){if(C.readyState=1,g&&v.trigger("ajaxSend",[C,m]),p)return C;m.async&&0<m.timeout&&(f=I.setTimeout(function(){C.abort("timeout")},m.timeout));try{p=!1,u.send(s,n)}catch(D){if(p)throw D;n(-1,D)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return Ct.get(t,e,n,"json")},getScript:function(t,e){return Ct.get(t,undefined,e,"script")}}),Ct.each(["get","post"],function(t,o){Ct[o]=function(t,e,n,i){return vt(e)&&(i=i||n,n=e,e=undefined),Ct.ajax(Ct.extend({url:t,type:o,dataType:i,data:e,success:n},Ct.isPlainObject(t)&&t))}}),Ct._evalUrl=function(t){return Ct.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},Ct.fn.extend({wrapAll:function(t){var e;return this[0]&&(vt(t)&&(t=t.call(this[0])),e=Ct(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return vt(n)?this.each(function(t){Ct(this).wrapInner(n.call(this,t))}):this.each(function(){var t=Ct(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=vt(e);return this.each(function(t){Ct(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){Ct(this).replaceWith(this.childNodes)}),this}}),Ct.expr.pseudos.hidden=function(t){return!Ct.expr.pseudos.visible(t)},Ct.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},Ct.ajaxSettings.xhr=function(){try{return new I.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Qe=Ct.ajaxSettings.xhr();Et.cors=!!Qe&&"withCredentials"in Qe,Et.ajax=Qe=!!Qe,Ct.ajaxTransport(function(r){var a,s;if(Et.cors||Qe&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(a=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ye[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=a(),s=i.onerror=i.ontimeout=a("error"),i.onabort!==undefined?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&I.setTimeout(function(){a&&s()})},a=a("abort");try{i.send(r.hasContent&&r.data||null)}catch(o){if(a)throw o}},abort:function(){a&&a()}}}),Ct.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),Ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return Ct.globalEval(t),t}}}),Ct.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Ct.ajaxTransport("script",function(n){var i,o;if(n.crossDomain)return{send:function(t,e){i=Ct("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(t){i.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),at.head.appendChild(i[0])},abort:function(){o&&o()}}});var Ze,tn=[],en=/(=)\?(?=&|$)|\?\?/;Ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=tn.pop()||Ct.expando+"_"+Ne++;return this[t]=!0,t}}),Ct.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(en.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&en.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=vt(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(en,"$1"+i):!1!==t.jsonp&&(t.url+=(Le.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||Ct.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=I[i],I[i]=function(){r=arguments},n.always(function(){o===undefined?Ct(I).removeProp(i):I[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,tn.push(i)),r&&vt(o)&&o(r[0]),r=o=undefined}),"script"}),Et.createHTMLDocument=((Ze=at.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ze.childNodes.length),Ct.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(Et.createHTMLDocument?((i=(e=at.implementation.createHTMLDocument("")).createElement("base")).href=at.location.href,e.head.appendChild(i)):e=at),r=!n&&[],(o=_t.exec(t))?[e.createElement(o[1])]:(o=C([t],e,r),r&&r.length&&Ct(r).remove(),Ct.merge([],o.childNodes)));var i,o,r},Ct.fn.load=function(t,e,n){var i,o,r,a=this,s=t.indexOf(" ");return-1<s&&(i=J(t.slice(s)),t=t.slice(0,s)),vt(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<a.length&&Ct.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?Ct("<div>").append(Ct.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},Ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Ct.fn[e]=function(t){return this.on(e,t)}}),Ct.expr.pseudos.animated=function(e){return Ct.grep(Ct.timers,function(t){return e===t.elem}).length},Ct.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=Ct.css(t,"position"),u=Ct(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=Ct.css(t,"top"),l=Ct.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<(r+l).indexOf("auto")?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),vt(e)&&(e=e.call(t,n,Ct.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},Ct.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){Ct.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===Ct.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===Ct.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=Ct(t).offset()).top+=Ct.css(t,"borderTopWidth",!0),o.left+=Ct.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-Ct.css(i,"marginTop",!0),left:e.left-o.left-Ct.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===Ct.css(t,"position");)t=t.offsetParent;return t||ie})}}),Ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;Ct.fn[e]=function(t){return Pt(this,function(t,e,n){var i;if(Tt(t)?i=t:9===t.nodeType&&(i=t.defaultView),n===undefined)return i?i[o]:t[e];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),Ct.each(["top","left"],function(t,n){Ct.cssHooks[n]=P(Et.pixelPosition,function(t,e){if(e)return e=L(t,n),de.test(e)?Ct(t).position()[n]+"px":e})}),Ct.each({Height:"height",Width:"width"},function(a,s){Ct.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,r){Ct.fn[r]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return Pt(this,function(t,e,n){var i;return Tt(t)?0===r.indexOf("outer")?t["inner"+a]:t.document.documentElement["client"+a]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+a],i["scroll"+a],t.body["offset"+a],i["offset"+a],i["client"+a])):n===undefined?Ct.css(t,e,o):Ct.style(t,e,n,o)},s,n?t:undefined,n)}})}),Ct.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){Ct.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),Ct.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),Ct.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),Ct.proxy=function(t,e){var n,i,o;return"string"==typeof e&&(n=t[e],e=t,t=n),vt(t)?(i=lt.call(arguments,2),(o=function(){return t.apply(e||this,i.concat(lt.call(arguments)))}).guid=t.guid=t.guid||Ct.guid++,o):undefined},Ct.holdReady=function(t){t?Ct.readyWait++:Ct.ready(!0)},Ct.isArray=Array.isArray,Ct.parseJSON=JSON.parse,Ct.nodeName=c,Ct.isFunction=vt,Ct.isWindow=Tt,Ct.camelCase=f,Ct.type=m,Ct.now=Date.now,Ct.isNumeric=function(t){var e=Ct.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ct});var nn=I.jQuery,on=I.$;return Ct.noConflict=function(t){return I.$===Ct&&(I.$=on),t&&I.jQuery===Ct&&(I.jQuery=nn),Ct},t||(I.jQuery=I.$=Ct),Ct}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(D,t){function s(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}function e(t,n,i){if(ft.isFunction(n))return ft.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return ft.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(Dt.test(n))return ft.filter(n,t,i);n=ft.filter(n,t)}return ft.grep(t,function(t){return-1<ft.inArray(t,n)!==i})}function n(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function u(t){var n={};return ft.each(t.match(Kt)||[],function(t,e){n[e]=!0}),n}function o(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",r),D.removeEventListener("load",r)):(it.detachEvent("onreadystatechange",r),D.detachEvent("onload",r))}function r(){(it.addEventListener||"load"===D.event.type||"complete"===it.readyState)&&(o(),ft.ready())}function l(t,e,n){if(n===undefined&&1===t.nodeType){var i="data-"+e.replace(Nt,"-$1").toLowerCase();if("string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:At.test(n)?ft.parseJSON(n):n)}catch(o){}ft.data(t,e,n)}else n=undefined}return n}function c(t){var e;for(e in t)if(("data"!==e||!ft.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function i(t,e,n,i){if(St(t)){var o,r,a=ft.expando,s=t.nodeType,l=s?ft.cache:t,c=s?t[a]:t[a]&&a;if(c&&l[c]&&(i||l[c].data)||n!==undefined||"string"!=typeof e)return c||(c=s?t[a]=nt.pop()||ft.guid++:a),l[c]||(l[c]=s?{}:{toJSON:ft.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[c]=ft.extend(l[c],e):l[c].data=ft.extend(l[c].data,e)),r=l[c],i||(r.data||(r.data={}),r=r.data),n!==undefined&&(r[ft.camelCase(e)]=n),"string"==typeof e?null==(o=r[e])&&(o=r[ft.camelCase(e)]):o=r,o}}function a(t,e,n){if(St(t)){var i,o,r=t.nodeType,a=r?ft.cache:t,s=r?t[ft.expando]:ft.expando;if(a[s]){if(e&&(i=n?a[s]:a[s].data)){o=(e=ft.isArray(e)?e.concat(ft.map(e,ft.camelCase)):e in i?[e]:(e=ft.camelCase(e))in i?[e]:e.split(" ")).length;for(;o--;)delete i[e[o]];if(n?!c(i):!ft.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(r?ft.cleanData([t],!0):dt.deleteExpando||a!=a.window?delete a[s]:a[s]=undefined)}}}function d(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return ft.css(t,e,"")},l=s(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),u=(ft.cssNumber[e]||"px"!==c&&+l)&&Mt.exec(ft.css(t,e));if(u&&u[3]!==c)for(c=c||u[3],n=n||[],u=+l||1;u/=r=r||".5",ft.style(t,e,u+c),r!==(r=s()/l)&&1!==r&&--a;);return n&&(u=+u||+l||0,o=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=o)),o}function m(t){var e=Vt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function E(t,e){var n,i,o=0,r="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):undefined;if(!r)for(r=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||ft.nodeName(i,e)?r.push(i):ft.merge(r,E(i,e));return e===undefined||e&&ft.nodeName(t,e)?ft.merge([t],r):r}function v(t,e){for(var n,i=0;null!=(n=t[i]);i++)ft._data(n,"globalEval",!e||ft._data(e[i],"globalEval"))}function T(t){Ht.test(t.type)&&(t.defaultChecked=t.checked)}function g(t,e,n,i,o){for(var r,a,s,l,c,u,d,h=t.length,f=m(e),p=[],g=0;g<h;g++)if((a=t[g])||0===a)if("object"===ft.type(a))ft.merge(p,a.nodeType?[a]:a);else if(Xt.test(a)){for(l=l||f.appendChild(e.createElement("div")),c=(Ut.exec(a)||["",""])[1].toLowerCase(),d=Gt[c]||Gt._default,l.innerHTML=d[1]+ft.htmlPrefilter(a)+d[2],r=d[0];r--;)l=l.lastChild;if(!dt.leadingWhitespace&&zt.test(a)&&p.push(e.createTextNode(zt.exec(a)[0])),!dt.tbody)for(r=(a="table"!==c||Jt.test(a)?"<table>"!==d[1]||Jt.test(a)?0:l:l.firstChild)&&a.childNodes.length;r--;)ft.nodeName(u=a.childNodes[r],"tbody")&&!u.childNodes.length&&a.removeChild(u);for(ft.merge(p,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=f.lastChild}else p.push(e.createTextNode(a));for(l&&f.removeChild(l),dt.appendChecked||ft.grep(E(p,"input"),T),g=0;a=p[g++];)if(i&&-1<ft.inArray(a,i))o&&o.push(a);else if(s=ft.contains(a.ownerDocument,a),l=E(f.appendChild(a),"script"),s&&v(l),n)for(r=0;a=l[r++];)Wt.test(a.type||"")&&n.push(a);return l=null,f}function h(){return!0}function f(){return!1}function p(){try{return it.activeElement}catch(t){}}function y(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=undefined),e)y(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=undefined):null==o&&("string"==typeof n?(o=i,i=undefined):(o=i,i=n,n=undefined)),!1===o)o=f;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return ft().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,o,i,n)})}function b(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function C(t){return t.type=(null!==ft.find.attr(t,"type"))+"/"+t.type,t}function I(t){var e=se.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function O(t,e){if(1===e.nodeType&&ft.hasData(t)){var n,i,o,r=ft._data(t),a=ft._data(e,r),s=r.events;if(s)for(n in delete a.handle,a.events={},s)for(i=0,o=s[n].length;i<o;i++)ft.event.add(e,n,s[n][i]);a.data&&(a.data=ft.extend({},a.data))}}function R(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!dt.noCloneEvent&&e[ft.expando]){for(i in(o=ft._data(e)).events)ft.removeEvent(e,i,o.handle);e.removeAttribute(ft.expando)}"script"===n&&e.text!==t.text?(C(e).text=t.text,I(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),dt.html5Clone&&t.innerHTML&&!ft.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ht.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function k(n,i,o,r){i=rt.apply([],i);var t,e,a,s,l,c,u=0,d=n.length,h=d-1,f=i[0],p=ft.isFunction(f);if(p||1<d&&"string"==typeof f&&!dt.checkClone&&ae.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),k(e,i,o,r)});if(d&&(t=(c=g(i,n[0].ownerDocument,!1,n,r)).firstChild,1===c.childNodes.length&&(c=t),t||r)){for(a=(s=ft.map(E(c,"script"),C)).length;u<d;u++)e=c,u!==h&&(e=ft.clone(e,!0,!0),a&&ft.merge(s,E(e,"script"))),o.call(n[u],e,u);if(a)for(l=s[s.length-1].ownerDocument,ft.map(s,I),u=0;u<a;u++)e=s[u],Wt.test(e.type||"")&&!ft._data(e,"globalEval")&&ft.contains(l,e)&&(e.src?ft._evalUrl&&ft._evalUrl(e.src):ft.globalEval((e.text||e.textContent||e.innerHTML||"").replace(le,"")));c=t=null}return n}function _(t,e,n){for(var i,o=e?ft.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||ft.cleanData(E(i)),i.parentNode&&(n&&ft.contains(i.ownerDocument,i)&&v(E(i,"script")),i.parentNode.removeChild(i));return t}function w(t,e){var n=ft(e.createElement(t)).appendTo(e.body),i=ft.css(n[0],"display");return n.detach(),i}function K(t){var e=it,n=de[t];return n||("none"!==(n=w(t,e))&&n||((e=((ue=(ue||ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentWindow||ue[0].contentDocument).document).write(),e.close(),n=w(t,e),ue.detach()),de[t]=n),n}function x(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function S(t){if(t in Re)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=Oe.length;n--;)if((t=Oe[n]+e)in Re)return t}function A(t,e){for(var n,i,o,r=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(r[a]=ft._data(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&jt(i)&&(r[a]=ft._data(i,"olddisplay",K(i.nodeName)))):(o=jt(i),(n&&"none"!==n||!o)&&ft._data(i,"olddisplay",o?n:ft.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function N(t,e,n){var i=Ce.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function L(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;r<4;r+=2)"margin"===n&&(a+=ft.css(t,n+$t[r],!0,o)),i?("content"===n&&(a-=ft.css(t,"padding"+$t[r],!0,o)),"margin"!==n&&(a-=ft.css(t,"border"+$t[r]+"Width",!0,o))):(a+=ft.css(t,"padding"+$t[r],!0,o),"padding"!==n&&(a+=ft.css(t,
"border"+$t[r]+"Width",!0,o)));return a}function P(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=me(t),a=dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=Ee(t,e,r))<0||null==o)&&(o=t.style[e]),fe.test(o))return o;i=a&&(dt.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+L(t,e,n||(a?"border":"content"),i,r)+"px"}function F(t,e,n,i,o){return new F.prototype.init(t,e,n,i,o)}function B(){return D.setTimeout(function(){ke=undefined}),ke=ft.now()}function M(t,e){var n,i={height:t},o=0;for(e=e?1:0;o<4;o+=2-e)i["margin"+(n=$t[o])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function $(t,e,n){for(var i,o=(H.tweeners[e]||[]).concat(H.tweeners["*"]),r=0,a=o.length;r<a;r++)if(i=o[r].call(n,e,t))return i}function j(e,t,n){var i,o,r,a,s,l,c,u=this,d={},h=e.style,f=e.nodeType&&jt(e),p=ft._data(e,"fxshow");for(i in n.queue||(null==(s=ft._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,ft.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=ft.css(e,"display"))?ft._data(e,"olddisplay")||K(e.nodeName):c)&&"none"===ft.css(e,"float")&&(dt.inlineBlockNeedsLayout&&"inline"!==K(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",dt.shrinkWrapBlocks()||u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(o=t[i],Ne.exec(o)){if(delete t[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!p||p[i]===undefined)continue;f=!0}d[i]=p&&p[i]||ft.style(e,i)}else c=undefined;if(ft.isEmptyObject(d))"inline"===("none"===c?K(e.nodeName):c)&&(h.display=c);else for(i in p?"hidden"in p&&(f=p.hidden):p=ft._data(e,"fxshow",{}),r&&(p.hidden=!f),f?ft(e).show():u.done(function(){ft(e).hide()}),u.done(function(){var t;for(t in ft._removeData(e,"fxshow"),d)ft.style(e,t,d[t])}),d)a=$(f?p[i]:0,i,u),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}function q(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=ft.camelCase(n)],r=t[n],ft.isArray(r)&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=ft.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}function H(r,t,e){var n,a,i=0,o=H.prefilters.length,s=ft.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var t=ke||B(),e=Math.max(0,c.startTime+c.duration-t),n=1-(e/c.duration||0),i=0,o=c.tweens.length;i<o;i++)c.tweens[i].run(n);return s.notifyWith(r,[c,n,e]),n<1&&o?e:(s.resolveWith(r,[c]),!1)},c=s.promise({elem:r,props:ft.extend({},t),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},e),originalProperties:t,originalOptions:e,startTime:ke||B(),duration:e.duration,tweens:[],createTween:function(t,e){var n=ft.Tween(r,c.opts,t,e,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var e=0,n=t?c.tweens.length:0;if(a)return this;for(a=!0;e<n;e++)c.tweens[e].run(1);return t?(s.notifyWith(r,[c,1,0]),s.resolveWith(r,[c,t])):s.rejectWith(r,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);i<o;i++)if(n=H.prefilters[i].call(c,r,u,c.opts))return ft.isFunction(n.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(n.stop,n)),n;return ft.map(u,$,c),ft.isFunction(c.opts.start)&&c.opts.start.call(r,c),ft.fx.timer(ft.extend(l,{elem:r,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function U(t){return ft.attr(t,"class")||""}function W(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(Kt)||[];if(ft.isFunction(e))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function z(e,o,r,a){function s(t){var i;return l[t]=!0,ft.each(e[t]||[],function(t,e){var n=e(o,r,a);return"string"!=typeof n||c||l[n]?c?!(i=n):void 0:(o.dataTypes.unshift(n),s(n),!1)}),i}var l={},c=e===an;return s(o.dataTypes[0])||!l["*"]&&s("*")}function V(t,e){var n,i,o=ft.ajaxSettings.flatOptions||{};for(i in e)e[i]!==undefined&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&ft.extend(!0,t,n),t}function G(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),o===undefined&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(a in s)if(s[a]&&s[a].test(o)){l.unshift(a);break}if(l[0]in n)r=l[0];else{for(a in n){if(!l[0]||t.converters[a+" "+l[0]]){r=a;break}i||(i=a)}r=r||i}if(r)return r!==l[0]&&l.unshift(r),n[r]}function X(t,e,n,i){var o,r,a,s,l,c={},u=t.dataTypes.slice();if(u[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=u.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function J(t){return t.style&&t.style.display||ft.css(t,"display")}function Y(t){if(!ft.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===J(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Q(n,t,i,o){var e;if(ft.isArray(t))ft.each(t,function(t,e){i||dn.test(n)?o(n,e):Q(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,i,o)});else if(i||"object"!==ft.type(t))o(n,t);else for(e in t)Q(n+"["+e+"]",t[e],i,o)}function Z(){try{return new D.XMLHttpRequest}catch(t){}}function tt(){try{return new D.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function et(t){return ft.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=D.document,ot=nt.slice,rt=nt.concat,at=nt.push,st=nt.indexOf,lt={},ct=lt.toString,ut=lt.hasOwnProperty,dt={},ht="1.12.4",ft=function(t,e){return new ft.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,gt=/^-ms-/,mt=/-([\da-z])/gi,Et=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return ft.each(this,t)},map:function(n){return this.pushStack(ft.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:at,sort:nt.sort,splice:nt.splice},ft.extend=ft.fn.extend=function(t){var e,n,i,o,r,a,s=t||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[l]||{},l++),"object"==typeof s||ft.isFunction(s)||(s={}),l===c&&(s=this,l--);l<c;l++)if(null!=(r=arguments[l]))for(o in r)e=s[o],s!==(i=r[o])&&(u&&i&&(ft.isPlainObject(i)||(n=ft.isArray(i)))?(n?(n=!1,a=e&&ft.isArray(e)?e:[]):a=e&&ft.isPlainObject(e)?e:{},s[o]=ft.extend(u,a,i)):i!==undefined&&(s[o]=i));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray||function(t){return"array"===ft.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!ft.isArray(t)&&0<=e-parseFloat(e)+1},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==ft.type(t)||t.nodeType||ft.isWindow(t))return!1;try{if(t.constructor&&!ut.call(t,"constructor")&&!ut.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!dt.ownFirst)for(e in t)return ut.call(t,e);for(e in t);return e===undefined||ut.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[ct.call(t)]||"object":typeof t},globalEval:function(t){t&&ft.trim(t)&&(D.execScript||function(t){D.eval.call(D,t)})(t)},camelCase:function(t){return t.replace(gt,"ms-").replace(mt,Et)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(s(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(s(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):at.call(n,t)),n},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?n<0?Math.max(0,i+n):n:0;n<i;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;)t[o++]=e[i++];if(n!=n)for(;e[i]!==undefined;)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;o<r;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,a=[];if(s(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return rt.apply([],a)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),ft.isFunction(t)?(n=ot.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))}).guid=t.guid=t.guid||ft.guid++,i):undefined},now:function(){return+new Date},support:dt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=nt[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var vt=function(n){function y(t,e,n,i){var o,r,a,s,l,c,u,d,h=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:$)!==S&&x(e),e=e||S,N)){if(11!==f&&(c=Et.exec(t)))if(o=c[1]){if(9===f){if(!(a=e.getElementById(o)))return n;if(a.id===o)return n.push(a),n}else if(h&&(a=h.getElementById(o))&&B(e,a)&&a.id===o)return n.push(a),n}else{if(c[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((o=c[3])&&E.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(o)),n}if(E.qsa&&!W[t+" "]&&(!L||!L.test(t))){if(1!==f)h=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(Tt,"\\$&"):e.setAttribute("id",s=M),r=(u=O(t)).length,l=ht.test(s)?"#"+s:"[id='"+s+"']";r--;)u[r]=l+" "+m(u[r]);d=u.join(","),h=vt.test(t)&&g(e.parentNode)||e}if(d)try{return Q.apply(n,h.querySelectorAll(d)),n}catch(p){}finally{s===M&&e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,n,i)}function t(){function n(t,e){return i.push(t+" ")>C.cacheLength&&delete n[i.shift()],n[t+" "]=e}var i=[];return n}function l(t){return t[M]=!0,t}function o(t){var e=S.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function e(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function c(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function i(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function r(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function a(a){return l(function(r){return r=+r,l(function(t,e){for(var n,i=a([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function g(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function s(){}function m(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function d(s,t,e){var l=t.dir,c=e&&"parentNode"===l,u=q++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||c)return s(t,e,n)}:function(t,e,n){var i,o,r,a=[j,u];if(n){for(;t=t[l];)if((1===t.nodeType||c)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||c){if((i=(o=(r=t[M]||(t[M]={}))[t.uniqueID]||(r[t.uniqueID]={}))[l])&&i[0]===j&&i[1]===u)return a[2]=i[2];if((o[l]=a)[2]=s(t,e,n))return!0}}}function h(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function v(t,e,n){for(var i=0,o=e.length;i<o;i++)y(t,e[i],n);return n}function b(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;s<l;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function T(f,p,g,m,E,t){return m&&!m[M]&&(m=T(m)),E&&!E[M]&&(E=T(E,t)),l(function(t,e,n,i){var o,r,a,s=[],l=[],c=e.length,u=t||v(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?u:b(u,s,f,n,i),h=g?E||(t?f:c||m)?[]:e:d;if(g&&g(d,h,n,i),m)for(o=b(h,l),m(o,[],n,i),r=o.length;r--;)(a=o[r])&&(h[l[r]]=!(d[l[r]]=a));if(t){if(E||f){if(E){for(o=[],r=h.length;r--;)(a=h[r])&&o.push(d[r]=a);E(null,h=[],o,i)}for(r=h.length;r--;)(a=h[r])&&-1<(o=E?tt(t,a):s[r])&&(t[o]=!(e[o]=a))}}else h=b(h===e?h.splice(c,h.length):h),E?E(null,e,h,i):Q.apply(e,h)})}function f(t){for(var o,e,n,i=t.length,r=C.relative[t[0].type],a=r||C.relative[" "],s=r?1:0,l=d(function(t){return t===o},a,!0),c=d(function(t){return-1<tt(o,t)},a,!0),u=[function(t,e,n){var i=!r&&(n||e!==_)||((o=e).nodeType?l(t,e,n):c(t,e,n));return o=null,i}];s<i;s++)if(e=C.relative[t[s].type])u=[d(h(u),e)];else{if((e=C.filter[t[s].type].apply(null,t[s].matches))[M]){for(n=++s;n<i&&!C.relative[t[n].type];n++);return T(1<s&&h(u),1<s&&m(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),e,s<n&&f(t.slice(s,n)),n<i&&f(t=t.slice(n)),n<i&&m(t))}u.push(e)}return h(u)}function u(m,E){var v=0<E.length,T=0<m.length,t=function(t,e,n,i,o){var r,a,s,l=0,c="0",u=t&&[],d=[],h=_,f=t||T&&C.find.TAG("*",o),p=j+=null==h?1:Math.random()||.1,g=f.length;for(o&&(_=e===S||e||o);c!==g&&null!=(r=f[c]);c++){if(T&&r){for(a=0,e||r.ownerDocument===S||(x(r),n=!N);s=m[a++];)if(s(r,e||S,n)){i.push(r);break}o&&(j=p)}v&&((r=!s&&r)&&l--,t&&u.push(r))}if(l+=c,v&&c!==l){for(a=0;s=E[a++];)s(u,d,e,n);if(t){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=J.call(i));d=b(d)}Q.apply(i,d),o&&!t&&0<d.length&&1<l+E.length&&y.uniqueSort(i)}return o&&(j=p,_=h),u};return v?l(t):t}var p,E,C,D,I,O,R,k,_,w,K,x,S,A,N,L,P,F,B,M="sizzle"+1*new Date,$=n.document,j=0,q=0,H=t(),U=t(),W=t(),z=function(t,e){return t===e&&(K=!0),0},V=1<<31,G={}.hasOwnProperty,X=[],J=X.pop,Y=X.push,Q=X.push,Z=X.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",rt=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ut=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(rt),ht=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,Et=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,Tt=/'|\\/g,yt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){x()};try{Q.apply(X=Z.call($.childNodes),$.childNodes),X[$.childNodes.length].nodeType}catch(Dt){Q={apply:X.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}for(p in E=y.support={},I=y.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},x=y.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:$;return i!==S&&9===i.nodeType&&i.documentElement&&(A=(S=i).documentElement,N=!I(S),(n=S.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),E.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),E.getElementsByTagName=o(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),E.getElementsByClassName=mt.test(S.getElementsByClassName),E.getById=o(function(t){return A.appendChild(t).id=M,!S.getElementsByName||!S.getElementsByName(M).length}),E.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&N){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(yt,bt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var n=t.replace(yt,bt);return function(t){var e="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),C.find.TAG=E.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):E.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},C.find.CLASS=E.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&N)return e.getElementsByClassName(t)},P=[],L=[],(E.qsa=mt.test(S.querySelectorAll))&&(o(function(t){A.appendChild(t).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+M+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+M+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(E.matchesSelector=mt.test(F=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){E.disconnectedMatch=F.call(t,"div"),F.call(t,"[s!='']:x"),P.push("!=",rt)}),L=L.length&&new RegExp(L.join("|")),P=P.length&&new RegExp(P.join("|")),e=mt.test(A.compareDocumentPosition),B=e||mt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return K=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!E.sortDetached&&e.compareDocumentPosition(t)===n?t===S||t.ownerDocument===$&&B($,t)?-1:e===S||e.ownerDocument===$&&B($,e)?1:w?tt(w,t)-tt(w,e):0:4&n?-1:1)}:function(t,e){if(t===e)return K=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===S?-1:e===S?1:o?-1:r?1:w?tt(w,t)-tt(w,e):0;if(o===r)return c(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===$?-1:s[i]===$?1:0}),S},y.matches=function(t,e){return y(t,null,null,e)},y.matchesSelector=function(t,e){if((t.ownerDocument||t)!==S&&x(t),e=e.replace(ut,"='$1']"),E.matchesSelector&&N&&!W[e+" "]&&(!P||!P.test(e))&&(!L||!L.test(e)))try{var n=F.call(t,e);if(n||E.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(Dt){}return 0<y(e,S,null,[t]).length},y.contains=function(t,e){return(t.ownerDocument||t)!==S&&x(t),B(t,e)},y.attr=function(t,e){(t.ownerDocument||t)!==S&&x(t);var n=C.attrHandle[e.toLowerCase()],i=n&&G.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):undefined;return i!==undefined?i:E.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},y.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},y.uniqueSort=function(t){var e,n=[],i=0,o=0;if(K=!E.detectDuplicates,w=!E.sortStable&&t.slice(0),t.sort(z),K){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return w=null,t},D=y.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=D(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=D(e);return n},(C=y.selectors={cacheLength:50,createPseudo:l,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(yt,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(yt,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||y.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&y.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=O(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(yt,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,i,o){return function(t){var e=y.attr(t,n);return null==e?"!="===i:!i||(e+="","="===i?e===o:"!="===i?e!==o:"^="===i?o&&0===e.indexOf(o):"*="===i?o&&-1<e.indexOf(o):"$="===i?o&&e.slice(-o.length)===o:"~="===i?-1<(" "+e.replace(at," ")+" ").indexOf(o):"|="===i&&(e===o||e.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,t,e,g,m){var E="nth"!==p.slice(0,3),v="last"!==p.slice(-4),T="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,a,s,l,c=E!==v?"nextSibling":"previousSibling",u=t.parentNode,d=T&&t.nodeName.toLowerCase(),h=!n&&!T,f=!1;if(u){if(E){for(;c;){for(a=t;a=a[c];)if(T?a.nodeName.toLowerCase()===d:1===a.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(f=(s=(i=(o=(r=(a=u)[M]||(a[M]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===j&&i[1])&&i[2],a=s&&u.childNodes[s];a=++s&&a&&a[c]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===t){o[p]=[j,s,f];break}}else if(h&&(f=s=(i=(o=(r=(a=t)[M]||(a[M]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]||[])[0]===j&&i[1]),!1===f)for(;(a=++s&&a&&a[c]||(f=s=0)||l.pop())&&((T?a.nodeName.toLowerCase()!==d:1!==a.nodeType)||!++f||(h&&((o=(r=a[M]||(a[M]={}))[a.uniqueID]||(r[a.uniqueID]={}))[p]=[j,f]),a!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,r){var e,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||y.error("unsupported pseudo: "+t);return a[M]?a(r):1<a.length?(e=[t,t,"",r],C.setFilters.hasOwnProperty(t.toLowerCase())?l(function(t,e){for(var n,i=a(t,r),o=i.length;o--;)t[n=tt(t,i[o])]=!(e[n]=i[o])}):function(t){return a(t,0,e)}):a}},pseudos:{not:l(function(t){var i=[],o=[],s=R(t.replace(st,"$1"));return s[M]?l(function(t,e,n,i){for(var o,r=s(t,null,i,[]),a=t.length;a--;)(o=r[a])&&(t[a]=!(e[a]=o))}):function(t,e,n){return i[0]=t,s(i,null,n,o),i[0]=null,!o.pop()}}),has:l(function(e){return function(t){return 0<y(e,t).length}}),contains:l(function(e){return e=e.replace(yt,bt),function(t){return-1<(t.textContent||t.innerText||D(t)).indexOf(e)}}),lang:l(function(n){return ht.test(n||"")||y.error("unsupported lang: "+n),n=n.replace(yt,bt).toLowerCase(),function(t){var e;do{if(e=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===A},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,n){return[n<0?n+e:n]}),even:a(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:a(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:a(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:a(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=C.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[p]=i(p);for(p in{submit:!0,reset:!0})C.pseudos[p]=r(p);return s.prototype=C.filters=C.pseudos,C.setFilters=new s,O=y.tokenize=function(t,e){var n,i,o,r,a,s,l,c=U[t+" "];if(c)return e?0:c.slice(0);for(a=t,s=[],l=C.preFilter;a;){for(r in n&&!(i=lt.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(o=[])),n=!1,(i=ct.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(st," ")}),a=a.slice(n.length)),C.filter)!(i=ft[r].exec(a))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?y.error(t):U(t,s).slice(0)},R=y.compile=function(t,e){var n,i=[],o=[],r=W[t+" "];if(!r){for(e||(e=O(t)),n=e.length;n--;)(r=f(e[n]))[M]?i.push(r):o.push(r);(r=W(t,u(o,i))).selector=t}return r},k=y.select=function(t,e,n,i){var o,r,a,s,l,c="function"==typeof t&&t,u=!i&&O(t=c.selector||t);if(n=n||[],1===u.length){if(2<(r=u[0]=u[0].slice(0)).length&&"ID"===(a=r[0]).type&&E.getById&&9===e.nodeType&&N&&C.relative[r[1].type]){if(!(e=(C.find.ID(a.matches[0].replace(yt,bt),e)||[])[0]))return n;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(a=r[o],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(yt,bt),vt.test(r[0].type)&&g(e.parentNode)||e))){if(r.splice(o,1),!(t=i.length&&m(r)))return Q.apply(n,i),n;break}}return(c||R(t,u))(i,e,!N,n,!e||vt.test(t)&&g(e.parentNode)||e),n},E.sortStable=M.split("").sort(z).join("")===M,E.detectDuplicates=!!K,x(),E.sortDetached=o(function(t){return 1&t.compareDocumentPosition(S.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||e("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),E.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||e("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||e(et,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),y}(D);ft.find=vt,ft.expr=vt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=vt.uniqueSort,ft.text=vt.getText,ft.isXMLDoc=vt.isXML,ft.contains=vt.contains;var Tt=function(t,e,n){for(var i=[],o=n!==undefined;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&ft(t).is(n))break;i.push(t)}return i},yt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=ft.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Dt=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ft.find.matchesSelector(i,t)?[i]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;e<o;e++)if(ft.contains(i[e],this))return!0}));for(e=0;e<o;e++)ft.find(t,i[e],n);return(n=this.pushStack(1<o?ft.unique(n):n)).selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(e(this,t||[],!1))},not:function(t){return this.pushStack(e(this,t||[],!0))},is:function(t){return!!e(this,"string"==typeof t&&bt.test(t)?ft(t):t||[],!1).length}});var It,Ot=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(ft.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||It,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):ft.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(ft):(t.selector!==undefined&&(this.selector=t.selector,this.context=t.context),ft.makeArray(t,this));if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Ot.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&ft.isPlainObject(e))for(i in e)ft.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if((o=it.getElementById(i[2]))&&o.parentNode){if(o.id!==i[2])return It.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}).prototype=ft.fn,It=ft(it);var Rt=/^(?:parents|prev(?:Until|All))/,kt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e,n=ft(t,this),i=n.length;return this.filter(function(){for(e=0;e<i;e++)if(ft.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=bt.test(t)||"string"!=typeof t?ft(t,e||this.context):0;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&ft.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?ft.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?ft.inArray(this[0],ft(t)):ft.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Tt(t,"parentNode")},parentsUntil:function(t,e,n){return Tt(t,"parentNode",n)},next:function(t){return n(t,"nextSibling")},prev:function(t){return n(t,"previousSibling")},nextAll:function(t){return Tt(t,"nextSibling")},prevAll:function(t){return Tt(t,"previousSibling")},nextUntil:function(t,e,n){return Tt(t,"nextSibling",n)},prevUntil:function(t,e,n){return Tt(t,"previousSibling",n)},siblings:function(t){return yt((t.parentNode||{}).firstChild,t)},children:function(t){return yt(t.firstChild)},contents:function(t){return ft.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ft.merge([],t.childNodes)}},function(i,o){ft.fn[i]=function(t,e){var n=ft.map(this,o,t);return"Until"!==i.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=ft.filter(e,n)),1<this.length&&(kt[i]||(n=ft.uniqueSort(n)),Rt.test(i)&&(n=n.reverse())),this.pushStack(n)}});var _t,wt,Kt=/\S+/g;for(wt in ft.Callbacks=function(i){i="string"==typeof i?u(i):ft.extend({},i);var o,t,e,n,r=[],a=[],s=-1,l=function(){for(n=i.once,e=o=!0;a.length;s=-1)for(t=a.shift();++s<r.length;)!1===r[s].apply(t[0],t[1])&&i.stopOnFalse&&(s=r.length,t=!1);i.memory||(t=!1),o=!1,n&&(r=t?[]:"")},c={add:function(){return r&&(t&&!o&&(
s=r.length-1,a.push(t)),function n(t){ft.each(t,function(t,e){ft.isFunction(e)?i.unique&&c.has(e)||r.push(e):e&&e.length&&"string"!==ft.type(e)&&n(e)})}(arguments),t&&!o&&l()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;-1<(n=ft.inArray(e,r,n));)r.splice(n,1),n<=s&&s--}),this},has:function(t){return t?-1<ft.inArray(t,r):0<r.length},empty:function(){return r&&(r=[]),this},disable:function(){return n=a=[],r=t="",this},disabled:function(){return!r},lock:function(){return n=!0,t||c.disable(),this},locked:function(){return!!n},fireWith:function(t,e){return n||(e=[t,(e=e||[]).slice?e.slice():e],a.push(e),o||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!e}};return c},ft.extend({Deferred:function(t){var r=[["resolve","done",ft.Callbacks("once memory"),"resolved"],["reject","fail",ft.Callbacks("once memory"),"rejected"],["notify","progress",ft.Callbacks("memory")]],o="pending",a={state:function(){return o},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var o=arguments;return ft.Deferred(function(i){ft.each(r,function(t,e){var n=ft.isFunction(o[t])&&o[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),o=null}).promise()},promise:function(t){return null!=t?ft.extend(t,a):a}},s={};return a.pipe=a.then,ft.each(r,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){o=i},r[1^t][2].disable,r[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){var o,e,n,i=0,r=ot.call(arguments),a=r.length,s=1!==a||t&&ft.isFunction(t.promise)?a:0,l=1===s?t:ft.Deferred(),c=function(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?ot.call(arguments):t,i===o?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(o=new Array(a),e=new Array(a),n=new Array(a);i<a;i++)r[i]&&ft.isFunction(r[i].promise)?r[i].promise().progress(c(i,e,o)).done(c(i,n,r)).fail(l.reject):--s;return s||l.resolveWith(n,r),l.promise()}}),ft.fn.ready=function(t){return ft.ready.promise().done(t),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(!0===t?--ft.readyWait:ft.isReady)||(ft.isReady=!0)!==t&&0<--ft.readyWait||(_t.resolveWith(it,[ft]),ft.fn.triggerHandler&&(ft(it).triggerHandler("ready"),ft(it).off("ready")))}}),ft.ready.promise=function(t){if(!_t)if(_t=ft.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)D.setTimeout(ft.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",r),D.addEventListener("load",r);else{it.attachEvent("onreadystatechange",r),D.attachEvent("onload",r);var e=!1;try{e=null==D.frameElement&&it.documentElement}catch(n){}e&&e.doScroll&&function i(){if(!ft.isReady){try{e.doScroll("left")}catch(n){return D.setTimeout(i,50)}o(),ft.ready()}}()}return _t.promise(t)},ft.ready.promise(),ft(dt))break;dt.ownFirst="0"===wt,dt.inlineBlockNeedsLayout=!1,ft(function(){var t,e,n,i;(n=it.getElementsByTagName("body")[0])&&n.style&&(e=it.createElement("div"),(i=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",dt.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");dt.deleteExpando=!0;try{delete t.test}catch(e){dt.deleteExpando=!1}t=null}();var xt,St=function(t){var e=ft.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||!0!==e&&t.getAttribute("classid")===e)},At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/([A-Z])/g;ft.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return!!(t=t.nodeType?ft.cache[t[ft.expando]]:t[ft.expando])&&!c(t)},data:function(t,e,n){return i(t,e,n)},removeData:function(t,e){return a(t,e)},_data:function(t,e,n){return i(t,e,n,!0)},_removeData:function(t,e){return a(t,e,!0)}}),ft.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(t!==undefined)return"object"==typeof t?this.each(function(){ft.data(this,t)}):1<arguments.length?this.each(function(){ft.data(this,t,e)}):r?l(r,t,ft.data(r,t)):undefined;if(this.length&&(o=ft.data(r),1===r.nodeType&&!ft._data(r,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&l(r,i=ft.camelCase(i.slice(5)),o[i]);ft._data(r,"parsedAttrs",!0)}return o},removeData:function(t){return this.each(function(){ft.removeData(this,t)})}}),ft.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=ft._data(t,e),n&&(!i||ft.isArray(n)?i=ft._data(t,e,ft.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),i=n.length,o=n.shift(),r=ft._queueHooks(t,e),a=function(){ft.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ft._data(t,n)||ft._data(t,n,{empty:ft.Callbacks("once memory").add(function(){ft._removeData(t,e+"queue"),ft._removeData(t,n)})})}}),ft.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?ft.queue(this[0],e):n===undefined?this:this.each(function(){var t=ft.queue(this,e,n);ft._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ft.dequeue(this,e)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=ft.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=undefined),t=t||"fx";a--;)(n=ft._data(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),dt.shrinkWrapBlocks=function(){return null!=xt?xt:(xt=!1,(e=it.getElementsByTagName("body")[0])&&e.style?(t=it.createElement("div"),(n=it.createElement("div")).style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",e.appendChild(n).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(it.createElement("div")).style.width="5px",xt=3!==t.offsetWidth),e.removeChild(n),xt):void 0);var t,e,n};var Lt,Pt,Ft,Bt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=new RegExp("^(?:([+-])=|)("+Bt+")([a-z%]*)$","i"),$t=["Top","Right","Bottom","Left"],jt=function(t,e){return t=e||t,"none"===ft.css(t,"display")||!ft.contains(t.ownerDocument,t)},qt=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===ft.type(n))for(s in o=!0,n)qt(t,e,s,n[s],!0,r,a);else if(i!==undefined&&(o=!0,ft.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},Ht=/^(?:checkbox|radio)$/i,Ut=/<([\w:-]+)/,Wt=/^$|\/(?:java|ecma)script/i,zt=/^\s+/,Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";Lt=it.createElement("div"),Pt=it.createDocumentFragment(),Ft=it.createElement("input"),Lt.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",dt.leadingWhitespace=3===Lt.firstChild.nodeType,dt.tbody=!Lt.getElementsByTagName("tbody").length,dt.htmlSerialize=!!Lt.getElementsByTagName("link").length,dt.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,Ft.type="checkbox",Ft.checked=!0,Pt.appendChild(Ft),dt.appendChecked=Ft.checked,Lt.innerHTML="<textarea>x</textarea>",dt.noCloneChecked=!!Lt.cloneNode(!0).lastChild.defaultValue,Pt.appendChild(Lt),(Ft=it.createElement("input")).setAttribute("type","radio"),Ft.setAttribute("checked","checked"),Ft.setAttribute("name","t"),Lt.appendChild(Ft),dt.checkClone=Lt.cloneNode(!0).cloneNode(!0).lastChild.checked,dt.noCloneEvent=!!Lt.addEventListener,Lt[ft.expando]=1,dt.attributes=!Lt.getAttribute(ft.expando);var Gt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:dt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Gt.optgroup=Gt.option,Gt.tbody=Gt.tfoot=Gt.colgroup=Gt.caption=Gt.thead,Gt.th=Gt.td;var Xt=/<|&#?\w+;/,Jt=/<tbody/i;!function(){var t,e,n=it.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})e="on"+t,(dt[t]=e in D)||(n.setAttribute(e,"t"),dt[t]=!1===n.attributes[e].expando);n=null}();var Yt=/^(?:input|select|textarea)$/i,Qt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,te=/^(?:focusinfocus|focusoutblur)$/,ee=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=ft._data(t);if(m){for(n.handler&&(n=(l=n).handler,o=l.selector),n.guid||(n.guid=ft.guid++),(a=m.events)||(a=m.events={}),(u=m.handle)||((u=m.handle=function(t){return void 0===ft||t&&ft.event.triggered===t.type?undefined:ft.event.dispatch.apply(u.elem,arguments)}).elem=t),s=(e=(e||"").match(Kt)||[""]).length;s--;)f=g=(r=ee.exec(e[s])||[])[1],p=(r[2]||"").split(".").sort(),f&&(c=ft.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ft.event.special[f]||{},d=ft.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&ft.expr.match.needsContext.test(o),namespace:p.join(".")},l),(h=a[f])||((h=a[f]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,i,p,u)||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),ft.event.global[f]=!0);t=null}},remove:function(t,e,n,i,o){var r,a,s,l,c,u,d,h,f,p,g,m=ft.hasData(t)&&ft._data(t);if(m&&(u=m.events)){for(c=(e=(e||"").match(Kt)||[""]).length;c--;)if(f=g=(s=ee.exec(e[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=ft.event.special[f]||{},h=u[f=(i?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!o&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(t,a));l&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,m.handle)||ft.removeEvent(t,f,m.handle),delete u[f])}else for(f in u)ft.event.remove(t,f+e[c],n,i,!0);ft.isEmptyObject(u)&&(delete m.handle,ft._removeData(t,"events"))}},trigger:function(t,e,n,i){var o,r,a,s,l,c,u,d=[n||it],h=ut.call(t,"type")?t.type:t,f=ut.call(t,"namespace")?t.namespace.split("."):[];if(a=c=n=n||it,3!==n.nodeType&&8!==n.nodeType&&!te.test(h+ft.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),r=h.indexOf(":")<0&&"on"+h,(t=t[ft.expando]?t:new ft.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=n),e=null==e?[t]:ft.makeArray(e,[t]),l=ft.event.special[h]||{},i||!l.trigger||!1!==l.trigger.apply(n,e))){if(!i&&!l.noBubble&&!ft.isWindow(n)){for(s=l.delegateType||h,te.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),c=a;c===(n.ownerDocument||it)&&d.push(c.defaultView||c.parentWindow||D)}for(u=0;(a=d[u++])&&!t.isPropagationStopped();)t.type=1<u?s:l.bindType||h,(o=(ft._data(a,"events")||{})[t.type]&&ft._data(a,"handle"))&&o.apply(a,e),(o=r&&a[r])&&o.apply&&St(a)&&(t.result=o.apply(a,e),!1===t.result&&t.preventDefault());if(t.type=h,!i&&!t.isDefaultPrevented()&&(!l._default||!1===l._default.apply(d.pop(),e))&&St(n)&&r&&n[h]&&!ft.isWindow(n)){(c=n[r])&&(n[r]=null),ft.event.triggered=h;try{n[h]()}catch(p){}ft.event.triggered=undefined,c&&(n[r]=c)}return t.result}},dispatch:function(t){t=ft.event.fix(t);var e,n,i,o,r,a=[],s=ot.call(arguments),l=(ft._data(this,"events")||{})[t.type]||[],c=ft.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=ft.event.handlers.call(this,t,l),e=0;(o=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(r=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,(i=((ft.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s))!==undefined&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)i[o=(r=e[n]).selector+" "]===undefined&&(i[o]=r.needsContext?-1<ft(o,this).index(l):ft.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},fix:function(t){if(t[ft.expando])return t;var e,n,i,o=t.type,r=t,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=Zt.test(o)?this.mouseHooks:Qt.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new ft.Event(r),e=i.length;e--;)t[n=i[e]]=r[n];return t.target||(t.target=r.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,a.filter?a.filter(t,r):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,r=e.button,a=e.fromElement;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||it).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?e.toElement:a),t.which||r===undefined||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(ft.nodeName(this,"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==undefined&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},ft.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},ft.Event=function(t,e){if(!(this instanceof ft.Event))return new ft.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.defaultPrevented===undefined&&!1===t.returnValue?h:f):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),this[ft.expando]=!0},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){ft.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===n||ft.contains(n,i))||(t.type=o.origType,e=o.handler.apply(this,arguments),t.type=r),e}}}),dt.submit||(ft.event.special.submit={setup:function(){if(ft.nodeName(this,"form"))return!1;ft.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=ft.nodeName(e,"input")||ft.nodeName(e,"button")?ft.prop(e,"form"):undefined;n&&!ft._data(n,"submit")&&(ft.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),ft._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&ft.event.simulate("submit",this.parentNode,t))},teardown:function(){if(ft.nodeName(this,"form"))return!1;ft.event.remove(this,"._submit")}}),dt.change||(ft.event.special.change={setup:function(){if(Yt.test(this.nodeName))return"checkbox"!==this.type&&"radio"!==this.type||(ft.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),ft.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),ft.event.simulate("change",this,t)})),!1;ft.event.add(this,"beforeactivate._change",function(t){var e=t.target;Yt.test(e.nodeName)&&!ft._data(e,"change")&&(ft.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ft.event.simulate("change",this.parentNode,t)}),ft._data(e,"change",!0))})},handle:function(t){var e=t.target;if(this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type)return t.handleObj.handler.apply(this,arguments)},teardown:function(){return ft.event.remove(this,"._change"),!Yt.test(this.nodeName)}}),dt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(n,i){var o=function(t){ft.event.simulate(i,t.target,ft.event.fix(t))};ft.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=ft._data(t,i);e||t.addEventListener(n,o,!0),ft._data(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=ft._data(t,i)-1;e?ft._data(t,i,e):(t.removeEventListener(n,o,!0),ft._removeData(t,i))}}}),ft.fn.extend({on:function(t,e,n,i){return y(this,t,e,n,i)},one:function(t,e,n,i){return y(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ft(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=undefined),!1===n&&(n=f),this.each(function(){ft.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o]);return this},trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ft.event.trigger(t,e,n,!0)}});var ne=/ jQuery\d+="(?:null|\d+)"/g,ie=new RegExp("<(?:"+Vt+")[\\s/>]","i"),oe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,re=/<script|<style|<link/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce=m(it).appendChild(it.createElement("div"));ft.extend({htmlPrefilter:function(t){return t.replace(oe,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s,l=ft.contains(t.ownerDocument,t);if(dt.html5Clone||ft.isXMLDoc(t)||!ie.test("<"+t.nodeName+">")?r=t.cloneNode(!0):(ce.innerHTML=t.outerHTML,ce.removeChild(r=ce.firstChild)),!(dt.noCloneEvent&&dt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(i=E(r),s=E(t),a=0;null!=(o=s[a]);++a)i[a]&&R(o,i[a]);if(e)if(n)for(s=s||E(t),i=i||E(r),a=0;null!=(o=s[a]);a++)O(o,i[a]);else O(t,r);return 0<(i=E(r,"script")).length&&v(i,!l&&E(t,"script")),i=s=o=null,r},cleanData:function(t,e){for(var n,i,o,r,a=0,s=ft.expando,l=ft.cache,c=dt.attributes,u=ft.event.special;null!=(n=t[a]);a++)if((e||St(n))&&(r=(o=n[s])&&l[o])){if(r.events)for(i in r.events)u[i]?ft.event.remove(n,i):ft.removeEvent(n,i,r.handle);l[o]&&(delete l[o],c||"undefined"==typeof n.removeAttribute?n[s]=undefined:n.removeAttribute(s),nt.push(o))}}}),ft.fn.extend({domManip:k,detach:function(t){return _(this,t,!0)},remove:function(t){return _(this,t)},text:function(t){return qt(this,function(t){return t===undefined?ft.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||b(this,t).appendChild(t)})},prepend:function(){return k(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=b(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ft.cleanData(E(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ft.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return qt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(t===undefined)return 1===e.nodeType?e.innerHTML.replace(ne,""):undefined;if("string"==typeof t&&!re.test(t)&&(dt.htmlSerialize||!ie.test(t))&&(dt.leadingWhitespace||!zt.test(t))&&!Gt[(Ut.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(ft.cleanData(E(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var e=this.parentNode;ft.inArray(this,n)<0&&(ft.cleanData(E(this)),e&&e.replaceChild(t,this))},n)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){ft.fn[t]=function(t){for(var e,n=0,i=[],o=ft(t),r=o.length-1;n<=r;n++)e=n===r?this:this.clone(!0),ft(o[n])[a](e),at.apply(i,e.get());return this.pushStack(i)}});var ue,de={HTML:"block",BODY:"block"},he=/^margin/,fe=new RegExp("^("+Bt+")(?!px)[a-z%]+$","i"),pe=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o},ge=it.documentElement;!function(){function t(){var t,e,n=it.documentElement;n.appendChild(c),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",i=r=l=!1,o=s=!0,D.getComputedStyle&&(e=D.getComputedStyle(u),i="1%"!==(e||{}).top,l="2px"===(e||{}).marginLeft,r="4px"===(e||{width:"4px"}).width,u.style.marginRight="50%",o="4px"===(e||{marginRight:"4px"}).marginRight,(t=u.appendChild(it.createElement("div"))).style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",u.style.width="1px",s=!parseFloat((D.getComputedStyle(t)||{}).marginRight),u.removeChild(t)),u.style.display="none",(a=0===u.getClientRects().length)&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",u.childNodes[0].style.borderCollapse="separate",(t=u.getElementsByTagName("td"))[0].style.cssText="margin:0;border:0;padding:0;display:none",(a=0===t[0].offsetHeight)&&(t[0].style.display="",t[1].style.display="none",a=0===t[0].offsetHeight)),n.removeChild(c)}var i,o,r,a,s,l,c=it.createElement("div"),u=it.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",dt.opacity="0.5"===u.style.opacity,dt.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",dt.clearCloneStyle="content-box"===u.style.backgroundClip,(c=it.createElement("div")).style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",c.appendChild(u),dt.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,ft.extend(dt,{reliableHiddenOffsets:function(){return null==i&&t(),a},boxSizingReliable:function(){return null==i&&t(),r},pixelMarginRight:function(){return null==i&&t(),o},pixelPosition:function(){return null==i&&t(),i},reliableMarginRight:function(){return null==i&&t(),s},reliableMarginLeft:function(){return null==i&&t(),l}}))}();var me,Ee,ve=/^(top|right|bottom|left)$/;D.getComputedStyle?(me=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=D),e.getComputedStyle(t)},Ee=function(t,e,n){var i,o,r,a,s=t.style;return""!==(a=(n=n||me(t))?n.getPropertyValue(e)||n[e]:undefined)&&a!==undefined||ft.contains(t.ownerDocument,t)||(a=ft.style(t,e)),n&&!dt.pixelMarginRight()&&fe.test(a)&&he.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),a===undefined?a:a+""}):ge.currentStyle&&(me=function(t){return t.currentStyle},Ee=function(t,e,n){var i,o,r,a,s=t.style;return null==(a=(n=n||me(t))?n[e]:undefined)&&s&&s[e]&&(a=s[e]),fe.test(a)&&!ve.test(e)&&(i=s.left,(r=(o=t.runtimeStyle)&&o.left)&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":a,a=s.pixelLeft+"px",s.left=i,r&&(o.left=r)),a===undefined?a:a+""||"auto"});var Te=/alpha\([^)]*\)/i,ye=/opacity\s*=\s*([^)]*)/i,be=/^(none|table(?!-c[ea]).+)/,Ce=new RegExp("^("+Bt+")(.*)$","i"),De={position:"absolute",visibility:"hidden",display:"block"},Ie={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"],Re=it.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ee(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":dt.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=ft.camelCase(e),l=t.style;if(e=ft.cssProps[s]||(ft.cssProps[s]=S(s)||s),a=ft.cssHooks[e]||ft.cssHooks[s],n===undefined)return a&&"get"in a&&(o=a.get(t,!1,i))!==undefined?o:l[e];if("string"===(r=typeof n)&&(o=Mt.exec(n))&&o[1]&&(n=d(t,e,o),r="number"),null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(ft.cssNumber[s]?"":"px")),dt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(a&&"set"in a&&(n=a.set(t,n,i))===undefined)))try{l[e]=n}catch(c){}}},css:function(t,e,n,i){var o,r,a,s=ft.camelCase(e);return e=ft.cssProps[s]||(ft.cssProps[s]=S(s)||s),(a=ft.cssHooks[e]||ft.cssHooks[s])&&"get"in a&&(r=a.get(t,!0,n)),r===undefined&&(r=Ee(t,e,i)),"normal"===r&&e in Ie&&(r=Ie[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),ft.each(["height","width"],function(t,o){ft.cssHooks[o]={get:function(t,e,n){if(e)return be.test(ft.css(t,"display"))&&0===t.offsetWidth?pe(t,De,function(){return P(t,o,n)}):P(t,o,n)},set:function(t,e,n){var i=n&&me(t);return N(t,e,n?L(t,o,n,dt.boxSizing&&"border-box"===ft.css(t,"boxSizing",!1,i),i):0)}}}),dt.opacity||(ft.cssHooks.opacity={get:function(t,e){return ye.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=ft.isNumeric(e)?"alpha(opacity="+100*e+")":"",r=i&&i.filter||n.filter||"";((n.zoom=1)<=e||""===e)&&""===ft.trim(r.replace(Te,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=Te.test(r)?r.replace(Te,o):r+" "+o)}}),ft.cssHooks.marginRight=x(dt.reliableMarginRight,function(t,e){if(e)return pe(t,{display:"inline-block"},Ee,[t,"marginRight"])}),ft.cssHooks.marginLeft=x(dt.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ee(t,"marginLeft"))||(ft.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-pe(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px"}),ft.each({margin:"",padding:"",border:"Width"},function(o,r){ft.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+$t[e]+r]=i[e]||i[e-2]||i[0];return n}},he.test(o)||(ft.cssHooks[o+r].set=N)}),ft.fn.extend({css:function(t,e){return qt(this,function(t,e,n){var i,o,r={},a=0;if(ft.isArray(e)){for(i=me(t),o=e.length;a<o;a++)r[e[a]]=ft.css(t,e[a],!1,i);return r}return n!==undefined?ft.style(t,e,n):ft.css(t,e)},t,e,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){jt(this)?ft(this).show():ft(this).hide()})}}),(ft.Tween=F).prototype={constructor:F,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(ft.cssNumber[n]?"":"px")},cur:function(){var t=F.propHooks[this.prop];return t&&t.get?t.get(this):F.propHooks._default.get(this)},run:function(t){var e,n=F.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=F.prototype.init,ft.fx.step={};var ke,_e,we,Ke,xe,Se,Ae,Ne=/^(?:toggle|show|hide)$/,Le=/queueHooks$/;ft.Animation=ft.extend(H,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Mt.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Kt);for(var n,i=0,o=t.length;i<o;i++)n=t[i],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(e)},prefilters:[j],prefilter:function(t,e){e?H.prefilters.unshift(t):H.prefilters.push(t)}}),ft.speed=function(t,e,n){var i=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return i.duration=ft.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ft.fx.speeds?ft.fx.speeds[i.duration]:ft.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){ft.isFunction(i.old)&&i.old.call(this),i.queue&&ft.dequeue(this,i.queue)},i},ft.fn.extend({fadeTo:function(t,e,n,i){return this.filter(jt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var o=ft.isEmptyObject(e),r=ft.speed(t,n,i),a=function(){var t=H(this,ft.extend({},e),r);(o||ft._data(this,"finish"))&&t.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(o,t,r){var a=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof o&&(r=t,t=o,o=undefined),t&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=ft.timers,i=ft._data(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Le.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||ft.dequeue(this,o)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=ft._data(this),n=e[a+"queue"],i=e[a+"queueHooks"],o=ft.timers,r=n?n.length:0;for(e.finish=!0,ft.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;
)o[t].elem===this&&o[t].queue===a&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),ft.each(["toggle","show","hide"],function(t,i){var o=ft.fn[i];ft.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(M(i,!0),t,e,n)}}),ft.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){ft.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),ft.timers=[],ft.fx.tick=function(){var t,e=ft.timers,n=0;for(ke=ft.now();n<e.length;n++)(t=e[n])()||e[n]!==t||e.splice(n--,1);e.length||ft.fx.stop(),ke=undefined},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){_e||(_e=D.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){D.clearInterval(_e),_e=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(i,t){return i=ft.fx&&ft.fx.speeds[i]||i,t=t||"fx",this.queue(t,function(t,e){var n=D.setTimeout(t,i);e.stop=function(){D.clearTimeout(n)}})},Ke=it.createElement("input"),xe=it.createElement("div"),Se=it.createElement("select"),Ae=Se.appendChild(it.createElement("option")),(xe=it.createElement("div")).setAttribute("className","t"),xe.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",we=xe.getElementsByTagName("a")[0],Ke.setAttribute("type","checkbox"),xe.appendChild(Ke),(we=xe.getElementsByTagName("a")[0]).style.cssText="top:1px",dt.getSetAttribute="t"!==xe.className,dt.style=/top/.test(we.getAttribute("style")),dt.hrefNormalized="/a"===we.getAttribute("href"),dt.checkOn=!!Ke.value,dt.optSelected=Ae.selected,dt.enctype=!!it.createElement("form").enctype,Se.disabled=!0,dt.optDisabled=!Ae.disabled,(Ke=it.createElement("input")).setAttribute("value",""),dt.input=""===Ke.getAttribute("value"),Ke.value="t",Ke.setAttribute("type","radio"),dt.radioValue="t"===Ke.value;var Pe=/\r/g,Fe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(n){var i,t,o,e=this[0];return arguments.length?(o=ft.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=o?n.call(this,t,ft(this).val()):n)?e="":"number"==typeof e?e+="":ft.isArray(e)&&(e=ft.map(e,function(t){return null==t?"":t+""})),(i=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,e,"value")!==undefined||(this.value=e))})):e?(i=ft.valHooks[e.type]||ft.valHooks[e.nodeName.toLowerCase()])&&"get"in i&&(t=i.get(e,"value"))!==undefined?t:"string"==typeof(t=e.value)?t.replace(Pe,""):null==t?"":t:void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(Fe," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,a=r?null:[],s=r?o+1:i.length,l=o<0?s:r?o:0;l<s;l++)if(((n=i[l]).selected||l===o)&&(dt.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=ft.makeArray(e),a=o.length;a--;)if(i=o[a],-1<ft.inArray(ft.valHooks.option.get(i),r))try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){if(ft.isArray(e))return t.checked=-1<ft.inArray(ft(t).val(),e)}},dt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Be,Me,$e=ft.expr.attrHandle,je=/^(?:checked|selected)$/i,qe=dt.getSetAttribute,He=dt.input;ft.fn.extend({attr:function(t,e){return qt(this,ft.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===r&&ft.isXMLDoc(t)||(e=e.toLowerCase(),o=ft.attrHooks[e]||(ft.expr.match.bool.test(e)?Me:Be)),n!==undefined?null===n?void ft.removeAttr(t,e):o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=ft.find.attr(t,e))?undefined:i)},attrHooks:{type:{set:function(t,e){if(!dt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(Kt);if(r&&1===t.nodeType)for(;n=r[o++];)i=ft.propFix[n]||n,ft.expr.match.bool.test(n)?He&&qe||!je.test(n)?t[i]=!1:t[ft.camelCase("default-"+n)]=t[i]=!1:ft.attr(t,n,""),t.removeAttribute(qe?n:i)}}),Me={set:function(t,e,n){return!1===e?ft.removeAttr(t,n):He&&qe||!je.test(n)?t.setAttribute(!qe&&ft.propFix[n]||n,n):t[ft.camelCase("default-"+n)]=t[n]=!0,n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var r=$e[e]||ft.find.attr;He&&qe||!je.test(e)?$e[e]=function(t,e,n){var i,o;return n||(o=$e[e],$e[e]=i,i=null!=r(t,e,n)?e.toLowerCase():null,$e[e]=o),i}:$e[e]=function(t,e,n){if(!n)return t[ft.camelCase("default-"+e)]?e.toLowerCase():null}}),He&&qe||(ft.attrHooks.value={set:function(t,e,n){if(!ft.nodeName(t,"input"))return Be&&Be.set(t,e,n);t.defaultValue=e}}),qe||(Be={set:function(t,e,n){var i=t.getAttributeNode(n);if(i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n))return e}},$e.id=$e.name=$e.coords=function(t,e,n){var i;if(!n)return(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},ft.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);if(n&&n.specified)return n.value},set:Be.set},ft.attrHooks.contenteditable={set:function(t,e,n){Be.set(t,""!==e&&e,n)}},ft.each(["width","height"],function(t,n){ft.attrHooks[n]={set:function(t,e){if(""===e)return t.setAttribute(n,"auto"),e}}})),dt.style||(ft.attrHooks.style={get:function(t){return t.style.cssText||undefined},set:function(t,e){return t.style.cssText=e+""}});var Ue=/^(?:input|select|textarea|button|object)$/i,We=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return qt(this,ft.prop,t,e,1<arguments.length)},removeProp:function(e){return e=ft.propFix[e]||e,this.each(function(){try{this[e]=undefined,delete this[e]}catch(t){}})}}),ft.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,o=ft.propHooks[e]),n!==undefined?o&&"set"in o&&(i=o.set(t,n,e))!==undefined?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):Ue.test(t.nodeName)||We.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),dt.hrefNormalized||ft.each(["href","src"],function(t,e){ft.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),dt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this}),dt.enctype||(ft.propFix.enctype="encoding");var ze=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(e){var t,n,i,o,r,a,s,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Kt)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace(ze," ")){for(a=0;r=t[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,o,r,a,s,l=0;if(ft.isFunction(e))return this.each(function(t){ft(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Kt)||[];n=this[l++];)if(o=U(n),i=1===n.nodeType&&(" "+o+" ").replace(ze," ")){for(a=0;r=t[a++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");o!==(s=ft.trim(i))&&ft.attr(n,"class",s)}return this},toggleClass:function(o,e){var r=typeof o;return"boolean"==typeof e&&"string"===r?e?this.addClass(o):this.removeClass(o):ft.isFunction(o)?this.each(function(t){ft(this).toggleClass(o.call(this,t,U(this),e),e)}):this.each(function(){var t,e,n,i;if("string"===r)for(e=0,n=ft(this),i=o.match(Kt)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else o!==undefined&&"boolean"!==r||((t=U(this))&&ft._data(this,"__className__",t),ft.attr(this,"class",t||!1===o?"":ft._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&-1<(" "+U(n)+" ").replace(ze," ").indexOf(e))return!0;return!1}}),ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){ft.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Ve=D.location,Ge=ft.now(),Xe=/\?/,Je=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;ft.parseJSON=function(t){if(D.JSON&&D.JSON.parse)return D.JSON.parse(t+"");var o,r=null,e=ft.trim(t+"");return e&&!ft.trim(e.replace(Je,function(t,e,n,i){return o&&e&&(r=0),0===r?t:(o=n||e,r+=!i-!n,"")}))?Function("return "+e)():ft.error("Invalid JSON: "+t)},ft.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{D.DOMParser?e=(new D.DOMParser).parseFromString(t,"text/xml"):((e=new D.ActiveXObject("Microsoft.XMLDOM")).async="false",e.loadXML(t))}catch(n){e=undefined}return e&&e.documentElement&&!e.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+t),e};var Ye=/#.*$/,Qe=/([?&])_=[^&]*/,Ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,tn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,en=/^(?:GET|HEAD)$/,nn=/^\/\//,on=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,rn={},an={},sn="*/".concat("*"),ln=Ve.href,cn=on.exec(ln.toLowerCase())||[];ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ln,type:"GET",isLocal:tn.test(cn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ft.parseJSON,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,ft.ajaxSettings),e):V(ft.ajaxSettings,t)},ajaxPrefilter:W(rn),ajaxTransport:W(an),ajax:function(t,e){function n(t,e,n,i){var o,r,a,s,l,c=e;2!==b&&(b=2,h&&D.clearTimeout(h),p=undefined,d=i||"",C.readyState=0<t?4:0,o=200<=t&&t<300||304===t,n&&(s=G(g,C,n)),s=X(g,s,C,o),o?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(ft.lastModified[u]=l),(l=C.getResponseHeader("etag"))&&(ft.etag[u]=l)),204===t||"HEAD"===g.type?c="nocontent":304===t?c="notmodified":(c=s.state,r=s.data,o=!(a=s.error))):(a=c,!t&&c||(c="error",t<0&&(t=0))),C.status=t,C.statusText=(e||c)+"",o?v.resolveWith(m,[r,c,C]):v.rejectWith(m,[C,c,a]),C.statusCode(y),y=undefined,f&&E.trigger(o?"ajaxSuccess":"ajaxError",[C,g,o?r:a]),T.fireWith(m,[C,c]),f&&(E.trigger("ajaxComplete",[C,g]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=undefined),e=e||{};var i,o,u,d,h,f,p,r,g=ft.ajaxSetup({},e),m=g.context||g,E=g.context&&(m.nodeType||m.jquery)?ft(m):ft.event,v=ft.Deferred(),T=ft.Callbacks("once memory"),y=g.statusCode||{},a={},s={},b=0,l="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!r)for(r={};e=Ze.exec(d);)r[e[1].toLowerCase()]=e[2];e=r[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?d:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return b||(t=s[n]=s[n]||t,a[t]=e),this},overrideMimeType:function(t){return b||(g.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)y[e]=[y[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||l;return p&&p.abort(e),n(0,e),this}};if(v.promise(C).complete=T.add,C.success=C.done,C.error=C.fail,g.url=((t||g.url||ln)+"").replace(Ye,"").replace(nn,cn[1]+"//"),g.type=e.method||e.type||g.method||g.type,g.dataTypes=ft.trim(g.dataType||"*").toLowerCase().match(Kt)||[""],null==g.crossDomain&&(i=on.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===cn[1]&&i[2]===cn[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(cn[3]||("http:"===cn[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=ft.param(g.data,g.traditional)),z(rn,g,e,C),2===b)return C;for(o in(f=ft.event&&g.global)&&0==ft.active++&&ft.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!en.test(g.type),u=g.url,g.hasContent||(g.data&&(u=g.url+=(Xe.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=Qe.test(u)?u.replace(Qe,"$1_="+Ge++):u+(Xe.test(u)?"&":"?")+"_="+Ge++)),g.ifModified&&(ft.lastModified[u]&&C.setRequestHeader("If-Modified-Since",ft.lastModified[u]),ft.etag[u]&&C.setRequestHeader("If-None-Match",ft.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||e.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+sn+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(o,g.headers[o]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||2===b))return C.abort();for(o in l="abort",{success:1,error:1,complete:1})C[o](g[o]);if(p=z(an,g,e,C)){if(C.readyState=1,f&&E.trigger("ajaxSend",[C,g]),2===b)return C;g.async&&0<g.timeout&&(h=D.setTimeout(function(){C.abort("timeout")},g.timeout));try{b=1,p.send(a,n)}catch(c){if(!(b<2))throw c;n(-1,c)}}else n(-1,"No Transport");return C},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,undefined,e,"script")}}),ft.each(["get","post"],function(t,o){ft[o]=function(t,e,n,i){return ft.isFunction(e)&&(i=i||n,n=e,e=undefined),ft.ajax(ft.extend({url:t,type:o,dataType:i,data:e,success:n},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(e){if(ft.isFunction(e))return this.each(function(t){ft(this).wrapAll(e.call(this,t))});if(this[0]){var t=ft(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(n){return ft.isFunction(n)?this.each(function(t){ft(this).wrapInner(n.call(this,t))}):this.each(function(){var t=ft(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=ft.isFunction(e);return this.each(function(t){ft(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){ft.nodeName(this,"body")||ft(this).replaceWith(this.childNodes)}).end()}}),ft.expr.filters.hidden=function(t){return dt.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Y(t)},ft.expr.filters.visible=function(t){return!ft.expr.filters.hidden(t)};var un=/%20/g,dn=/\[\]$/,hn=/\r?\n/g,fn=/^(?:submit|button|image|reset|file)$/i,pn=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,i=[],o=function(t,e){e=ft.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(e===undefined&&(e=ft.ajaxSettings&&ft.ajaxSettings.traditional),ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){o(this.name,this.value)});else for(n in t)Q(n,t[n],e,o);return i.join("&").replace(un,"+")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&pn.test(this.nodeName)&&!fn.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(hn,"\r\n")}}):{name:e.name,value:n.replace(hn,"\r\n")}}).get()}}),ft.ajaxSettings.xhr=D.ActiveXObject!==undefined?function(){return this.isLocal?tt():8<it.documentMode?Z():/^(get|post|head|put|delete|options)$/i.test(this.type)&&Z()||tt()}:Z;var gn=0,mn={},En=ft.ajaxSettings.xhr();D.attachEvent&&D.attachEvent("onunload",function(){for(var t in mn)mn[t](undefined,!0)}),dt.cors=!!En&&"withCredentials"in En,(En=dt.ajax=!!En)&&ft.ajaxTransport(function(c){var u;if(!c.crossDomain||dt.cors)return{send:function(t,a){var e,s=c.xhr(),l=++gn;if(s.open(c.type,c.url,c.async,c.username,c.password),c.xhrFields)for(e in c.xhrFields)s[e]=c.xhrFields[e];for(e in c.mimeType&&s.overrideMimeType&&s.overrideMimeType(c.mimeType),c.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)t[e]!==undefined&&s.setRequestHeader(e,t[e]+"");s.send(c.hasContent&&c.data||null),u=function(t,e){var n,i,o;if(u&&(e||4===s.readyState))if(delete mn[l],u=undefined,s.onreadystatechange=ft.noop,e)4!==s.readyState&&s.abort();else{o={},n=s.status,"string"==typeof s.responseText&&(o.text=s.responseText);try{i=s.statusText}catch(r){i=""}n||!c.isLocal||c.crossDomain?1223===n&&(n=204):n=o.text?200:404}o&&a(n,i,o,s.getAllResponseHeaders())},c.async?4===s.readyState?D.setTimeout(u):s.onreadystatechange=mn[l]=u:u()},abort:function(){u&&u(undefined,!0)}}}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){t.cache===undefined&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ft.ajaxTransport("script",function(e){if(e.crossDomain){var i,o=it.head||ft("head")[0]||it.documentElement;return{send:function(t,n){(i=it.createElement("script")).async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||n(200,"success"))},o.insertBefore(i,o.firstChild)},abort:function(){i&&i.onload(undefined,!0)}}}});var vn=[],Tn=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=vn.pop()||ft.expando+"_"+Ge++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,a=!1!==t.jsonp&&(Tn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Tn.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=ft.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Tn,"$1"+i):!1!==t.jsonp&&(t.url+=(Xe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||ft.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=D[i],D[i]=function(){r=arguments},n.always(function(){o===undefined?ft(D).removeProp(i):D[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,vn.push(i)),r&&ft.isFunction(o)&&o(r[0]),r=o=undefined}),"script"}),ft.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=g([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))};var yn=ft.fn.load;ft.fn.load=function(t,e,n){if("string"!=typeof t&&yn)return yn.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return-1<s&&(i=ft.trim(t.slice(s,t.length)),t=t.slice(0,s)),ft.isFunction(e)?(n=e,e=undefined):e&&"object"==typeof e&&(o="POST"),0<a.length&&ft.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?ft("<div>").append(ft.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.filters.animated=function(e){return ft.grep(ft.timers,function(t){return e===t.elem}).length},ft.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=ft.css(t,"position"),u=ft(t),d={};"static"===c&&(t.style.position="relative"),s=u.offset(),r=ft.css(t,"top"),l=ft.css(t,"left"),("absolute"===c||"fixed"===c)&&-1<ft.inArray("auto",[r,l])?(a=(i=u.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},s))),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+o),"using"in e?e.using.call(t,d):u.css(d)}},ft.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){ft.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},o=this[0],r=o&&o.ownerDocument;return r?(t=r.documentElement,ft.contains(t,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(r),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===ft.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(n=t.offset()),n.top+=ft.css(t[0],"borderTopWidth",!0),n.left+=ft.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-ft.css(i,"marginTop",!0),left:e.left-n.left-ft.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!ft.nodeName(t,"html")&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||ge})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r=/Y/.test(o);ft.fn[e]=function(t){return qt(this,function(t,e,n){var i=et(t);if(n===undefined)return i?o in i?i[o]:i.document.documentElement[e]:t[e];i?i.scrollTo(r?ft(i).scrollLeft():n,r?n:ft(i).scrollTop()):t[e]=n},e,t,arguments.length,null)}}),ft.each(["top","left"],function(t,n){ft.cssHooks[n]=x(dt.pixelPosition,function(t,e){if(e)return e=Ee(t,n),fe.test(e)?ft(t).position()[n]+"px":e})}),ft.each({Height:"height",Width:"width"},function(r,a){ft.each({padding:"inner"+r,content:a,"":"outer"+r},function(i,t){ft.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return qt(this,function(t,e,n){var i;return ft.isWindow(t)?t.document.documentElement["client"+r]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+r],i["scroll"+r],t.body["offset"+r],i["offset"+r],i["client"+r])):n===undefined?ft.css(t,e,o):ft.style(t,e,n,o)},a,n?t:undefined,n,null)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.fn.size=function(){return this.length},ft.fn.andSelf=ft.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var bn=D.jQuery,Cn=D.$;return ft.noConflict=function(t){return D.$===ft&&(D.$=Cn),t&&D.jQuery===ft&&(D.jQuery=bn),ft},t||(D.jQuery=D.$=ft),ft}),function(u,l){"use strict";var c;u.rails!==l&&u.error("jquery-ujs has already been loaded!");var t=u(document);u.rails=c={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return u("meta[name=csrf-token]").attr("content")},csrfParam:function(){return u("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=c.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){u('form input[name="'+c.csrfParam()+'"]').val(c.csrfToken())},fire:function(t,e,n){var i=u.Event(e);return t.trigger(i,n),!1!==i.result},confirm:function(t){return confirm(t)},ajax:function(t){return u.ajax(t)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==l&&!1!==t.data("remote")},handleRemote:function(i){var t,e,n,o,r,a;if(c.fire(i,"ajax:before")){if(o=i.data("with-credentials")||null,r=i.data("type")||u.ajaxSettings&&u.ajaxSettings.dataType,i.is("form")){t=i.data("ujs:submit-button-formmethod")||i.attr("method"),e=i.data("ujs:submit-button-formaction")||i.attr("action"),n=u(i[0]).serializeArray();var s=i.data("ujs:submit-button");s&&(n.push(s),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(c.inputChangeSelector)?(t=i.data("method"),e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):i.is(c.buttonClickSelector)?(t=i.data("method")||"get",e=i.data("url"),n=i.serialize(),i.data("params")&&(n=n+"&"+i.data("params"))):(t=i.data("method"),e=c.href(i),n=i.data("params")||null);return a={type:t||"GET",data:n,dataType:r,beforeSend:function(t,e){if(e.dataType===l&&t.setRequestHeader("accept","*/*;q=0.5, "+e.accepts.script),!c.fire(i,"ajax:beforeSend",[t,e]))return!1;i.trigger("ajax:send",t)},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c.isCrossDomain(e)},o&&(a.xhrFields={withCredentials:o}),e&&(a.url=e),c.ajax(a)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var n=document.createElement("a");try{return n.href=t,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||e.protocol+"//"+e.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(t){var e=c.href(t),n=t.data("method"),i=t.attr("target"),o=c.csrfToken(),r=c.csrfParam(),a=u('<form method="post" action="'+e+'"></form>'),s='<input name="_method" value="'+n+'" type="hidden" />';r===l||o===l||c.isCrossDomain(e)||(s+='<input name="'+r+'" value="'+o+'" type="hidden" />'),i&&a.attr("target",i),a.hide().append(s).appendTo("body"),a.submit()},formElements:function(t,e){return t.is("form")?u(t[0].elements).filter(e):t.find(e)},disableFormElements:function(t){c.formElements(t,c.disableSelector).each(function(){c.disableFormElement(u(this))})},disableFormElement:function(t){var e,n;e=t.is("button")?"html":"val",(n=t.data("disable-with"))!==l&&(t.data("ujs:enable-with",t[e]()),t[e](n)),t.prop("disabled",!0),t.data("ujs:disabled",!0)},enableFormElements:function(t){c.formElements(t,c.enableSelector).each(function(){c.enableFormElement(u(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";t.data("ujs:enable-with")!==l&&(t[e](t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.prop("disabled",!1),t.removeData("ujs:disabled")},allowAction:function(t){var e,n=t.data("confirm"),i=!1;if(!n)return!0;if(c.fire(t,"confirm")){try{i=c.confirm(n)}catch(o){(console.error||console.log).call(console,o.stack||o)}e=c.fire(t,"confirm:complete",[i])}return i&&e},blankInputs:function(t,e,n){var i,o,r,a=u(),s=e||"input,textarea",l=t.find(s),c={};return l.each(function(){(i=u(this)).is("input[type=radio]")?(r=i.attr("name"),c[r]||(0===t.find('input[type=radio]:checked[name="'+r+'"]').length&&(o=t.find('input[type=radio][name="'+r+'"]'),a=a.add(o)),c[r]=r)):(i.is("input[type=checkbox],input[type=radio]")?i.is(":checked"):!!i.val())===n&&(a=a.add(i))}),!!a.length&&a},nonBlankInputs:function(t,e){return c.blankInputs(t,e,!0)},stopEverything:function(t){return u(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(t){var e=t.data("disable-with");e!==l&&(t.data("ujs:enable-with",t.html()),t.html(e)),t.bind("click.railsDisable",function(t){return c.stopEverything(t)}),t.data("ujs:disabled",!0)},enableElement:function(t){t.data("ujs:enable-with")!==l&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable"),t.removeData("ujs:disabled")}},c.fire(t,"rails:attachBindings")&&(u.ajaxPrefilter(function(t,e,n){t.crossDomain||c.CSRFProtection(n)}),u(window).on("pageshow.rails",function(){u(u.rails.enableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableFormElement(t)}),u(u.rails.linkDisableSelector).each(function(){var t=u(this);t.data("ujs:disabled")&&u.rails.enableElement(t)})}),t.on("ajax:complete",c.linkDisableSelector,function(){c.enableElement(u(this))}),t.on("ajax:complete",c.buttonDisableSelector,function(){c.enableFormElement(u(this))}),t.on("click.rails",c.linkClickSelector,function(t){var e=u(this),n=e.data("method"),i=e.data("params"),o=t.metaKey||t.ctrlKey;if(!c.allowAction(e))return c.stopEverything(t);if(!o&&e.is(c.linkDisableSelector)&&c.disableElement(e),c.isRemote(e)){if(o&&(!n||"GET"===n)&&!i)return!0;var r=c.handleRemote(e);return!1===r?c.enableElement(e):r.fail(function(){c.enableElement(e)}),!1}return n?(c.handleMethod(e),!1):void 0}),t.on("click.rails",c.buttonClickSelector,function(t){var e=u(this);if(!c.allowAction(e)||!c.isRemote(e))return c.stopEverything(t);e.is(c.buttonDisableSelector)&&c.disableFormElement(e);var n=c.handleRemote(e);return!1===n?c.enableFormElement(e):n.fail(function(){c.enableFormElement(e)}),!1}),t.on("change.rails",c.inputChangeSelector,function(t){var e=u(this);return c.allowAction(e)&&c.isRemote(e)?(c.handleRemote(e),!1):c.stopEverything(t)}),t.on("submit.rails",c.formSubmitSelector,function(t){var e,n,i=u(this),o=c.isRemote(i);if(!c.allowAction(i))return c.stopEverything(t);if(i.attr("novalidate")===l)if(i.data("ujs:formnovalidate-button")===l){if((e=c.blankInputs(i,c.requiredInputSelector,!1))&&c.fire(i,"ajax:aborted:required",[e]))return c.stopEverything(t)}else i.data("ujs:formnovalidate-button",l);if(o){if(n=c.nonBlankInputs(i,c.fileInputSelector)){setTimeout(function(){c.disableFormElements(i)},13);var r=c.fire(i,"ajax:aborted:file",[n]);return r||setTimeout(function(){c.enableFormElements(i)},13),r}return c.handleRemote(i),!1}setTimeout(function(){c.disableFormElements(i)},13)}),t.on("click.rails",c.formInputClickSelector,function(t){var e=u(this);if(!c.allowAction(e))return c.stopEverything(t);var n=e.attr("name"),i=n?{name:n,value:e.val()}:null,o=e.closest("form");0===o.length&&(o=u("#"+e.attr("form"))),o.data("ujs:submit-button",i),o.data("ujs:formnovalidate-button",e.attr("formnovalidate")),o.data("ujs:submit-button-formaction",e.attr("formaction")),o.data("ujs:submit-button-formmethod",e.attr("formmethod"))}),t.on("ajax:send.rails",c.formSubmitSelector,function(t){this===t.target&&c.disableFormElements(u(this))}),t.on("ajax:complete.rails",c.formSubmitSelector,function(t){this===t.target&&c.enableFormElements(u(this))}),u(function(){c.refreshCSRFTokens()}))}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(o){"use strict";o.fn.emulateTransitionEnd=function(t){
var e=!1,n=this;return o(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||o(n).trigger(o.support.transition.end)},t),this},o(function(){o.support.transition=function i(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}(),o.support.transition&&(o.event.special.bsTransitionEnd={bindType:o.support.transition.end,delegateType:o.support.transition.end,handle:function(t){if(o(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";var e='[data-dismiss="alert"]',a=function(t){r(t).on("click",e,this.close)};a.VERSION="3.4.0",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),i="#"===i?[]:i;var o=r(document).find(i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var t=r.fn.alert;r.fn.alert=function i(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})},r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=t,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.4.0",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function s(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.4.0",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),"object"==typeof i&&i.length&&i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=s,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e=d(this),n=e.attr("href");n&&(n=n.replace(/.*(?=#[^\s]+$)/,""));var i=e.attr("data-target")||n,o=d(document).find(i);if(o.hasClass("carousel")){var r=d.extend({},o.data(),e.data()),a=e.attr("data-slide-to");a&&(r.interval=!1),s.call(o,r),a&&o.data("bs.carousel").to(a),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);s.call(t,t.data())})})}(jQuery),function(a){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(document).find(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.4.0",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(a){"use strict";function s(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&a(document).find(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(l).each(function(){var t=a(this),e=s(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(e[0],i.target)||(e.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}var l='[data-toggle="dropdown"]',i=function(t){a(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.4.0",i.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=a.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=s(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(l).trigger("focus"),e.trigger("click");var o=n.find(".dropdown-menu li:not(.disabled):visible a");if(o.length){var r=o.index(t.target);38==t.which&&0<r&&r--,40==t.which&&r<o.length-1&&r++,~r||(r=0),o.eq(r).trigger("focus")}}}};var t=a.fn.dropdown;a.fn.dropdown=function e(n){return this.each(function(){var t=a(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,i.prototype.toggle).on("keydown.bs.dropdown.data-api",l,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(a){"use strict";function s(i,o){return this.each(function(){var t=a(this),e=t.data("bs.modal"),n=a.extend({},r.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new r(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var r=function(t,e){this.options=e,this.$body=a(document.body),this.$element=a(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};r.VERSION="3.4.0",r.TRANSITION_DURATION=300,r.BACKDROP_TRANSITION_DURATION=150,r.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},r.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},r.prototype.show=function(n){var i=this,t=a.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){a(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=a.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(r.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},r.prototype.hide=function(t){t&&t.preventDefault(),t=a.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(r.TRANSITION_DURATION):this.hideModal())},r.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},r.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},r.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},r.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},r.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},r.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=a.support.transition&&n;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(r.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},r.prototype.handleUpdate=function(){this.adjustDialog()},r.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},r.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},r.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},r.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var o=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+o),a(this.fixedContent).each(function(t,e){var n=e.style.paddingRight,i=a(e).css("padding-right");a(e).data("padding-right",n).css("padding-right",parseFloat(i)+o+"px")}))},r.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),a(this.fixedContent).each(function(t,e){var n=a(e).data("padding-right");a(e).removeData("padding-right"),e.style.paddingRight=n||""})},r.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=a.fn.modal;a.fn.modal=s,a.fn.modal.Constructor=r,a.fn.modal.noConflict=function(){return a.fn.modal=t,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=a(this),n=e.attr("href"),i=e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,""),o=a(document).find(i),r=o.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(n)&&n},o.data(),e.data());e.is("a")&&t.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),s.call(o,r,this)})}(jQuery),function(g){"use strict";var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.4.0",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(document).find(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(g(document).find(this.options.container)):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>h.bottom?"top":"top"==r&&l.top-u<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(d).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-o+l,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var t=g.fn.tooltip;g.fn.tooltip=function e(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=t,this}}(jQuery),function(o){"use strict";var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.4.0",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype)).constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var t=o.fn.popover;o.fn.popover=function e(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})},o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=t,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(t).is(document.body)?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.4.0",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(o[t+1]===undefined||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),
function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.4.0",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(document).find(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e);var n=this.options.target===c.DEFAULTS.target?l(this.options.target):l(document).find(this.options.target);this.$target=n.on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.4.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==undefined)return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";function t(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){r(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=r.fn.alert;r.fn.alert=t,r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=n,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(t=e.data("bs.collapse"))&&t.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var o=" li:not(.disabled):visible a",r=n.find(".dropdown-menu"+o);if(r.length){var a=r.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<r.length-1&&a++,~a||(a=0),r.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";function a(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var s=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=s,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,o,this)})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(t).is(document.body)?r(window):r(t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(o[t+1]===undefined||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(g){"use strict";function t(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(
e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState)e.hoverState="in";else{if(clearTimeout(e.timeout),e.hoverState="in",!e.options.delay||!e.options.delay.show)return e.show();e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue()){if(clearTimeout(e.timeout),e.hoverState="out",!e.options.delay||!e.options.delay.hide)return e.hide();e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)}},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>h.bottom?"top":"top"==r&&l.top-u<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(d).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-o+l,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})}var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype),(r.prototype.constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=o.fn.popover;o.fn.popover=t,o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";function t(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}i.fn.emulateTransitionEnd=function(t){var e=!1,n=this;return i(this).one("bsTransitionEnd",function(){e=!0}),setTimeout(function(){e||i(n).trigger(i.support.transition.end)},t),this},i(function(){i.support.transition=t(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(t){if(i(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(r){"use strict";function t(n){return this.each(function(){var t=r(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new a(this)),"string"==typeof n&&e[n].call(t)})}var e='[data-dismiss="alert"]',a=function(t){r(t).on("click",e,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(t){function e(){o.detach().trigger("closed.bs.alert").remove()}var n=r(this),i=n.attr("data-target");i||(i=(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,""));var o=r("#"===i?[]:i);t&&t.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(t=r.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),r.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",e).emulateTransitionEnd(a.TRANSITION_DURATION):e())};var n=r.fn.alert;r.fn.alert=t,r.fn.alert.Constructor=a,r.fn.alert.noConflict=function(){return r.fn.alert=n,this},r(document).on("click.bs.alert.data-api",e,a.prototype.close)}(jQuery),function(r){"use strict";function n(i){return this.each(function(){var t=r(this),e=t.data("bs.button"),n="object"==typeof i&&i;e||t.data("bs.button",e=new o(this,n)),"toggle"==i?e.toggle():i&&e.setState(i)})}var o=function(t,e){this.$element=r(t),this.options=r.extend({},o.DEFAULTS,e),this.isLoading=!1};o.VERSION="3.3.7",o.DEFAULTS={loadingText:"loading..."},o.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",o=n.data();t+="Text",null==o.resetText&&n.data("resetText",n[i]()),setTimeout(r.proxy(function(){n[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(e).attr(e,e).prop(e,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(e).removeAttr(e).prop(e,!1))},this),0)},o.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var t=r.fn.button;r.fn.button=n,r.fn.button.Constructor=o,r.fn.button.noConflict=function(){return r.fn.button=t,this},r(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var e=r(t.target).closest(".btn");n.call(e,"toggle"),r(t.target).is('input[type="radio"], input[type="checkbox"]')||(t.preventDefault(),e.is("input,button")?e.trigger("focus"):e.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){r(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(d){"use strict";function a(o){return this.each(function(){var t=d(this),e=t.data("bs.carousel"),n=d.extend({},h.DEFAULTS,t.data(),"object"==typeof o&&o),i="string"==typeof o?o:n.slide;e||t.data("bs.carousel",e=new h(this,n)),"number"==typeof o?e.to(o):i?e[i]():n.interval&&e.pause().cycle()})}var h=function(t,e){this.$element=d(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},h.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},h.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},h.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(t,e){var n=this.$element.find(".item.active"),i=e||this.getItemForDirection(t,n),o=this.interval,r="next"==t?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:r});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:r});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,n.addClass(r),i.addClass(r),n.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),o&&this.cycle(),this}};var t=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=t,this};var e=function(t){var e,n=d(this),i=d(n.attr("data-target")||(e=n.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var o=d.extend({},i.data(),n.data()),r=n.attr("data-slide-to");r&&(o.interval=!1),a.call(i,o),r&&i.data("bs.carousel").to(r),t.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var t=d(this);a.call(t,t.data())})})}(jQuery),function(a){"use strict";function o(t){var e,n=t.attr("data-target")||(e=t.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function s(i){return this.each(function(){var t=a(this),e=t.data("bs.collapse"),n=a.extend({},l.DEFAULTS,t.data(),"object"==typeof i&&i);!e&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),e||t.data("bs.collapse",e=new l(this,n)),"string"==typeof i&&e[i]()})}var l=function(t,e){this.$element=a(t),this.options=a.extend({},l.DEFAULTS,e),this.$trigger=a('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};l.VERSION="3.3.7",l.TRANSITION_DURATION=350,l.DEFAULTS={toggle:!0},l.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},l.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&((t=e.data("bs.collapse"))&&t.transitioning))){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){e&&e.length&&(s.call(e,"hide"),t||e.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return o.call(this);var r=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(o,this)).emulateTransitionEnd(l.TRANSITION_DURATION)[i](this.$element[0][r])}}}},l.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=a.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[e](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(l.TRANSITION_DURATION):n.call(this)}}},l.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},l.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(t,e){var n=a(e);this.addAriaAndCollapsedClass(o(n),n)},this)).end()},l.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var t=a.fn.collapse;a.fn.collapse=s,a.fn.collapse.Constructor=l,a.fn.collapse.noConflict=function(){return a.fn.collapse=t,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var e=a(this);e.attr("data-target")||t.preventDefault();var n=o(e),i=n.data("bs.collapse")?"toggle":e.data();s.call(n,i)})}(jQuery),function(s){"use strict";function l(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#[A-Za-z]/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var n=e&&s(e);return n&&n.length?n:t.parent()}function r(i){i&&3===i.which||(s(e).remove(),s(c).each(function(){var t=s(this),e=l(t),n={relatedTarget:this};e.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&s.contains(e[0],i.target)||(e.trigger(i=s.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(t.attr("aria-expanded","false"),e.removeClass("open").trigger(s.Event("hidden.bs.dropdown",n)))))}))}function t(n){return this.each(function(){var t=s(this),e=t.data("bs.dropdown");e||t.data("bs.dropdown",e=new i(this)),"string"==typeof n&&e[n].call(t)})}var e=".dropdown-backdrop",c='[data-toggle="dropdown"]',i=function(t){s(t).on("click.bs.dropdown",this.toggle)};i.VERSION="3.3.7",i.prototype.toggle=function(t){var e=s(this);if(!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(r(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&s(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(s(this)).on("click",r);var o={relatedTarget:this};if(n.trigger(t=s.Event("show.bs.dropdown",o)),t.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(s.Event("shown.bs.dropdown",o))}return!1}},i.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var e=s(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var n=l(e),i=n.hasClass("open");if(!i&&27!=t.which||i&&27==t.which)return 27==t.which&&n.find(c).trigger("focus"),e.trigger("click");var o=" li:not(.disabled):visible a",r=n.find(".dropdown-menu"+o);if(r.length){var a=r.index(t.target);38==t.which&&0<a&&a--,40==t.which&&a<r.length-1&&a++,~a||(a=0),r.eq(a).trigger("focus")}}}};var n=s.fn.dropdown;s.fn.dropdown=t,s.fn.dropdown.Constructor=i,s.fn.dropdown.noConflict=function(){return s.fn.dropdown=n,this},s(document).on("click.bs.dropdown.data-api",r).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",c,i.prototype.toggle).on("keydown.bs.dropdown.data-api",c,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(r){"use strict";function a(i,o){return this.each(function(){var t=r(this),e=t.data("bs.modal"),n=r.extend({},s.DEFAULTS,t.data(),"object"==typeof i&&i);e||t.data("bs.modal",e=new s(this,n)),"string"==typeof i?e[i](o):n.show&&e.show(o)})}var s=function(t,e){this.options=e,this.$body=r(document.body),this.$element=r(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,r.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=300,s.BACKDROP_TRANSITION_DURATION=150,s.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},s.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},s.prototype.show=function(n){var i=this,t=r.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',r.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){r(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var t=r.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),t&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var e=r.Event("shown.bs.modal",{relatedTarget:n});t?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(s.TRANSITION_DURATION):i.$element.trigger("focus").trigger(e)}))},s.prototype.hide=function(t){t&&t.preventDefault(),t=r.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),r(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),r.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",r.proxy(this.hideModal,this)).emulateTransitionEnd(s.TRANSITION_DURATION):this.hideModal())},s.prototype.enforceFocus=function(){r(document).off("focusin.bs.modal").on("focusin.bs.modal",r.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},s.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",r.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},s.prototype.resize=function(){this.isShown?r(window).on("resize.bs.modal",r.proxy(this.handleUpdate,this)):r(window).off("resize.bs.modal")},s.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},s.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},s.prototype.backdrop=function(t){var e=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=r.support.transition&&n;if(this.$backdrop=r(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",r.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){e.removeBackdrop(),t&&t()};r.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(s.BACKDROP_TRANSITION_DURATION):o()}else t&&t()},s.prototype.handleUpdate=function(){this.adjustDialog()},s.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},s.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},s.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},s.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},s.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},s.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var t=r.fn.modal;r.fn.modal=a,r.fn.modal.Constructor=s,r.fn.modal.noConflict=function(){return r.fn.modal=t,this},r(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=r(this),n=e.attr("href"),i=r(e.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=i.data("bs.modal")?"toggle":r.extend({remote:!/#/.test(n)&&n},i.data(),e.data());e.is("a")&&t.preventDefault(),i.one("show.bs.modal",function(t){t.isDefaultPrevented()||i.one("hidden.bs.modal",function(){e.is(":visible")&&e.trigger("focus")})}),a.call(i,o,this)})}(jQuery),function(g){"use strict";function t(i){return this.each(function(){var t=g(this),e=t.data("bs.tooltip"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.tooltip",e=new m(this,n)),"string"==typeof i&&e[i]())})}var m=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(t,e,n){if(this.enabled=!0,this.type=t,this.$element=g(e),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",s="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(t){return(t=g.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(t,e){i[t]!=e&&(n[t]=e)}),n},m.prototype.enter=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);return e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusin"==t.type?"focus":"hover"]=!0),e.tip().hasClass("in")||"in"==e.hoverState?void(e.hoverState="in"):(clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show())},m.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},m.prototype.leave=function(t){var e=t instanceof this.constructor?t:g(t.currentTarget).data("bs."+this.type);if(e||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e)),t instanceof g.Event&&(e.inState["focusout"==t.type?"focus":"hover"]=!1),!e.isInStateTrue())return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},m.prototype.show=function(){var t=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var e=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!e)return;var n=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(r);s&&(r=r.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=r,h=this.getPosition(this.$viewport);r="bottom"==r&&l.bottom+u>h.bottom?"top":"top"==r&&l.top-u<h.top?"bottom":"right"==r&&l.right+c>h.width?"left":"left"==r&&l.left-c<h.left?"right":r,i.removeClass(d).addClass(r)}var f=this.getCalculatedOffset(r,l,c,u);this.applyPlacement(f,r);var p=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",p).emulateTransitionEnd(m.TRANSITION_DURATION):p()}},m.prototype.applyPlacement=function(t,e){var n=this.tip(),i=n[0].offsetWidth,o=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),t.top+=r,t.left+=a,
g.offset.setOffset(n[0],g.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},t),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==e&&l!=o&&(t.top=t.top+o-l);var c=this.getViewportAdjustedDelta(e,t,s,l);c.left?t.left+=c.left:t.top+=c.top;var u=/top|bottom/.test(e),d=u?2*c.left-i+s:2*c.top-o+l,h=u?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},m.prototype.hide=function(t){function e(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,i=g(this.$tip),o=g.Event("hide.bs."+this.type);if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),g.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(m.TRANSITION_DURATION):e(),this.hoverState=null,this},m.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(t){var e=(t=t||this.$element)[0],n="BODY"==e.tagName,i=e.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=window.SVGElement&&e instanceof window.SVGElement,r=n?{top:0,left:0}:o?null:t.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,r)},m.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},m.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,u=e.left+r+n;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},m.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},m.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(t){var e=this;t&&((e=g(t.currentTarget).data("bs."+this.type))||(e=new this.constructor(t.currentTarget,this.getDelegateOptions()),g(t.currentTarget).data("bs."+this.type,e))),t?(e.inState.click=!e.inState.click,e.isInStateTrue()?e.enter(e):e.leave(e)):e.tip().hasClass("in")?e.leave(e):e.enter(e)},m.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=t,g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(o){"use strict";function t(i){return this.each(function(){var t=o(this),e=t.data("bs.popover"),n="object"==typeof i&&i;!e&&/destroy|hide/.test(i)||(e||t.data("bs.popover",e=new r(this,n)),"string"==typeof i&&e[i]())})}var r=function(t,e){this.init("popover",t,e)};if(!o.fn.tooltip)throw new Error("Popover requires tooltip.js");r.VERSION="3.3.7",r.DEFAULTS=o.extend({},o.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),r.prototype=o.extend({},o.fn.tooltip.Constructor.prototype),(r.prototype.constructor=r).prototype.getDefaults=function(){return r.DEFAULTS},r.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},r.prototype.hasContent=function(){return this.getTitle()||this.getContent()},r.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},r.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=o.fn.popover;o.fn.popover=t,o.fn.popover.Constructor=r,o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(jQuery),function(r){"use strict";function o(t,e){this.$body=r(document.body),this.$scrollElement=r(r(t).is(document.body)?window:t),this.options=r.extend({},o.DEFAULTS,e),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r.proxy(this.process,this)),this.refresh(),this.process()}function e(i){return this.each(function(){var t=r(this),e=t.data("bs.scrollspy"),n="object"==typeof i&&i;e||t.data("bs.scrollspy",e=new o(this,n)),"string"==typeof i&&e[i]()})}o.VERSION="3.3.7",o.DEFAULTS={offset:10},o.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},o.prototype.refresh=function(){var t=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),r.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=r(this),e=t.data("target")||t.attr("href"),n=/^#./.test(e)&&r(e);return n&&n.length&&n.is(":visible")&&[[n[i]().top+o,e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},o.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},o.prototype.activate=function(t){this.activeTarget=t,this.clear();var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=r(e).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},o.prototype.clear=function(){r(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var t=r.fn.scrollspy;r.fn.scrollspy=e,r.fn.scrollspy.Constructor=o,r.fn.scrollspy.noConflict=function(){return r.fn.scrollspy=t,this},r(window).on("load.bs.scrollspy.data-api",function(){r('[data-spy="scroll"]').each(function(){var t=r(this);e.call(t,t.data())})})}(jQuery),function(s){"use strict";function e(n){return this.each(function(){var t=s(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new a(this)),"string"==typeof n&&e[n]()})}var a=function(t){this.element=s(t)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=e.find(".active:last a"),o=s.Event("hide.bs.tab",{relatedTarget:t[0]}),r=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(r),!r.isDefaultPrevented()&&!o.isDefaultPrevented()){var a=s(n);this.activate(t.closest("li"),e),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(t,e,n){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var o=e.find("> .active"),r=n&&s.support.transition&&(o.length&&o.hasClass("fade")||!!e.find("> .fade").length);o.length&&r?o.one("bsTransitionEnd",i).emulateTransitionEnd(a.TRANSITION_DURATION):i(),o.removeClass("in")};var t=s.fn.tab;s.fn.tab=e,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=t,this};var n=function(t){t.preventDefault(),e.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";function n(i){return this.each(function(){var t=l(this),e=t.data("bs.affix"),n="object"==typeof i&&i;e||t.data("bs.affix",e=new c(this,n)),"string"==typeof i&&e[i]()})}var c=function(t,e){this.options=l.extend({},c.DEFAULTS,e),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=n&&o<=n?"top":null!=i&&t-i<=l+(s?a:e)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),e=this.options.offset,n=e.top,i=e.bottom,o=Math.max(l(document).height(),l(document.body).height());"object"!=typeof e&&(i=n=e),"function"==typeof n&&(n=e.top(this.$element)),"function"==typeof i&&(i=e.bottom(this.$element));var r=this.getState(o,t,n,i);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var a="affix"+(r?"-"+r:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:o-t-i})}};var t=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=t,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var t=l(this),e=t.data();e.offset=e.offset||{},null!=e.offsetBottom&&(e.offset.bottom=e.offsetBottom),null!=e.offsetTop&&(e.offset.top=e.offsetTop),n.call(t,e)})})}(jQuery),function(){"undefined"!=typeof window.CKEDITOR_BASEPATH&&null!==window.CKEDITOR_BASEPATH||(window.CKEDITOR_BASEPATH="/assets/ckeditor/")}.call(this),function(){var t,e,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E,v,T,y,b,C,D,I,O,R,k,_,w,K,x,S,A;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var o=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,r={timestamp:"IA8F",version:"4.11.1",revision:"c264cac",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:o},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var e=document.getElementsByTagName("script"),n=0;n<e.length;n++){var i=e[n].src.match(o);if(i){t=i[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(t){return-1==t.indexOf(":/")&&0!==t.indexOf("/")&&(t=this.basePath+t),this.timestamp&&"/"!=t.charAt(t.length-1)&&!/[&?]t=/.test(t)&&(t+=(0<=t.indexOf("?")?"&":"?")+"t="+this.timestamp),t},domReady:function(){function n(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",n),t())}catch(i){}}function t(){for(var t;t=i.shift();)t()}var i=[];return function(t){function e(){try{document.documentElement.doScroll("left")}catch(t){return void setTimeout(e,1)}n()}if(i.push(t),"complete"===document.readyState&&setTimeout(n,1),1==i.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n),t=!1;try{t=!window.frameElement}catch(r){}document.documentElement.doScroll&&t&&e()}}}()},e=window.CKEDITOR_GETURL;if(e){var n=r.getUrl;r.getUrl=function(t){return e.call(r,t)||n.call(r,t)}}return r}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(t){var e,n=CKEDITOR.event.prototype;for(e in n)null==t[e]&&(t[e]=n[e])},CKEDITOR.event.prototype=function(){function u(t){var e=p(this);return e[t]||(e[t]=new n(t))}var c,d,h,f,p=function(t){return(t=t.getPrivate&&t.getPrivate()||t._||(t._={})).events||(t.events={})},n=function(t){this.name=t,this.listeners=[]};return n.prototype={getListenerIndex:function(t){for(var e=0,n=this.listeners;e<n.length;e++)if(n[e].fn==t)return e;return-1}},{define:function(t,e){var n=u.call(this,t);CKEDITOR.tools.extend(n,e,!0)},on:function(o,r,a,s,t){function e(t,e,n,i){return!(t={name:o,sender:this,editor:t,data:e,listenerData:s,stop:n,cancel:i,removeListener:l})!==r.call(a,t)&&t.data}function l(){i.removeListener(o,r)}var n=u.call(this,o);if(n.getListenerIndex(r)<0){n=n.listeners,a||(a=this),isNaN(t)&&(t=10);var i=this;e.fn=r,e.priority=t;for(var c=n.length-1;0<=c;c--)if(n[c].priority<=t)return n.splice(c+1,0,e),{removeListener:l};n.unshift(e)}return{removeListener:l}},once:function(){var t=Array.prototype.slice.call(arguments),e=t[1];return t[1]=function(t){return t.removeListener(),e.apply(this,arguments)},this.on.apply(this,t)},capture:function(){CKEDITOR.event.useCapture=1;var t=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,t},fire:(c=0,d=function(){c=1},h=0,f=function(){h=1},function(t,e,n){var i=p(this)[t];t=c;var o=h;if(c=h=0,i&&(a=i.listeners).length)for(var r,a=a.slice(0),s=0;s<a.length;s++){if(i.errorProof)try{r=a[s].call(this,n,e,d,f)}catch(l){}else r=a[s].call(this,n,e,d,f);if(!1===r?h=1:void 0!==r&&(e=r),c||h)break}return e=!h&&(void 0===e||e),c=t,h=o,e}),fireOnce:function(t,e,n){return e=this.fire(t,e,n),delete p(this)[t],e},removeListener:function(t,e){var n=p(this)[t];if(n){var i=n.getListenerIndex(e);0<=i&&n.listeners.splice(i,1)}},removeAllListeners:function(){var t,e=p(this);for(t in e)delete e[t]},hasListeners:function(t){return(t=p(this)[t])&&0<t.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fire.call(this,t,e,this)},CKEDITOR.editor.prototype.fireOnce=function(t,e){return t in{instanceReady:1,loaded:1}&&(this[t]=!0),CKEDITOR.event.prototype.fireOnce.call(this,t,e,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var t=navigator.userAgent.toLowerCase(),e=t.match(/edge[ \/](\d+.?\d*)/),n=-1<t.indexOf("trident/");(n={ie:n=!(!e&&!n),edge:!!e,webkit:!n&&-1<t.indexOf(" applewebkit/"),air:-1<t.indexOf(" adobeair/"),mac:-1<t.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||document.documentMode<10),mobile:-1<t.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(t),isCustomDomain:function(){if(!this.ie)return!1;var t=document.domain,e=window.location.hostname;return t!=e&&t!="["+e+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<t.indexOf("chrome")?n.chrome=!0:n.safari=!0);var i=0;return n.ie&&(i=e?parseFloat(e[1]):n.quirks||!document.documentMode?parseFloat(t.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==i,n.ie8Compat=8==i,n.ie7Compat=7==i,n.ie6Compat=i<7||n.quirks),n.gecko&&(e=t.match(/rv:([\d\.]+)/))&&(i=1e4*(e=e[1].split("."))[0]+100*(e[1]||0)+1*(e[2]||0)),n.air&&(i=parseFloat(t.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!(n.ie&&i<7||n.gecko&&i<4e4||n.webkit&&i<534),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<i,n.needsNbspFiller=n.ie&&i<11,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var t=document.createElement("script");t.type="text/javascript",t.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(t)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(t){(this._.pending||(this._.pending=[])).push(t)},CKEDITOR.domReady(function(){var t=CKEDITOR.loadFullCore,e=CKEDITOR.loadFullCoreTimeout;t&&(CKEDITOR.status="basic_ready",t&&t._load?t():e&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*e))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:t,additionalData:e})},CKEDITOR.error=function(t,e){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:t,additionalData:e})},CKEDITOR.on("log",function(t){if(window.console&&window.console.log){var e=console[t.data.type]?t.data.type:"log",n=t.data.errorCode;(t=t.data.additionalData)?console[e]("[CKEDITOR] Error code: "+n+".",t):console[e]("[CKEDITOR] Error code: "+n+"."),console[e]("[CKEDITOR] For more information about this error go to https://ckeditor.com/docs/ckeditor4/latest/guide/dev_errors.html#"+n)}},null,null,999),CKEDITOR.dom={},function(){function o(t,e,n){this._minInterval=t,this._context=n,this._lastOutput=this._scheduledTimer=0,this._output=CKEDITOR.tools.bind(e,n||{});var i=this;this.input=function(){function t(){i._lastOutput=(new Date).getTime(),i._scheduledTimer=0,i._call()}if(!i._scheduledTimer||!1!==i._reschedule()){var e=(new Date).getTime()-i._lastOutput;e<i._minInterval?i._scheduledTimer=setTimeout(t,i._minInterval-e):t()}}}function t(t,e,n){o.call(this,t,e,n),this._args=[];var i=this;this.input=CKEDITOR.tools.override(this.input,function(t){return function(){i._args=Array.prototype.slice.call(arguments),t.call(this)}})}var n,e,i,r,a,s,l,c,u,d=[],h=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",f=/&/g,p=/>/g,g=/</g,m=/"/g,E=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,v={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},T=function(t,e){return"#"==e[0]?String.fromCharCode(parseInt(e.slice(1),10)):v[e]};CKEDITOR.on("reset",function(){d=[]}),CKEDITOR.tools={arrayCompare:function(t,e){if(!t&&!e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0},getIndex:function(t,e){for(var n=0;n<t.length;++n)if(e(t[n]))return n;return-1},clone:function(t){var e;if(t&&t instanceof Array){e=[];for(var n=0;n<t.length;n++)e[n]=CKEDITOR.tools.clone(t[n]);return e}if(null===t||"object"!=typeof t||t instanceof String||t instanceof Number||t instanceof Boolean||t instanceof Date||t instanceof RegExp||t.nodeType||t.window===t)return t;for(n in e=new t.constructor,t)e[n]=CKEDITOR.tools.clone(t[n]);return e},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},extend:function(t){var e,n,i=arguments.length;"boolean"==typeof(e=arguments[i-1])?i--:"boolean"==typeof(e=arguments[i-2])&&(n=arguments[i-1],i-=2);for(var o=1;o<i;o++){var r,a=arguments[o];for(r in a)!0!==e&&null!=t[r]||(!n||r in n)&&(t[r]=a[r])}return t},prototypedCopy:function(t){var e=function(){};return e.prototype=t,new e},copy:function(t){var e,n={};for(e in t)n[e]=t[e];return n},isArray:function(t){return"[object Array]"==Object.prototype.toString.call(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},cssVendorPrefix:function(t,e,n){return n?h+t+":"+e+";"+t+":"+e:((n={})[t]=e,n[h+t]=e,n)},cssStyleToDomStyle:(c=document.createElement("div").style,u="undefined"!=typeof c.cssFloat?"cssFloat":"undefined"!=typeof c.styleFloat?"styleFloat":"float",function(t){return"float"==t?u:t.replace(/-./g,function(t){return t.substr(1).toUpperCase()})}),buildStyleHtml:function(t){t=[].concat(t);for(var e,n=[],i=0;i<t.length;i++)(e=t[i])&&(/@import|[{}]/.test(e)?n.push("<style>"+e+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+e+'">'));return n.join("")},htmlEncode:function(t){return null==t?"":String(t).replace(f,"&amp;").replace(p,"&gt;").replace(g,"&lt;")},htmlDecode:function(t){return t.replace(E,T)},htmlEncodeAttr:function(t){return CKEDITOR.tools.htmlEncode(t).replace(m,"&quot;")},htmlDecodeAttr:function(t){return CKEDITOR.tools.htmlDecode(t)},transformPlainTextToHtml:function(t,e){var n=e==CKEDITOR.ENTER_BR,i=(i=this.htmlEncode(t.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),o=e==CKEDITOR.ENTER_P?"p":"div";if(!n){var r=/\n{2}/g;if(r.test(i)){var a="<"+o+">",s="</"+o+">";i=a+i.replace(r,function(){return s+a})+s}}return i=i.replace(/\n/g,"<br>"),n||(i=i.replace(new RegExp("<br>(?=</"+o+">)"),function(t){return CKEDITOR.tools.repeat(t,2)})),(i=i.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(t,e){return e+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:(l=0,function(){return++l}),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var t="e",e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t},override:function(t,e){var n=e(t);return n.prototype=t.prototype,n},setTimeout:function(t,e,n,i,o){return o||(o=window),n||(n=o),o.setTimeout(function(){i?t.apply(n,[].concat(i)):t.apply(n)},e||0)},throttle:function(t,e,n){return new this.buffers.throttle(t,e,n)},trim:(s=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,function(t){return t.replace(s,"")}),ltrim:(a=/^[ \t\n\r]+/g,function(t){return t.replace(a,"")}),rtrim:(r=/[ \t\n\r]+$/g,function(t){return t.replace(r,"")}),indexOf:function(t,e){if("function"==typeof e){for(var n=0,i=t.length;n<i;n++)if(e(t[n]))return n}else{if(t.indexOf)return t.indexOf(e);for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1},search:function(t,e){var n=CKEDITOR.tools.indexOf(t,e);return 0<=n?t[n]:null},bind:function(t,e){return function(){return t.apply(e,arguments)}},createClass:function(t){var e=t.$,n=t.base,i=t.privates||t._,o=t.proto;if(t=t.statics,!e&&(e=function(){n&&this.base.apply(this,arguments)}),i){var r=e;e=function(){var t,e=this._||(this._={});for(t in i){var n=i[t];e[t]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}r.apply(this,arguments)}}return n&&(e.prototype=this.prototypedCopy(n.prototype),(e.prototype.constructor=e).base=n,e.baseProto=n.prototype,e.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),o&&this.extend(e.prototype,o,!0),t&&this.extend(e,t,!0),e},addFunction:function(t,e){return d.push(function(){return t.apply(e||this,arguments)})-1},removeFunction:function(t){d[t]=null},callFunction:function(t){var e=d[t];return e&&e.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:(i=/^-?\d+\.?\d*px$/,function(t){return e=CKEDITOR.tools.trim(t+"")+"px",i.test(e)?e:t||""}),convertToPx:function(t){if(n||(n=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(n)),/%$/.test(t))return t;var e=parseFloat(t)<0;return e&&(t=t.replace("-","")),n.setStyle("width",t),t=n.$.clientWidth,e?-t:t},repeat:function(t,e){return Array(e+1).join(t)},tryThese:function(){for(var t,e=0,n=arguments.length;e<n;e++){var i=arguments[e];try{t=i();break}catch(m){}}return t},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(n){return function(){var t=arguments,e=this;window.setTimeout(function(){n.apply(e,t)},0)}},normalizeCssText:function(t,e){var n,i=[],o=CKEDITOR.tools.parseCssText(t,!0,e);for(n in o)i.push(n+":"+o[n]);return i.sort(),i.length?i.join(";")+";":""},convertRgbToHex:function(t){return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(t,e,n,i){for(t=[e,n,i],e=0;e<3;e++)t[e]=("0"+parseInt(t[e],10).toString(16)).slice(-2);return"#"+t.join("")})},normalizeHex:function(t){return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(t,e,n,i){return 3==(t=e.toLowerCase()).length&&(t=[(t=t.split(""))[0],t[0],t[1],t[1],t[2],t[2]].join("")),"#"+t+i})},parseCssText:function(t,i,e){var o={};return e&&(t=new CKEDITOR.dom.element("span").setAttribute("style",t).getAttribute("style")||""),t&&(t=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))),t&&";"!=t&&t.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){i&&("font-family"==(e=e.toLowerCase())&&(n=n.replace(/\s*,\s*/g,",")),n=CKEDITOR.tools.trim(n)),o[e]=n}),o},writeCssText:function(t,e){var n,i=[];for(n in t)i.push(n+":"+t[n]);return e&&i.sort(),i.join("; ")},objectCompare:function(t,e,n){var i;if(!t&&!e)return!0;if(!t||!e)return!1;for(i in t)if(t[i]!=e[i])return!1;if(!n)for(i in e)if(t[i]!=e[i])return!1;return!0},objectKeys:function(t){var e,n=[];for(e in t)n.push(e);return n},convertArrayToObject:function(t,e){var n={};1==arguments.length&&(e=!0);for(var i=0,o=t.length;i<o;++i)n[t[i]]=e;return n},fixDomain:function(){for(var t;;)try{t=window.parent.document.domain;break}catch(d){if(!(t=t?t.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=t}return!!t},eventsBuffer:function(t,e,n){return new this.buffers.event(t,e,n)},enableHtml5Elements:function(t,e){for(var n,i="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),o=i.length;o--;)n=t.createElement(i[o]),e&&t.appendChild(n)},checkIfAnyArrayItemMatches:function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n].match(e))return!0;return!1},checkIfAnyObjectPropertyMatches:function(t,e){for(var n in t)if(n.match(e))return!0;return!1},keystrokeToString:function(t,e){var n=this.keystrokeToArray(t,e);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(t,e){var n=16711680&e,i=65535&e,o=CKEDITOR.env.mac,r=[],a=[];return n&CKEDITOR.CTRL&&(r.push(o?"\u2318":t[17]),a.push(o?t[224]:t[17])),n&CKEDITOR.ALT&&(r.push(o?"\u2325":t[18]),a.push(t[18])),n&CKEDITOR.SHIFT&&(r.push(o?"\u21e7":t[16]),a.push(t[16])),i&&(t[i]?(r.push(t[i]),a.push(t[i])):(r.push(String.fromCharCode(i)),a.push(String.fromCharCode(i)))),{display:r,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(t){t=t.toLowerCase();for(var e,n=document.cookie.split(";"),i=0;i<n.length;i++)if(e=n[i].split("="),decodeURIComponent(CKEDITOR.tools.trim(e[0]).toLowerCase())===t)return decodeURIComponent(1<e.length?e[1]:"");return null},setCookie:function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"},getCsrfToken:function(){if(!(t=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=t.length){var t=[],e="";if(window.crypto&&window.crypto.getRandomValues)t=new Uint8Array(40),window.crypto.getRandomValues(t);else for(var n=0;n<40;n++)t.push(Math.floor(256*Math.random()));for(n=0;n<t.length;n++){var i="abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n]%36);e=e+(.5<Math.random()?i.toUpperCase():i)}t=e,CKEDITOR.tools.setCookie("ckCsrfToken",t)}return t},escapeCss:function(t){return t?window.CSS&&CSS.escape?CSS.escape(t):isNaN(parseInt(t.charAt(0),10))?t:"\\3"+t.charAt(0)+" "+t.substring(1,t.length):""},getMouseButton:function(t){var e=(t=t.data)&&t.$;return!(!t||!e)&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?4===e.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===e.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:e.button)},convertHexStringToBytes:function(t){var e,n=[],i=t.length/2;for(e=0;e<i;e++)n.push(parseInt(t.substr(2*e,2),16));return n},convertBytesToBase64:function(t){var e,n="",i=t.length;for(e=0;e<i;e+=3){var o,r=t.slice(e,e+3),a=r.length,s=[];if(a<3)for(o=a;o<3;o++)r[o]=0;for(s[0]=(252&r[0])>>2,s[1]=(3&r[0])<<4|r[1]>>4,s[2]=(15&r[1])<<2|(192&r[2])>>6,s[3]=63&r[2],o=0;o<4;o++)n=o<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[o]):n+"="}return n},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",
navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(t){function e(t){n.top=i[t[0]],n.right=i[t[1]],n.bottom=i[t[2]],n.left=i[t[3]]}var n={},i=t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(i.length){case 1:e([0,0,0,0]);break;case 2:e([0,1,0,1]);break;case 3:e([0,1,2,1]);break;case 4:e([0,1,2,3])}return n},border:function(t){var e={},n=t.split(/\s+/g);return(t=CKEDITOR.tools.style.parse._findColor(t)).length&&(e.color=t[0]),CKEDITOR.tools.array.forEach(n,function(t){e.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,t)?!e.width&&CKEDITOR.tools.style.parse._widthRegExp.test(t)&&(e.width=t):e.style=t}),e},_findColor:function(t){var e=[],n=CKEDITOR.tools.array;return(e=(e=e.concat(t.match(this._rgbaRegExp)||[])).concat(t.match(this._hslaRegExp)||[])).concat(n.filter(t.split(/\s+/),function(t){return!!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||t.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(n,i,o){var r=[];return this.forEach(n,function(t,e){i.call(o,t,e,n)&&r.push(t)}),r},forEach:function(t,e,n){var i,o=t.length;for(i=0;i<o;i++)e.call(n,t[i],i,t)},map:function(t,e,n){for(var i=[],o=0;o<t.length;o++)i.push(e.call(n,t[o],o,t));return i},reduce:function(t,e,n,i){for(var o=0;o<t.length;o++)n=e.call(i,n,t[o],o,t);return n},every:function(t,e,n){return!t.length||(e=this.filter(t,e,n),t.length===e.length)}},object:{findKey:function(t,e){if("object"!=typeof t)return null;for(var n in t)if(t[n]===e)return n;return null},merge:function(t,e){var n=CKEDITOR.tools,i=n.clone(t),o=n.clone(e);return n.array.forEach(n.objectKeys(o),function(t){i[t]="object"==typeof o[t]&&"object"==typeof i[t]?n.object.merge(i[t],o[t]):o[t]}),i}},getAbsoluteRectPosition:function(t,e){function n(t){if(t){var e=t.getClientRect();i.top+=e.top,i.left+=e.left,"x"in i&&"y"in i&&(i.x+=e.x,i.y+=e.y),n(t.getWindow().getFrame())}}var i=CKEDITOR.tools.copy(e);n(t.getFrame());var o=CKEDITOR.document.getWindow().getScrollPosition();return i.top+=o.y,i.left+=o.x,"x"in i&&"y"in i&&(i.y+=o.y,i.x+=o.x),i.right=i.left+i.width,i.bottom=i.top+i.height,i}},o.prototype={reset:function(){this._lastOutput=0,this._clearTimer()},_reschedule:function(){return!1},_call:function(){this._output()},_clearTimer:function(){this._scheduledTimer&&clearTimeout(this._scheduledTimer),this._scheduledTimer=0}},t.prototype=CKEDITOR.tools.prototypedCopy(o.prototype),t.prototype._reschedule=function(){this._scheduledTimer&&this._clearTimer()},t.prototype._call=function(){this._output.apply(this._context,this._args)},CKEDITOR.tools.buffers={},CKEDITOR.tools.buffers.event=o,CKEDITOR.tools.buffers.throttle=t,CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2}(),CKEDITOR.dtd=(t=CKEDITOR.tools.extend,e=function(t,e){for(var n=CKEDITOR.tools.clone(t),i=1;i<arguments.length;i++)for(var o in e=arguments[i])delete n[o];return n},i={},o={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},r={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},l={center:1,dir:1,noframes:1},t(n={},{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,"var":1,video:1,wbr:1},s={"#":1},{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),t(i,o,n,l),t(e={a:e(n,{a:1,button:1}),abbr:n,address:i,area:a,article:i,aside:i,audio:t({source:1,track:1},i),b:n,base:a,bdi:n,bdo:n,blockquote:i,body:i,br:a,button:e(n,{a:1,button:1}),canvas:n,caption:i,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:t({option:1},n),dd:i,del:n,details:t({summary:1},i),dfn:n,div:i,dl:{dt:1,dd:1},dt:i,em:n,embed:a,fieldset:t({legend:1},i),figcaption:i,figure:t({figcaption:1},i),footer:i,form:i,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:t({title:1,base:1},r),header:i,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:t({head:1,body:1},i,r),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:i,link:a,main:i,map:i,mark:n,menu:t({li:1},i),meta:a,meter:e(n,{meter:1}),nav:i,noscript:t({link:1,meta:1,style:1},n),object:t({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:e(n,{progress:1}),q:n,rp:n,rt:n,ruby:t({rp:1,rt:1},n),s:n,samp:n,script:s,section:i,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:t({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:i,textarea:s,tfoot:{tr:1},th:i,thead:{tr:1},time:e(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},"var":n,video:t({source:1,track:1},i),wbr:a,acronym:n,applet:t({param:1},i),basefont:a,big:n,center:i,dialog:a,dir:{li:1},font:n,isindex:a,noframes:i,strike:n,tt:n},{$block:t({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},o,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:t({body:1,head:1,html:1},e.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,"var":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),e),CKEDITOR.dom.event=function(t){this.$=t},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var t=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(t+=CKEDITOR.CTRL),this.$.shiftKey&&(t+=CKEDITOR.SHIFT),this.$.altKey&&(t+=CKEDITOR.ALT),t},preventDefault:function(t){var e=this.$;e.preventDefault?e.preventDefault():e.returnValue=!1,t&&this.stopPropagation()},stopPropagation:function(){var t=this.$;t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},getTarget:function(){var t=this.$.target||this.$.srcElement;return t?new CKEDITOR.dom.node(t):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var t=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(t.documentElement.scrollLeft||t.body.scrollLeft),y:this.$.pageY||this.$.clientY+(t.documentElement.scrollTop||t.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(t){t&&(this.$=t)},CKEDITOR.dom.domObject.prototype=(c=function(e,n){return function(t){"undefined"!=typeof CKEDITOR&&e.fire(n,new CKEDITOR.dom.event(t))}},{getPrivate:function(){var t;return(t=this.getCustomData("_"))||this.setCustomData("_",t={}),t},on:function(t){var e=this.getCustomData("_cke_nativeListeners");return e||(e={},this.setCustomData("_cke_nativeListeners",e)),e[t]||(e=e[t]=c(this,t),this.$.addEventListener?this.$.addEventListener(t,e,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+t,e)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(t){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(t)){var e=this.getCustomData("_cke_nativeListeners"),n=e&&e[t];n&&(this.$.removeEventListener?this.$.removeEventListener(t,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+t,n),delete e[t])}},removeAllListeners:function(){var t,e=this.getCustomData("_cke_nativeListeners");for(t in e){var n=e[t];this.$.detachEvent?this.$.detachEvent("on"+t,n):this.$.removeEventListener&&this.$.removeEventListener(t,n,!1),delete e[t]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}),u=CKEDITOR.dom.domObject.prototype,d={},CKEDITOR.on("reset",function(){d={}}),u.equals=function(t){try{return t&&t.$===this.$}catch(e){return!1}},u.setCustomData=function(t,e){var n=this.getUniqueId();return(d[n]||(d[n]={}))[t]=e,this},u.getCustomData=function(t){var e=this.$["data-cke-expando"];return(e=e&&d[e])&&t in e?e[t]:null},u.removeCustomData=function(t){var e,n,i;return(e=(e=this.$["data-cke-expando"])&&d[e])&&(n=e[t],i=t in e,delete e[t]),i?n:null},u.clearCustomData=function(){this.removeAllListeners();var t=this.$["data-cke-expando"];t&&delete d[t]},u.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(u),CKEDITOR.dom.node=function(t){return t?new CKEDITOR.dom[t.nodeType==CKEDITOR.NODE_DOCUMENT?"document":t.nodeType==CKEDITOR.NODE_ELEMENT?"element":t.nodeType==CKEDITOR.NODE_TEXT?"text":t.nodeType==CKEDITOR.NODE_COMMENT?"comment":t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](t):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(t,e){return t.append(this,e),t},clone:function(n,i){function o(t){if(t["data-cke-expando"]&&(t["data-cke-expando"]=!1),(t.nodeType==CKEDITOR.NODE_ELEMENT||t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(i||t.nodeType!=CKEDITOR.NODE_ELEMENT||t.removeAttribute("id",!1),n)){t=t.childNodes;for(var e=0;e<t.length;e++)o(t[e])}}function r(t){if(t.type==CKEDITOR.NODE_ELEMENT||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.getName();":"==e[0]&&t.renameNode(e.substring(1))}if(n)for(e=0;e<t.getChildCount();e++)r(t.getChild(e))}}var t=this.$.cloneNode(n);return o(t),t=new CKEDITOR.dom.node(t),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&r(t),t},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(t){return t.$.parentNode.insertBefore(this.$,t.$.nextSibling),t},insertBefore:function(t){return t.$.parentNode.insertBefore(this.$,t.$),t},insertBeforeMe:function(t){return this.$.parentNode.insertBefore(t.$,this.$),t},getAddress:function(t){for(var e=[],n=this.getDocument().$.documentElement,i=this.$;i&&i!=n;){var o=i.parentNode;o&&e.unshift(this.getIndex.call({$:i},t)),i=o}return e},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(t){function i(t,e){var n=e?t.nextSibling:t.previousSibling;return n&&n.nodeType==CKEDITOR.NODE_TEXT?o(n)?i(n,e):n:null}function o(t){return!t.nodeValue||t.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var e,n=this.$,r=-1;if(!this.$.parentNode||t&&n.nodeType==CKEDITOR.NODE_TEXT&&o(n)&&!i(n)&&!i(n,!0))return-1;for(;t&&n!=this.$&&n.nodeType==CKEDITOR.NODE_TEXT&&(e||o(n))||(r++,e=n.nodeType==CKEDITOR.NODE_TEXT),n=n.previousSibling;);return r},getNextSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getNext()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getNext()}return!t||n&&!1===n(t)?null:e&&e!=t.type?t.getNextSourceNode(!1,e,n):t},getPreviousSourceNode:function(t,e,n){if(n&&!n.call){var i=n;n=function(t){return!t.equals(i)}}var o;if(!(t=!t&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;t=this.getPrevious()}for(;!t&&(o=(o||this).getParent());){if(n&&!1===n(o,!0))return null;t=o.getPrevious()}return!t||n&&!1===n(t)?null:e&&t.type!=e?t.getPreviousSourceNode(!1,e,n):t},getPrevious:function(t){for(var e,n=this.$;(e=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getNext:function(t){for(var e,n=this.$;(e=(n=n.nextSibling)&&new CKEDITOR.dom.node(n))&&t&&!t(e););return e},getParent:function(t){var e=this.$.parentNode;return e&&(e.nodeType==CKEDITOR.NODE_ELEMENT||t&&e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(e):null},getParents:function(t){for(var e=this,n=[];n[t?"push":"unshift"](e),e=e.getParent(););return n},getCommonAncestor:function(t){if(t.equals(this))return this;if(t.contains&&t.contains(this))return t;var e=this.contains?this:this.getParent();do{if(e.contains(t))return e}while(e=e.getParent());return null},getPosition:function(t){var e=this.$,n=t.$;if(e.compareDocumentPosition)return e.compareDocumentPosition(n);if(e==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&t.type==CKEDITOR.NODE_ELEMENT){if(e.contains){if(e.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(e))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in e)return e.sourceIndex<0||n.sourceIndex<0?CKEDITOR.POSITION_DISCONNECTED:e.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}e=this.getAddress(),t=t.getAddress();n=Math.min(e.length,t.length);for(var i=0;i<n;i++)if(e[i]!=t[i])return e[i]<t[i]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return e.length<t.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,i,o=this.$;for(t||(o=o.parentNode),"function"==typeof e?(i=!0,n=e):(i=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});o;){if(n(i?new CKEDITOR.dom.node(o):o))return new CKEDITOR.dom.node(o);try{o=o.parentNode}catch(r){o=null}}return null},hasAscendant:function(t,e){var n=this.$;for(e||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==t)return!0;n=n.parentNode}return!1},move:function(t,e){t.append(this.remove(),e)},remove:function(t){var e=this.$,n=e.parentNode;if(n){if(t)for(;t=e.firstChild;)n.insertBefore(e.removeChild(t),e);n.removeChild(e)}return this},replace:function(t){this.insertBefore(t),t.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var t;this.getFirst&&(t=this.getFirst());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.ltrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(n-e.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var t;this.getLast&&(t=this.getLast());){if(t.type==CKEDITOR.NODE_TEXT){var e=CKEDITOR.tools.rtrim(t.getText()),n=t.getLength();if(!e){t.remove();continue}e.length<n&&(t.split(e.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(t=this.$.lastChild)&&1==t.type&&"br"==t.nodeName.toLowerCase()&&t.parentNode.removeChild(t)},isReadOnly:function(t){var e=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(e=this.getParent()),CKEDITOR.env.edge&&e&&e.is("textarea","input")&&(t=!0),!t&&e&&"undefined"!=typeof e.$.isContentEditable)return!(e.$.isContentEditable||e.data("cke-editable"));for(;e;){if(e.data("cke-editable"))return!1;if(e.hasAttribute("contenteditable"))return"false"==e.getAttribute("contenteditable");e=e.getParent()}return!0}}),CKEDITOR.dom.window=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var t=this.$.document,e="CSS1Compat"==t.compatMode;return{width:(e?t.documentElement.clientWidth:t.body.clientWidth)||0,height:(e?t.documentElement.clientHeight:t.body.clientHeight)||0}},getScrollPosition:function(){var t=this.$;return"pageXOffset"in t?{x:t.pageXOffset||0,y:t.pageYOffset||0}:{x:(t=t.document).documentElement.scrollLeft||t.body.scrollLeft||0,y:t.documentElement.scrollTop||t.body.scrollTop||0}},getFrame:function(){var t=this.$.frameElement;return t?new CKEDITOR.dom.element.get(t):null}}),CKEDITOR.dom.document=function(t){CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(t){if(this.$.createStyleSheet)this.$.createStyleSheet(t);else{var e=new CKEDITOR.dom.element("link");e.setAttributes({rel:"stylesheet",type:"text/css",href:t}),this.getHead().append(e)}},appendStyleText:function(t){if(this.$.createStyleSheet){var e=this.$.createStyleSheet("");e.cssText=t}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(t,this)),this.getHead().append(n)}return e||n.$.sheet},createElement:function(t,e){var n=new CKEDITOR.dom.element(t,this);return e&&(e.attributes&&n.setAttributes(e.attributes),e.styles&&n.setStyles(e.styles)),n},createText:function(t){return new CKEDITOR.dom.text(t,this)},focus:function(){this.getWindow().focus()},getActive:function(){var t;try{t=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(t)},getById:function(t){return(t=this.$.getElementById(t))?new CKEDITOR.dom.element(t):null},getByAddress:function(t,e){for(var n=this.$.documentElement,i=0;n&&i<t.length;i++){var o=t[i];if(e)for(var r=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==e||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++r==o){n=s;break}}else n=n.childNodes[o]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(t,e){return CKEDITOR.env.ie&&document.documentMode<=8||!e||(t=e+":"+t),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))},getHead:function(){var t=this.$.getElementsByTagName("head")[0];return t?new CKEDITOR.dom.element(t):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(t){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(t=t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();</script>")),this.$.write(t),this.$.close()},find:function(t){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))},findOne:function(t){return(t=this.$.querySelector(t))?new CKEDITOR.dom.element(t):null},_getHtml5ShivFrag:function(){var t=this.getCustomData("html5ShivFrag");return t||(t=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(t,!0),this.setCustomData("html5ShivFrag",t)),t}}),CKEDITOR.dom.nodeList=function(t){this.$=t},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(t){return t<0||t>=this.$.length?null:(t=this.$[t])?new CKEDITOR.dom.node(t):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(t){return new CKEDITOR.dom.node(t)})}},CKEDITOR.dom.element=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createElement(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.element.get=function(t){return(t="string"==typeof t?document.getElementById(t)||document.getElementsByName(t)[0]:t)&&(t.$?t:new CKEDITOR.dom.element(t))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(t,e){var n=new CKEDITOR.dom.element("div",e);return n.setHtml(t),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(t,e,n,i){var o=e.getCustomData("list_marker_id")||e.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),r=e.getCustomData("list_marker_names")||e.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return t[o]=e,r[n]=1,e.setCustomData(n,i)},CKEDITOR.dom.element.clearAllMarkers=function(t){for(var e in t)CKEDITOR.dom.element.clearMarkers(t,t[e],1)},CKEDITOR.dom.element.clearMarkers=function(t,e,n){var i,o=e.getCustomData("list_marker_names"),r=e.getCustomData("list_marker_id");for(i in o)e.removeCustomData(i);e.removeCustomData("list_marker_names"),n&&(e.removeCustomData("list_marker_id"),delete t[r])},function(){function n(t,e){return-1<(" "+t+" ").replace(c," ").indexOf(" "+e+" ")}function o(t){var e=!0;return t.$.id||(t.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),e=!1),function(){e||t.removeAttribute("id")}}function i(t,e){var n=CKEDITOR.tools.escapeCss(t.$.id);return"#"+n+" "+e.split(/,\s*/).join(", #"+n+" ")}function r(t){for(var e=0,n=0,i=u[t].length;n<i;n++)e+=parseFloat(this.getComputedStyle(u[t][n])||0,10)||0;return e}var t,a,e,s,l=void 0!==(l=document.createElement("_").classList)&&null!==String(l.add).match(/\[Native code\]/gi),c=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:l?function(t){return this.$.classList.add(t),this}:function(t){var e=this.$.className;return e&&(n(e,t)||(e+=" "+t)),this.$.className=e||t,this},removeClass:l?function(t){var e=this.$;return e.classList.remove(t),e.className||e.removeAttribute("class"),this}:function(t){var e=this.getAttribute("class");return e&&n(e,t)&&((e=e.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",e):this.removeAttribute("class")),this},hasClass:function(t){return n(this.$.className,t)},append:function(t,e){return"string"==typeof t&&(t=this.getDocument().createElement(t)),e?this.$.insertBefore(t.$,this.$.firstChild):this.$.appendChild(t.$),t},appendHtml:function(t){if(this.$.childNodes.length){var e=new CKEDITOR.dom.element("div",this.getDocument());e.setHtml(t),e.moveChildren(this)}else this.setHtml(t)},appendText:function(t){null!=this.$.text&&CKEDITOR.env.ie&&CKEDITOR.env.version<9?this.$.text+=t:this.append(new CKEDITOR.dom.text(t))},appendBogus:function(t){if(t||CKEDITOR.env.needsBrFiller){for(t=this.getLast();t&&t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(t.getText());)t=t.getPrevious();t&&t.is&&t.is("br")||(t=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&t.setAttribute("type","_moz"),this.append(t))}},breakParent:function(t,e){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(t);var i,o=n.extractContents(!1,e||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");i=o.getFirst();)i.$.style.backgroundColor&&(i.$.style.backgroundColor=i.$.style.backgroundColor),n.append(i);n.insertAfter(this),n.remove(!0)}else o.insertAfterNode(this)},contains:document.compareDocumentPosition?function(t){return!!(16&this.$.compareDocumentPosition(t.$))}:function(t){var e=this.$;return t.type!=CKEDITOR.NODE_ELEMENT?e.contains(t.getParent().$):e!=t.$&&e.contains(t.$)},focus:function(){function e(){try{this.$.focus()}catch(i){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var t=this.$.innerHTML;return CKEDITOR.env.ie?t.replace(/<\?[^>]*>/g,""):t},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var t=this.$.ownerDocument.createElement("div");return t.appendChild(this.$.cloneNode(!0)),t.innerHTML},getClientRect:function(t){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),t?CKEDITOR.tools.getAbsoluteRectPosition(this.getWindow(),e):e},setHtml:CKEDITOR.env.ie&&CKEDITOR.env.version<9?function(t){try{var e=this.$;if(this.getParent())return e.innerHTML=t;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(e),e.innerHTML=t,n.removeChild(e),t}catch(i){for(this.$.innerHTML="",(e=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=t,e=e.getChildren();e.count();)this.append(e.getItem(0));return t}}:function(t){return this.$.innerHTML=t},setText:(s=document.createElement("p"),s.innerHTML="x",s=s.textContent,function(t){this.$[s?"textContent":"innerText"]=t}),getAttribute:(e=function(t){return this.$.getAttribute(t,2)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){switch(t){case"class":t="className";break;case"http-equiv":t="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(t=this.$.getAttribute(t,2))&&0===this.$.tabIndex&&(t=null),t;case"checked":return((t=this.$.attributes.getNamedItem(t)).specified?t.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[t];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(t,2)}:e),getAttributes:function(t){var e,n={},i=this.$.attributes;for(t=CKEDITOR.tools.isArray(t)?t:[],e=0;e<i.length;e++)-1===CKEDITOR.tools.indexOf(t,i[e].name)&&(n[i[e].name]=i[e].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(t){var e=this.getWindow().$.getComputedStyle(this.$,null);return e?e.getPropertyValue(t):""}:function(t){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]},getDtd:function(){var t=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return t},t},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var t=this.$.tabIndex;return 0!==t||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?t:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var t=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&document.documentMode<=8){var e=this.$.scopeName;"HTML"!=e&&(t=e.toLowerCase()+":"+t)}return this.getName=function(){return t},this.getName()},getValue:function(){return this.$.value},getFirst:function(t){var e=this.$.firstChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getNext(t)),e},getLast:function(t){var e=this.$.lastChild;return(e=e&&new CKEDITOR.dom.node(e))&&t&&!t(e)&&(e=e.getPrevious(t)),e},getStyle:function(t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]},is:function(t){var e=this.getName();if("object"==typeof t)return!!t[e];for(var n=0;n<arguments.length;n++)if(arguments[n]==e)return!0;return!1},isEditable:function(t){var e=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[e]||CKEDITOR.dtd.$empty[e]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount())&&(!1===t||!(!(t=CKEDITOR.dtd[e]||CKEDITOR.dtd.span)||!t["#"]))},isIdentical:function(t){var e=this.clone(0,1);if(t=t.clone(0,1),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.$.isEqualNode)return e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.isEqualNode(t.$);if(e=e.getOuterHtml(),t=t.getOuterHtml(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(e),e=n.getHtml(),n.setHtml(t),t=n.getHtml())}return e==t},isVisible:function(){var t,e,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&(!(t=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(e=t.$.frameElement)&&(n=new CKEDITOR.dom.element(e).isVisible())),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var t=this.getChildren(),e=0,n=t.count();e<n;e++){var i=t.getItem(e);if((i.type!=CKEDITOR.NODE_ELEMENT||!i.data("cke-bookmark"))&&(i.type==CKEDITOR.NODE_ELEMENT&&!i.isEmptyInlineRemoveable()||i.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(i.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var t=this.$.attributes,e=0;e<t.length;e++){var n=t[e];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var t=this.$.attributes,e=t.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<e&&(2<e||!n[t[0].nodeName]||2==e&&!n[t[1].nodeName])},hasAttribute:function(){function e(t){var e=this.$.attributes.getNamedItem(t);if("input"==this.getName())switch(t){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(t=this.getAttribute("type"))||"radio"==t?"on"!=this.$.value:!!this.$.value}return!!e&&e.specified}return CKEDITOR.env.ie?CKEDITOR.env.version<8?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(t){return!!this.$.attributes.getNamedItem(t)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(t,e){var n,i=this.$;if(i!=(t=t.$))if(e)for(;n=i.lastChild;)t.insertBefore(i.removeChild(n),t.firstChild);else for(;n=i.firstChild;)t.appendChild(i.removeChild(n))},mergeSiblings:function(){function e(t,e,n){if(e&&e.type==CKEDITOR.NODE_ELEMENT){for(var i=[];e.data("cke-bookmark")||e.isEmptyInlineRemoveable();)if(i.push(e),!(e=n?e.getNext():e.getPrevious())||e.type!=CKEDITOR.NODE_ELEMENT)return;if(t.isIdentical(e)){for(var o=n?t.getLast():t.getFirst();i.length;)i.shift().move(t,!n);e.moveChildren(t,!n),e.remove(),o&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:(a=function(t,e){return this.$.setAttribute(t,e),this},CKEDITOR.env.ie&&(
CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,e){return"class"==t?this.$.className=e:"style"==t?this.$.style.cssText=e:"tabindex"==t?this.$.tabIndex=e:"checked"==t?this.$.checked=e:"contenteditable"==t?a.call(this,"contentEditable",e):a.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,e){if("src"==t&&e.match(/^http:\/\//))try{a.apply(this,arguments)}catch(n){}else a.apply(this,arguments);return this}:a),setAttributes:function(t){for(var e in t)this.setAttribute(e,t[e]);return this},setValue:function(t){return this.$.value=t,this},removeAttribute:(t=function(t){this.$.removeAttribute(t)},CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t){"class"==t?t="className":"tabindex"==t?t="tabIndex":"contenteditable"==t&&(t="contentEditable"),this.$.removeAttribute(t)}:t),removeAttributes:function(t){if(CKEDITOR.tools.isArray(t))for(var e=0;e<t.length;e++)this.removeAttribute(t[e]);else for(e in t=t||this.getAttributes())t.hasOwnProperty(e)&&this.removeAttribute(e)},removeStyle:function(t){if((i=this.$.style).removeProperty||"border"!=t&&"margin"!=t&&"padding"!=t)i.removeProperty?i.removeProperty(t):i.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)),this.$.style.cssText||this.removeAttribute("style");else{var e,n=["top","left","right","bottom"];"border"==t&&(e=["color","style","width"]);for(var i=[],o=0;o<n.length;o++)if(e)for(var r=0;r<e.length;r++)i.push([t,n[o],e[r]].join("-"));else i.push([t,n[o]].join("-"));for(t=0;t<i.length;t++)this.removeStyle(i[t])}},setStyle:function(t,e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]=e,this},setStyles:function(t){for(var e in t)this.setStyle(e,t[e]);return this},setOpacity:function(t){CKEDITOR.env.ie&&CKEDITOR.env.version<9?(t=Math.round(100*t),this.setStyle("filter",100<=t?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")")):this.setStyle("opacity",t)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var t=this.getElementsByTag("*"),e=0,n=t.count();e<n;e++)t.getItem(e).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var t=this;"html"!=t.getName();){if("static"!=t.getComputedStyle("position"))return t;t=t.getParent()}return null},getDocumentPosition:function(t){var e=0,n=0,i=this.getDocument(),o=i.getBody(),r="BackCompat"==i.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,c=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(e+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(e+=l.$.clientLeft||0,n+=l.$.clientTop||0);c&&!c.equals(l);)e-=c.$.scrollLeft,n-=c.$.scrollTop,c=c.getParent();l=(a=(c=l).$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=i.$.documentElement,l=s.clientTop||o.$.clientTop||0,c=s.clientLeft||o.$.clientLeft||0,u=!0;CKEDITOR.env.ie&&(u=i.getDocumentElement().contains(this),i=i.getBody().contains(this),u=r&&i||!r&&u),u&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(e=o.$.scrollLeft||s.scrollLeft,n=o.$.scrollTop||s.scrollTop):(e=(n=r?o.$:s).scrollLeft,n=n.scrollTop),e=a.left+e-c,n=a.top+n-l)}return t&&(a=this.getWindow(),l=t.getWindow(),!a.equals(l)&&a.$.frameElement&&(e+=(t=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(t)).x,n+=t.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||r||(e+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:e,y:n}},scrollIntoView:function(t){var e=this.getParent();if(e)do{if((e.$.clientWidth&&e.$.clientWidth<e.$.scrollWidth||e.$.clientHeight&&e.$.clientHeight<e.$.scrollHeight)&&!e.is("body")&&this.scrollIntoParent(e,t,1),e.is("html")){var n=e.getWindow();try{var i=n.$.frameElement;i&&(e=new CKEDITOR.dom.element(i))}catch(o){}}}while(e=e.getParent())},scrollIntoParent:function(n,t,e){function i(t,e){/body|html/.test(n.getName())?n.getWindow().$.scrollBy(t,e):(n.$.scrollLeft+=t,n.$.scrollTop+=e)}function o(t,e){var n={x:0,y:0};if(!t.is(u?"body":"html")){var i=t.$.getBoundingClientRect();n.x=i.left,n.y=i.top}return(i=t.getWindow()).equals(e)||(i=o(CKEDITOR.dom.element.get(i.$.frameElement),e),n.x+=i.x,n.y+=i.y),n}function r(t,e){return parseInt(t.getComputedStyle("margin-"+e)||0,10)||0}var a,s,l,c;!n&&(n=this.getWindow());var u="BackCompat"==(l=n.getDocument()).$.compatMode;n instanceof CKEDITOR.dom.window&&(n=u?l.getBody():l.getDocumentElement()),CKEDITOR.env.webkit&&(l=this.getEditor(!1))&&(l._.previousScrollTop=null),s=o(this,l=n.getWindow());var d=o(n,l),h=this.$.offsetHeight;a=this.$.offsetWidth;var f=n.$.clientHeight,p=n.$.clientWidth;l=s.x-r(this,"left")-d.x||0,c=s.y-r(this,"top")-d.y||0,a=s.x+a+r(this,"right")-(d.x+p)||0,s=s.y+h+r(this,"bottom")-(d.y+f)||0,(c<0||0<s)&&i(0,!0===t?c:!1===t?s:c<0?c:s),e&&(l<0||0<a)&&i(l<0?l:a,0)},setState:function(t,e,n){switch(e=e||"cke",t){case CKEDITOR.TRISTATE_ON:this.addClass(e+"_on"),this.removeClass(e+"_off"),this.removeClass(e+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(e+"_disabled"),this.removeClass(e+"_off"),this.removeClass(e+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(e+"_off"),this.removeClass(e+"_on"),this.removeClass(e+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var t=this.$;try{t.contentWindow.document}catch(i){t.src=t.src}return t&&new CKEDITOR.dom.document(t.contentWindow.document)},copyAttributes:function(t,e){var n=this.$.attributes;e=e||{};for(var i=0;i<n.length;i++){var o,r=n[i],a=r.nodeName.toLowerCase();a in e||("checked"==a&&(o=this.getAttribute(a))?t.setAttribute(a,o):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(o=this.getAttribute(a))&&(o=r.nodeValue),t.setAttribute(a,o)))}""!==this.$.style.cssText&&(t.$.style.cssText=this.$.style.cssText)},renameNode:function(t){if(this.getName()!=t){var e=this.getDocument();t=new CKEDITOR.dom.element(t,e),this.copyAttributes(t),this.moveChildren(t),this.getParent(!0)&&this.$.parentNode.replaceChild(t.$,this.$),t.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=t.$,delete this.getName}},getChild:function(){function n(t,e){var n=t.childNodes;if(0<=e&&e<n.length)return n[e]}return function(t){var e=this.$;if(t.slice)for(t=t.slice();0<t.length&&e;)e=n(e,t.shift());else e=n(e,t);return e?new CKEDITOR.dom.node(e):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(t){return t?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(t,e){return t="data-"+t,void 0===e?this.getAttribute(t):(!1===e?this.removeAttribute(t):this.setAttribute(t,e),null)},getEditor:function(t){var e,n,i,o=CKEDITOR.instances;for(e in t=t||void 0===t,o)if((n=o[e]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!t&&(i=n.editable())&&(i.equals(this)||i.contains(this)))return n;return null},find:function(t){var e=o(this);return t=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(i(this,t))),e(),t},findOne:function(t){var e=o(this);return t=this.$.querySelector(i(this,t)),e(),t?new CKEDITOR.dom.element(t):null},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.getChildren();for(var o=0;o<n.count();o++)(i=n.getItem(o)).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}}});var u={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(t,e,n){"number"==typeof e&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(e-=r.call(this,t)),this.setStyle(t,e+"px"))},CKEDITOR.dom.element.prototype.getSize=function(t,e){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(t)],this.$["client"+CKEDITOR.tools.capitalize(t)])||0;return e&&(n-=r.call(this,t)),n}}(),CKEDITOR.dom.documentFragment=function(t){t=t||CKEDITOR.document,this.$=t.type==CKEDITOR.NODE_DOCUMENT?t.$.createDocumentFragment():t},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(t){(t=t.$).parentNode.insertBefore(this.$,t.nextSibling)},getHtml:function(){var t=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(t),t.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function i(t,e){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var i,o=n.startContainer;i=n.endContainer;var r,a=n.startOffset,s=n.endOffset,l=this.guard,c=this.type,u=t?"getPreviousSourceNode":"getNextSourceNode";if(!t&&!this._.guardLTR){var d=i.type==CKEDITOR.NODE_ELEMENT?i:i.getParent(),h=i.type==CKEDITOR.NODE_ELEMENT?i.getChild(s):i.getNext();this._.guardLTR=function(t,e){return!(e&&d.equals(t)||h&&t.equals(h)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}if(t&&!this._.guardRTL){var f=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),p=o.type==CKEDITOR.NODE_ELEMENT?a?o.getChild(a-1):null:o.getPrevious();this._.guardRTL=function(t,e){return!(e&&f.equals(t)||p&&t.equals(p)||t.type==CKEDITOR.NODE_ELEMENT&&e&&t.equals(n.root))}}var g=t?this._.guardRTL:this._.guardLTR;for(r=l?function(t,e){return!1!==g(t,e)&&l(t,e)}:g,this.current?i=this.current[u](!1,c,r):(t?i.type==CKEDITOR.NODE_ELEMENT&&(i=0<s?i.getChild(s-1):!1===r(i,!0)?null:i.getPreviousSourceNode(!0,c,r)):(i=o).type==CKEDITOR.NODE_ELEMENT&&((i=i.getChild(a))||(i=!1===r(o,!0)?null:o.getNextSourceNode(!0,c,r))),i&&!1===r(i)&&(i=null));i&&!this._.end;){if(this.current=i,this.evaluator&&!1===this.evaluator(i)){if(e&&this.evaluator)return!1}else if(!e)return i;i=i[u](!1,c,r)}return this.end(),this.current=null}function t(t){for(var e,n=null;e=i.call(this,t);)n=e;return n}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(t){this.range=t,this._={}},proto:{end:function(){this._.end=1},next:function(){return i.call(this)},previous:function(){return i.call(this,1)},checkForward:function(){return!1!==i.call(this,0,1)},checkBackward:function(){return!1!==i.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var e={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},n={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(t){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in n||!e[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||t&&this.is(t))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(i,o){function r(t){return t&&t.getName&&"span"==t.getName()&&t.data("cke-bookmark")}return function(t){var e,n;return e=t&&t.type!=CKEDITOR.NODE_ELEMENT&&(n=t.getParent())&&r(n),e=i?e:e||r(t),!!(o^e)}},CKEDITOR.dom.walker.whitespaces=function(n){return function(t){var e;return t&&t.type==CKEDITOR.NODE_TEXT&&(e=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(n^e)}},CKEDITOR.dom.walker.invisible=function(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.env.webkit?1:0;return function(t){return n(t)?t=1:(t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),t=t.$.offsetWidth<=i),!!(e^t)}},CKEDITOR.dom.walker.nodeType=function(e,n){return function(t){return!!(n^t.type==e)}},CKEDITOR.dom.walker.bogus=function(n){function i(t){return!r(t)&&!a(t)}return function(t){var e=CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText());return e&&(e=t.getParent(),t=t.getNext(i),e=e.isBlockBoundary()&&(!t||t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())),!!(n^e)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var o=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,r=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(t){return a(t)||r(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$inline)&&!t.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=r(t)||a(t)||s(t),!!(e^t)}};var c=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(i){return function(t){for(var e=0,n=t.getChildCount();e<n;++e)if(!c(t.getChild(e)))return!!i;return!i}};var u=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(t){var e,n={};for(e in t)CKEDITOR.dtd[e]["#"]&&(n[e]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!c(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&u(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){for(var t=this;t=t.getPreviousSourceNode(),l(t););return!(!t||!(CKEDITOR.env.needsBrFiller?t.is&&t.is("br"):t.getText&&o.test(t.getText())))&&t}}(),CKEDITOR.dom.range=function(t){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var e=t instanceof CKEDITOR.dom.document;this.document=e?t:t.getDocument(),this.root=e?t.getBody():t},function(){function n(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer.equals(t.endContainer)&&t.startOffset==t.endOffset}function i(n,t,e,i,r){function o(t,e,n,i){var o=n?t.getPrevious():t.getNext();return i&&l||(u||i?e.append(t.clone(!0,r),n):(t.remove(),c&&e.append(t,n))),o}function a(){var t,e,n,i=Math.min(I.length,O.length);for(t=0;t<i;t++)if(e=I[t],n=O[t],!e.equals(n))return t;return t-1}function s(){var t=R-1,e=f&&p&&!E.equals(v);t<k-1||t<_-1||e?(e?n.moveToPosition(v,CKEDITOR.POSITION_BEFORE_START):_==t+1&&h?n.moveToPosition(O[t],CKEDITOR.POSITION_BEFORE_END):n.moveToPosition(O[t+1],CKEDITOR.POSITION_BEFORE_START),i&&(t=I[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((e=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',n.document)).insertAfter(t),t.mergeSiblings(!1),n.moveToBookmark({startNode:e}))):n.collapse(!0)}n.optimizeBookmark();var l=0===t,c=1==t,u=2==t;t=u||c;var d,h,f,p,g,m,E=n.startContainer,v=n.endContainer,T=n.startOffset,y=n.endOffset;if(u&&v.type==CKEDITOR.NODE_TEXT&&(E.equals(v)||E.type===CKEDITOR.NODE_ELEMENT&&E.getFirst().equals(v)))e.append(n.document.createText(v.substring(T,y)));else{v.type==CKEDITOR.NODE_TEXT?u?m=!0:v=v.split(y):0<v.getChildCount()?y>=v.getChildCount()?(v=v.getChild(y-1),h=!0):v=v.getChild(y):p=h=!0,E.type==CKEDITOR.NODE_TEXT?u?g=!0:E.split(T):0<E.getChildCount()?0===T?(E=E.getChild(T),d=!0):E=E.getChild(T-1):f=d=!0;for(var b,C,D,I=E.getParents(),O=v.getParents(),R=a(),k=I.length-1,_=O.length-1,w=e,K=-1,x=R;x<=k;x++){for(D=(C=I[x]).getNext(),x!=k||C.equals(O[x])&&k<_?t&&(b=w.append(C.clone(0,r))):d?o(C,w,!1,f):g&&w.append(n.document.createText(C.substring(T)));D;){if(D.equals(O[x])){K=x;break}D=o(D,w)}w=b}for(w=e,x=R;x<=_;x++)if(D=(e=O[x]).getPrevious(),e.equals(I[x]))t&&(w=w.getChild(0));else{if(x!=_||e.equals(I[x])&&_<k?t&&(b=w.append(e.clone(0,r))):h?o(e,w,!1,p):m&&w.append(n.document.createText(e.substring(0,y))),K<x)for(;D;)D=o(D,w,!0);w=b}u||s()}}function o(){var e=!1,n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(t){return!(!i(t)&&!n(t))||(o(t)&&!e?e=!0:!(t.type==CKEDITOR.NODE_TEXT&&(t.hasAscendant("pre")||CKEDITOR.tools.trim(t.getText()).length)||t.type==CKEDITOR.NODE_ELEMENT&&!t.is(a)))}}function r(e){var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(1);return function(t){return!(!i(t)&&!n(t))||(!e&&s(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$removeEmpty))}}function t(t){return function(){var e;return this[t?"getPreviousNode":"getNextNode"](function(t){return!e&&u(t)&&(e=t),c(t)&&!(s(t)&&t.equals(e))})}}var a={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1},s=CKEDITOR.dom.walker.bogus(),l=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,c=CKEDITOR.dom.walker.editable(),u=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var t=new CKEDITOR.dom.range(this.root);return t._setStartContainer(this.startContainer),t.startOffset=this.startOffset,t._setEndContainer(this.endContainer),t.endOffset=this.endOffset,t.collapsed=this.collapsed,t},collapse:function(t){t?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(t){var e=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,2,e,!1,void 0===t||t),e},deleteContents:function(t){this.collapsed||i(this,0,null,t)},extractContents:function(t,e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||i(this,1,n,t,void 0===e||e),n},createBookmark:function(t){var e,n,i,o,r=this.collapsed;return(e=this.document.createElement("span")).data("cke-bookmark",1),e.setStyle("display","none"),e.setHtml("&nbsp;"),t&&(i="cke_bm_"+CKEDITOR.tools.getNextNumber(),e.setAttribute("id",i+(r?"C":"S"))),r||((n=e.clone()).setHtml("&nbsp;"),t&&n.setAttribute("id",i+"E"),(o=this.clone()).collapse(),o.insertNode(n)),(o=this.clone()).collapse(!0),o.insertNode(e),n?(this.setStartAfter(e),this.setEndBefore(n)):this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),{startNode:t?i+(r?"C":"S"):e,endNode:t?i+"E":n,serializable:t,collapsed:r}},createBookmark2:function(){function o(t){var e,n=t.container,i=t.offset,o=i;if((e=(e=n).type!=CKEDITOR.NODE_ELEMENT||0===o||o==e.getChildCount()?0:e.getChild(o-1).type==CKEDITOR.NODE_TEXT&&e.getChild(o).type==CKEDITOR.NODE_TEXT)&&(i=(n=n.getChild(i-1)).getLength()),n.type==CKEDITOR.NODE_ELEMENT&&0<i){t:{for(e=n;i--;)if(0<=(o=e.getChild(i).getIndex(!0))){i=o;break t}i=-1}i+=1}if(n.type==CKEDITOR.NODE_TEXT){for(e=n,o=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)o+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;e=o,n.getText()?i+=e:(o=n.getPrevious(a),e?(i=e,n=o?o.getNext():n.getParent().getFirst()):(n=n.getParent(),i=o?o.getIndex(!0)+1:0))}t.container=n,t.offset=i}function r(t,e){var n=e.getCustomData("cke-fillingChar");if(n){var i=t.container;n.equals(i)&&(t.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,t.offset<=0&&(t.offset=i.getIndex(),t.container=i.getParent()))}}var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(t){var e=this.collapsed,n={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return t&&(o(n),r(n,this.root),e||(o(i),r(i,this.root))),{start:n.container.getAddress(t),end:e?null:i.container.getAddress(t),startOffset:n.offset,endOffset:i.offset,normalized:t,collapsed:e,is2:!0}}}(),moveToBookmark:function(t){if(t.is2){var e=this.document.getByAddress(t.start,t.normalized),n=t.startOffset,i=t.end&&this.document.getByAddress(t.end,t.normalized);t=t.endOffset,this.setStart(e,n),i?this.setEnd(i,t):this.collapse(!0)}else e=(n=t.serializable)?this.document.getById(t.startNode):t.startNode,t=n?this.document.getById(t.endNode):t.endNode,this.setStartBefore(e),e.remove(),t?(this.setEndBefore(t),t.remove()):this.collapse(!0)},getBoundaryNodes:function(){var t,e=this.startContainer,n=this.endContainer,i=this.startOffset,o=this.endOffset;if(e.type==CKEDITOR.NODE_ELEMENT)if(i<(t=e.getChildCount()))e=e.getChild(i);else if(t<1)e=e.getPreviousSourceNode();else{for(e=e.$;e.lastChild;)e=e.lastChild;e=(e=new CKEDITOR.dom.node(e)).getNextSourceNode()||e}if(n.type==CKEDITOR.NODE_ELEMENT)if(o<(t=n.getChildCount()))n=n.getChild(o).getPreviousSourceNode(!0);else if(t<1)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return e.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(e=n),{startNode:e,endNode:n}},getCommonAncestor:function(t,e){var n=this.startContainer,i=this.endContainer;n=n.equals(i)?t&&n.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?n.getChild(this.startOffset):n:n.getCommonAncestor(i);return e&&!n.is?n.getParent():n},optimize:function(){var t=this.startContainer,e=this.startOffset;t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setStartAfter(t):this.setStartBefore(t)),t=this.endContainer,e=this.endOffset,t.type!=CKEDITOR.NODE_ELEMENT&&(e?e>=t.getLength()&&this.setEndAfter(t):this.setEndBefore(t))},optimizeBookmark:function(){var t=this.startContainer,e=this.endContainer;t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setStartAt(t,CKEDITOR.POSITION_BEFORE_START),e&&e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setEndAt(e,CKEDITOR.POSITION_AFTER_END)},trim:function(t,e){var n=this.startContainer,i=this.startOffset,o=this.collapsed;if((!t||o)&&n&&n.type==CKEDITOR.NODE_TEXT){if(i)if(i>=n.getLength())i=n.getIndex()+1,n=n.getParent();else{var r=n.split(i);i=n.getIndex()+1,n=n.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(r,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else i=n.getIndex(),n=n.getParent();if(this.setStart(n,i),o)return void this.collapse(!0)}n=this.endContainer,i=this.endOffset,e||o||!n||n.type!=CKEDITOR.NODE_TEXT||(i?(i>=n.getLength()||n.split(i),i=n.getIndex()+1):i=n.getIndex(),n=n.getParent(),this.setEnd(n,i))},enlarge:function(t,e){function n(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")?null:t}var o=new RegExp(/[^\s\ufeff]/);switch(t){case CKEDITOR.ENLARGE_INLINE:var i=1;case CKEDITOR.ENLARGE_ELEMENT:var r=function(t,e){var n,i;for((n=new CKEDITOR.dom.range(p)).setStart(t,e),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary())};i=n.next();){if(i.type!=CKEDITOR.NODE_TEXT)return!1;if(h=i!=t?i.getText():i.substring(e),o.test(h))return!1}return!0};if(this.collapsed)break;var a,s,l,c,u,d,h,f=this.getCommonAncestor(),p=this.root,g=!1;d=this.startContainer;var m=this.startOffset;for(d.type==CKEDITOR.NODE_TEXT?(m&&(g=!!(d=!CKEDITOR.tools.trim(d.substring(0,m)).length&&d)),d&&((c=d.getPrevious())||(l=d.getParent()))):(m&&(c=d.getChild(m-1)||d.getLast()),c||(l=d)),l=n(l);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?a=l:this.setStartBefore(l)),c=l.getPrevious()}for(;c;)if(d=!1,c.type==CKEDITOR.NODE_COMMENT)c=c.getPrevious();else{if(c.type==CKEDITOR.NODE_TEXT)h=c.getText(),o.test(h)&&(c=null),d=/[\s\ufeff]$/.test(h);else if((c.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else{m=c.$.getElementsByTagName("*");for(var E,v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){c=null;break}}c&&(d=!!h.length)}else c=null;if(d&&(g?u?a=l:l&&this.setStartBefore(l):g=!0),c){if(d=c.getPrevious(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}for(d=this.endContainer,m=this.endOffset,l=c=null,u=g=!1,d.type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(m)).length?g=!0:(g=!d.getLength(),m==d.getLength()?(c=d.getNext())||(l=d.getParent()):r(d,m)&&(l=d.getParent())):(c=d.getChild(m))||(l=d);l||c;){if(l&&!c){if(!u&&l.equals(f)&&(u=!0),i?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,u?s=l:l&&this.setEndAfter(l)),c=l.getNext()}for(;c;){if(d=!1,c.type==CKEDITOR.NODE_TEXT)h=c.getText(),r(c,0)||(c=null),d=/^[\s\ufeff]/.test(h);else if(c.type==CKEDITOR.NODE_ELEMENT){if((0<c.$.offsetWidth||e&&c.is("br"))&&!c.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[c.getName()]){if(h=c.getText(),o.test(h))c=null;else for(m=c.$.getElementsByTagName("*"),v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){c=null;break}c&&(d=!!h.length)}else c=null}else d=1;if(d&&g&&(u?s=l:this.setEndAfter(l)),c){if(d=c.getNext(),!l&&!d){l=c,c=null;break}c=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:l=new CKEDITOR.dom.range(this.root),p=this.root,l.setStartAt(p,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var T,y,b=CKEDITOR.dom.walker.blockBoundary(t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),C=null,D=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&"false"==t.getAttribute("contenteditable"))if(C){if(C.equals(t))return void(C=null)}else C=t;else if(C)return;var e=b(t);return e||(T=t),e};i=function(t){var e=D(t);return!e&&t.is&&t.is("br")&&(y=t),e};if(l.guard=D,l=l.lastBackward(),T=T||p,this.setStartAt(T,!T.is("br")&&(!l&&this.checkStartOfBlock()||l&&T.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var I=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(t){return!I(t)&&!O(t)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=t==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?i:D,T=C=y=null,l=l.lastForward(),T=T||p,this.setEndAt(T,!l&&this.checkEndOfBlock()||l&&T.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),y&&this.setEndAfter(y)}},shrink:function(n,t,e){var i="boolean"==typeof e?e:!e||"boolean"!=typeof e.shrinkOnBlockBoundary||e.shrinkOnBlockBoundary,o=e&&e.skipBogus;if(!this.collapsed){n=n||CKEDITOR.SHRINK_TEXT;var r=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,c=this.endOffset,u=e=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?r.setStartAfter(a):(r.setStartBefore(a),e=0):r.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(c?c>=s.getLength()?r.setEndAfter(s):(r.setEndAfter(s),u=0):r.setEndBefore(s));r=new CKEDITOR.dom.walker(r);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return r.evaluator=function(t){return t.type==(n==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},r.guard=function(t,e){return!!(o&&f(t)||h(t))||!(n==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||e&&t.equals(d)||!1===i&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(e||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},e&&(a=r[n==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),u&&(r.reset(),(r=r[n==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(r,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!e&&!u)}},insertNode:function(t){this.optimizeBookmark(),this.trim(!1,!0);var e=this.startContainer,n=e.getChild(this.startOffset);n?t.insertBefore(n):e.append(t),t.getParent()&&t.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(t)},moveToPosition:function(t,e){this.setStartAt(t,e),this.collapse(!0)},moveToRange:function(t){this.setStart(t.startContainer,t.startOffset),this.setEnd(t.endContainer,t.endOffset)},selectNodeContents:function(t){this.setStart(t,0),this.setEnd(t,t.type==CKEDITOR.NODE_TEXT?t.getLength():t.getChildCount())},setStart:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=e,this.endContainer||(this._setEndContainer(t),this.endOffset=e),n(this)},setEnd:function(t,e){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(e=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=e,this.startContainer||(this._setStartContainer(t),this.startOffset=e),n(this)},setStartAfter:function(t){this.setStart(t.getParent(),t.getIndex()+1)},setStartBefore:function(t){this.setStart(t.getParent(),t.getIndex())},setEndAfter:function(t){this.setEnd(t.getParent(),t.getIndex()+1)},setEndBefore:function(t){this.setEnd(t.getParent(),t.getIndex())},setStartAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}n(this)},setEndAt:function(t,e){switch(e){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}n(this)},fixBlock:function(t,e){var n=this.createBookmark(),i=this.document.createElement(e);this.collapse(t),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(i),i.trim(),this.insertNode(i);var o=i.getBogus();return o&&o.remove(),i.appendBogus(),this.moveToBookmark(n),i},splitBlock:function(t,e){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root),o=n.block,r=i.block,a=null;return n.blockLimit.equals(i.blockLimit)?("br"!=t&&(o||(o=this.fixBlock(!0,t),r=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),r||(r=this.fixBlock(!1,t))),n=o&&this.checkStartOfBlock(),i=r&&this.checkEndOfBlock(),this.deleteContents(),o&&o.equals(r)&&(i?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_AFTER_END),r=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),o=null):(r=this.splitElement(o,e||!1),o.is("ul","ol")||o.appendBogus())),{previousBlock:o,nextBlock:r,wasStartOfBlock:n,wasEndOfBlock:i,elementPath:a}):null},splitElement:function(t,e){if(!this.collapsed)return null;this.setEndAt(t,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,e||!1),i=t.clone(!1,e||!1);return n.appendTo(i),i.insertAfter(t),this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),i},removeEmptyBlocksAtEnd:function(){function r(e){return function(t){return!(n(t)||i(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.isEmptyInlineRemoveable()||e.is("table")&&t.is("caption"))}}var n=CKEDITOR.dom.walker.whitespaces(),i=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var e,n=this.createBookmark(),i=this[t?"endPath":"startPath"](),o=i.block||i.blockLimit;o&&!o.equals(i.root)&&!o.getFirst(r(o));)e=o.getParent(),this[t?"setEndAt":"setStartAt"](o,CKEDITOR.POSITION_AFTER_END),o.remove(1),o=e;this.moveToBookmark(n)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(t,e){var n=e==CKEDITOR.START,i=this.clone();return i.collapse(n),i[n?"setStartAt":"setEndAt"](t,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(i)).evaluator=r(n),i[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var t=this.startContainer,e=this.startOffset;return CKEDITOR.env.ie&&e&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.ltrim(t.substring(0,e)),l.test(t)&&this.trim(0,1)),this.trim(),
t=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(e=this.clone()).collapse(!0),e.setStartAt(t.block||t.blockLimit,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkBackward()},checkEndOfBlock:function(){var t=this.endContainer,e=this.endOffset;return CKEDITOR.env.ie&&t.type==CKEDITOR.NODE_TEXT&&(t=CKEDITOR.tools.rtrim(t.substring(e)),l.test(t)&&this.trim(1,0)),this.trim(),t=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(e=this.clone()).collapse(!1),e.setEndAt(t.block||t.blockLimit,CKEDITOR.POSITION_BEFORE_END),(t=new CKEDITOR.dom.walker(e)).evaluator=o(),t.checkForward()},getPreviousNode:function(t,e,n){var i=this.clone();return i.collapse(1),i.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.previous()},getNextNode:function(t,e,n){var i=this.clone();return i.collapse(),i.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(i)).evaluator=t,n.guard=e,n.next()},checkReadOnly:function(){function n(t,e){for(;t;){if(t.type==CKEDITOR.NODE_ELEMENT){if("false"==t.getAttribute("contentEditable")&&!t.data("cke-editable"))return 0;if(t.is("html")||"true"==t.getAttribute("contentEditable")&&(t.contains(e)||t.equals(e)))break}t=t.getParent()}return 1}return function(){var t=this.startContainer,e=this.endContainer;return!(n(t,e)&&n(e,t))}}(),moveToElementEditablePosition:function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT&&!t.isEditable(!1))return this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;t;){if(t.type==CKEDITOR.NODE_TEXT){e&&this.endContainer&&this.checkEndOfBlock()&&l.test(t.getText())?this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(t,e?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(t.type==CKEDITOR.NODE_ELEMENT)if(t.isEditable())this.moveToPosition(t,e?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(e&&t.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(t,CKEDITOR.POSITION_BEFORE_START);else if("false"==t.getAttribute("contenteditable")&&t.is(CKEDITOR.dtd.$block))return this.setStartBefore(t),this.setEndAfter(t),!0;var i=t,o=n,r=void 0;i.type==CKEDITOR.NODE_ELEMENT&&i.isEditable(!1)&&(r=i[e?"getLast":"getFirst"](u)),o||r||(r=i[e?"getPrevious":"getNext"](u)),t=r}return!!n},moveToClosestEditablePosition:function(t,e){var n,i,o,r=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return t?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(t,a[e?0:1]):n=this.clone(),t&&!t.is(CKEDITOR.dtd.$block)?r=1:(i=n[e?"getNextEditableNode":"getPreviousEditableNode"]())&&(r=1,(o=i.type==CKEDITOR.NODE_ELEMENT)&&i.is(CKEDITOR.dtd.$block)&&"false"==i.getAttribute("contenteditable")?(n.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(i,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&o&&i.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(i,0),n.collapse()):n.moveToPosition(i,a[e?1:0])),r&&this.moveToRange(n),!!r},moveToElementEditStart:function(t){return this.moveToElementEditablePosition(t)},moveToElementEditEnd:function(t){return this.moveToElementEditablePosition(t,!0)},getEnclosedNode:function(){if((t=this.clone()).optimize(),t.startContainer.type!=CKEDITOR.NODE_ELEMENT||t.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var t=new CKEDITOR.dom.walker(t),e=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);t.evaluator=function(t){return n(t)&&e(t)};var i=t.next();return t.reset(),i&&i.equals(t.previous())?i:null},getTouchedStartNode:function(){var t=this.startContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.startOffset)||t},getTouchedEndNode:function(){var t=this.endContainer;return this.collapsed||t.type!=CKEDITOR.NODE_ELEMENT?t:t.getChild(this.endOffset-1)||t},getNextEditableNode:t(),getPreviousEditableNode:t(1),_getTableElement:function(t){t=t||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var e=this.startContainer,n=this.endContainer,i=e.getAscendant("table",!0),o=n.getAscendant("table",!0);return CKEDITOR.env.safari&&i&&n.equals(this.root)?e.getAscendant(t,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(t,!0):i&&o&&(i.equals(o)||i.contains(o)||o.contains(i))?e.getAscendant(t,!0):null},scrollIntoView:function(){var t,e,n,i=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),o=this.clone();o.optimize(),(n=o.startContainer.type==CKEDITOR.NODE_TEXT)?(e=o.startContainer.getText(),t=o.startContainer.split(o.startOffset),i.insertAfter(o.startContainer)):o.insertNode(i),i.scrollIntoView(),n&&(o.startContainer.setText(e),t.remove()),i.remove()},getClientRects:function(){function i(t,n){var i,e,o,a=CKEDITOR.tools.array.map(t,function(t){return t}),r=new CKEDITOR.dom.range(n.root);if(n.startContainer instanceof CKEDITOR.dom.element&&(e=0===n.startOffset&&n.startContainer.hasAttribute("data-widget")),n.endContainer instanceof CKEDITOR.dom.element&&(o=(o=n.endOffset===(n.endContainer.getChildCount?n.endContainer.getChildCount():n.endContainer.length))&&n.endContainer.hasAttribute("data-widget")),e&&r.setStart(n.startContainer.getParent(),n.startContainer.getIndex()),o&&r.setEnd(n.endContainer.getParent(),n.endContainer.getIndex()+1),(e||o)&&(n=r),r=n.cloneContents(),r=CKEDITOR.dom.document.prototype.find.call(r,"[data-cke-widget-id]").toArray(),r=CKEDITOR.tools.array.map(r,function(t){var e=n.root.editor;return t=t.getAttribute("data-cke-widget-id"),e.widgets.instances[t].element}))return r=CKEDITOR.tools.array.map(r,function(t){var e;return e=t.getParent().hasClass("cke_widget_wrapper")?t.getParent():t,(i=this.root.getDocument().$.createRange()).setStart(e.getParent().$,e.getIndex()),i.setEnd(e.getParent().$,e.getIndex()+1),(e=i.getClientRects()).widgetRect=t.getClientRect(),e},n),CKEDITOR.tools.array.forEach(r,function(o){function t(i){CKEDITOR.tools.array.forEach(a,function(t,e){var n=CKEDITOR.tools.objectCompare(o[i],t);n||(n=CKEDITOR.tools.objectCompare(o.widgetRect,t)),n&&(Array.prototype.splice.call(a,e,o.length-i,o.widgetRect),r=!0)}),r||(i<a.length-1?t(i+1):a.push(o.widgetRect))}var r;t(0)}),a}function o(t,e,n){var i;return e.collapsed?n.startContainer instanceof CKEDITOR.dom.element?(t=n.checkStartOfBlock(),i=new CKEDITOR.dom.text("\u200b"),t?n.startContainer.append(i,!0):0===n.startOffset?i.insertBefore(n.startContainer.getFirst()):(n=n.startContainer.getChildren().getItem(n.startOffset-1),i.insertAfter(n)),e.setStart(i.$,0),e.setEnd(i.$,0),t=e.getClientRects(),i.remove()):n.startContainer instanceof CKEDITOR.dom.text&&(""===n.startContainer.getText()?(n.startContainer.setText("\u200b"),t=e.getClientRects(),n.startContainer.setText("")):t=[a(n.createBookmark())]):t=[a(n.createBookmark())],t}function r(t,e,n){return t=CKEDITOR.tools.extend({},t),e&&(t=CKEDITOR.tools.getAbsoluteRectPosition(n.document.getWindow(),t)),!t.width&&(t.width=t.right-t.left),!t.height&&(t.height=t.bottom-t.top),t}function a(t){var e,n=t.startNode;return t=t.endNode,n.setText("\u200b"),n.removeStyle("display"),t?(t.setText("\u200b"),t.removeStyle("display"),e=[n.getClientRect(),t.getClientRect()],t.remove()):e=[n.getClientRect(),n.getClientRect()],n.remove(),{right:Math.max(e[0].right,e[1].right),bottom:Math.max(e[0].bottom,e[1].bottom),left:Math.min(e[0].left,e[1].left),top:Math.min(e[0].top,e[1].top),width:Math.abs(e[0].left-e[1].left),height:Math.max(e[0].bottom,e[1].bottom)-Math.min(e[0].top,e[1].top)}}return void 0!==this.document.getSelection?function(e){var t,n=this.root.getDocument().$.createRange();return n.setStart(this.startContainer.$,this.startOffset),n.setEnd(this.endContainer.$,this.endOffset),(t=i(t=n.getClientRects(),this)).length||(t=o(t,n,this)),CKEDITOR.tools.array.map(t,function(t){return r(t,e,this)},this)}:function(t){return[r(a(this.createBookmark()),t,this)]}}(),_setStartContainer:function(t){this.startContainer=t},_setEndContainer:function(t){this.endContainer=t},_find:function(t,e){var n,i,o,r,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(i=a.find(t),n=0;n<i.count();n++)a=i.getItem(n),(e||!a.isReadOnly())&&(o=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),r=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),o&&r&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(t){return CKEDITOR.tools.array.reduce(t,function(t,e){var n=t[t.length-1],i=!1;if((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var o=new CKEDITOR.dom.range(e.root),r=(i=new CKEDITOR.dom.walker(o),CKEDITOR.dom.walker.whitespaces());for(o.setStart(n.endContainer,n.endOffset),o.setEnd(e.startContainer,e.startOffset),o=i.next();r(o)||e.endContainer.equals(o);)o=i.next();i=!o}return i?n.setEnd(e.endContainer,e.endOffset):t.push(e),t},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function t(t){arguments.length<1||(this.range=t,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function r(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function f(t,e,n,i){t:{null==i&&(i=r(n));for(var o;o=i.shift();)if(o.getDtd().p){i={element:o,remaining:i};break t}i=null}return i?(o=CKEDITOR.filter.instances[i.element.data("cke-filter")])&&!o.check(e)?f(t,e,n,i.remaining):((e=new CKEDITOR.dom.range(i.element)).selectNodeContents(i.element),(e=e.createIterator()).enlargeBr=t.enlargeBr,e.enforceRealBlocks=t.enforceRealBlocks,e.activeFilter=e.filter=o,t._.nestedEditable={element:i.element,container:n,remaining:i.remaining,iterator:e},1):0}function p(t,e,n){return!!e&&((t=t.clone()).collapse(!n),t.checkBoundaryOfElement(e,n?CKEDITOR.START:CKEDITOR.END))}var g=/^[\r\n\t ]+$/,m=CKEDITOR.dom.walker.bookmark(!1,!0),e=CKEDITOR.dom.walker.whitespaces(!0),E=function(t){return m(t)&&e(t)},v={dd:1,dt:1,li:1};t.prototype={getNextParagraph:function(t){var e,n,i,o,r;if(t=t||"p",this._.nestedEditable){if(e=this._.nestedEditable.iterator.getNextParagraph(t))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,e;if(this.activeFilter=this.filter,f(this,t,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(t);this._.nestedEditable=null}if(!this.range.root.getDtd()[t])return null;if(!this._.started){var a=this.range.clone();n=a.startPath();var s=a.endPath(),l=!a.collapsed&&p(a,n.block),c=!a.collapsed&&p(a,s.block,1);a.shrink(CKEDITOR.SHRINK_ELEMENT,!0),l&&a.setStartAt(n.block,CKEDITOR.POSITION_BEFORE_END),c&&a.setEndAt(s.block,CKEDITOR.POSITION_AFTER_START),n=a.endContainer.hasAscendant("pre",!0)||a.startContainer.hasAscendant("pre",!0),a.enlarge(this.forceBrBreak&&!n||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),a.collapsed||(n=new CKEDITOR.dom.walker(a.clone()),s=CKEDITOR.dom.walker.bookmark(!0,!0),n.evaluator=s,this._.nextNode=n.next(),(n=new CKEDITOR.dom.walker(a.clone())).evaluator=s,n=n.previous(),this._.lastNode=n.getNextSourceNode(!0,null,a.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((s=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),s.checkEndOfBlock()&&(s=new CKEDITOR.dom.elementPath(s.endContainer,s.root),this._.lastNode=(s.block||s.blockLimit).getNextSourceNode(!0))),this._.lastNode&&a.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=a.document.createText(""),this._.lastNode.insertAfter(n)),a=null),this._.started=1,n=a}for(s=this._.nextNode,a=this._.lastNode,this._.nextNode=null;s;){l=0,c=s.hasAscendant("pre");var u=s.type!=CKEDITOR.NODE_ELEMENT,d=0;if(u)s.type==CKEDITOR.NODE_TEXT&&g.test(s.getText())&&(u=0);else{var h=s.getName();if(CKEDITOR.dtd.$block[h]&&"false"==s.getAttribute("contenteditable")){f(this,t,e=s);break}if(s.isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){if("br"==h)u=1;else if(!n&&!s.getChildCount()&&"hr"!=h){i=(e=s).equals(a);break}n&&(n.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),"br"!=h&&(this._.nextNode=s)),l=1}else{if(s.getFirst()){n||(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),s=s.getFirst();continue}u=1}}if(u&&!n&&(n=this.range.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),i=(!l||u)&&s.equals(a),n&&!l)for(;!s.getNext(E)&&!i;){if((h=s.getParent()).isBlockBoundary(this.forceBrBreak&&!c&&{br:1})){l=1,u=0,i||h.equals(a),n.setEndAt(h,CKEDITOR.POSITION_BEFORE_END);break}u=1,i=(s=h).equals(a),d=1}if(u&&n.setEndAt(s,CKEDITOR.POSITION_AFTER_END),(i=!(s=this._getNextSourceNode(s,d,a)))||l&&n)break}if(!e){if(!n)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;s=(e=new CKEDITOR.dom.elementPath(n.startContainer,n.root)).blockLimit,l={div:1,th:1,td:1},!(e=e.block)&&s&&!this.enforceRealBlocks&&l[s.getName()]&&n.checkStartOfBlock()&&n.checkEndOfBlock()&&!s.equals(n.root)?e=s:!e||this.enforceRealBlocks&&e.is(v)?(e=this.range.document.createElement(t),n.extractContents().appendTo(e),e.trim(),n.insertNode(e),o=r=!0):"li"!=e.getName()?n.checkStartOfBlock()&&n.checkEndOfBlock()||(e=e.clone(!1),n.extractContents().appendTo(e),e.trim(),o=!(r=n.splitBlock()).wasStartOfBlock,r=!r.wasEndOfBlock,n.insertNode(e)):i||(this._.nextNode=e.equals(a)?null:this._getNextSourceNode(n.getBoundaryNodes().endNode,1,a))}return o&&(o=e.getPrevious())&&o.type==CKEDITOR.NODE_ELEMENT&&("br"==o.getName()?o.remove():o.getLast()&&"br"==o.getLast().$.nodeName.toLowerCase()&&o.getLast().remove()),r&&(o=e.getLast())&&o.type==CKEDITOR.NODE_ELEMENT&&"br"==o.getName()&&(!CKEDITOR.env.needsBrFiller||o.getPrevious(m)||o.getNext(m))&&o.remove(),this._.nextNode||(this._.nextNode=i||e.equals(a)||!a?null:this._getNextSourceNode(e,1,a)),e},_getNextSourceNode:function(t,e,n){function i(t){return!(t.equals(n)||t.equals(o))}var o=this.range.root;for(t=t.getNextSourceNode(e,null,i);!m(t);)t=t.getNextSourceNode(e,null,i);return t}},CKEDITOR.dom.range.prototype.createIterator=function(){return new t(this)}}(),CKEDITOR.command=function(e,n){var i;this.uiItems=[],this.exec=function(t){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==n.exec.call(this,e,t))},this.refresh=function(t,e){return!(this.readOnly||!t.readOnly)||(this.context&&!e.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[t.mode]&&this.disable(),!1===this.fire("refresh",{editor:t,path:e})||n.refresh&&!1!==n.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof i?i=e.activeFilter.checkFeature(this):i},CKEDITOR.tools.extend(this,n,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!n.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&"undefined"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(t){return!(this.state==t||t!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())&&(this.previousState=this.state,this.state=t,this.fire("state"),!0)},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function r(t,e,n,i,o){var r,a,s;for(r in t=[],e){a="boolean"==typeof(a=e[r])?{}:"function"==typeof a?{match:a}:x(a),"$"!=r.charAt(0)&&(a.elements=r),n&&(a.featureName=n.toLowerCase());var l=a;l.elements=v(l.elements,/\s+/)||null,l.propertiesOnly=l.propertiesOnly||!0===l.elements;var c=/\s*,\s*/,u=void 0;for(u in L){l[u]=v(l[u],c)||null;var d=l,h=P[u],f=v(l[P[u]],c),p=l[u],g=[],m=!0,E=void 0;for(E in f?m=!1:f={},p)"!"==E.charAt(0)&&(E=E.slice(1),g.push(E),m=!(f[E]=!0));for(;E=g.pop();)p[E]=p["!"+E],delete p["!"+E];d[h]=!m&&f||null}l.match=l.match||null,i.push(a),t.push(a)}for(e=o.elements,o=o.generic,n=0,i=t.length;n<i;++n){for(c in a=!0===(r=x(t[n])).classes||!0===r.styles||!0===r.attributes,l=r,u=h=c=void 0,L)l[c]=I(l[c]);for(u in d=!0,P){for(p in f=[],p=void 0,h=l[c=P[u]])-1<p.indexOf("*")?f.push(new RegExp("^"+p.replace(/\*/g,".*")+"$")):f.push(p);(h=f).length&&(l[c]=h,d=!1)}if(l.nothingRequired=d,l.noProperties=!(l.attributes||l.classes||l.styles),!0===r.elements||null===r.elements)o[a?"unshift":"push"](r);else for(s in l=r.elements,delete r.elements,l)e[s]?e[s][a?"unshift":"push"](r):e[s]=[r]}}function T(t,e,n,i){if((!t.match||t.match(e))&&(i||c(t,e))&&(t.propertiesOnly||(n.valid=!0),n.allAttributes||(n.allAttributes=s(t.attributes,e.attributes,n.validAttributes)),n.allStyles||(n.allStyles=s(t.styles,e.styles,n.validStyles)),!n.allClasses)){if(t=t.classes,e=e.classes,i=n.validClasses,t)if(!0===t)t=!0;else{for(var o,r=0,a=e.length;r<a;++r)i[o=e[r]]||(i[o]=t(o));t=!1}else t=!1;n.allClasses=t}}function s(t,e,n){if(!t)return!1;if(!0===t)return!0;for(var i in e)n[i]||(n[i]=t(i));return!1}function y(t,e,n){if(!t.match||t.match(e)){if(t.noProperties)return!1;if(n.hadInvalidAttribute=a(t.attributes,e.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=a(t.styles,e.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes,t){for(var i=!1,o=!0===t,r=e.length;r--;)(o||t(e[r]))&&(e.splice(r,1),i=!0);t=i}else t=!1;n.hadInvalidClass=t||n.hadInvalidClass}}function a(t,e){if(!t)return!1;var n,i=!1,o=!0===t;for(n in e)(o||t(n))&&(delete e[n],i=!0);return i}function l(t,e,n){return!(t.disabled||t.customConfig&&!n||!e)&&(t._.cachedChecks={},!0)}function v(t,e){if(!t)return!1;if(!0===t)return t;if("string"==typeof t)return"*"==(t=S(t))||CKEDITOR.tools.convertArrayToObject(t.split(e));if(CKEDITOR.tools.isArray(t))return!!t.length&&CKEDITOR.tools.convertArrayToObject(t);var n,i={},o=0;for(n in t)i[n]=t[n],o++;return!!o&&i}function c(t,e){if(t.nothingRequired)return!0;var n,i,o,r;if(o=t.requiredClasses)for(r=e.classes,n=0;n<o.length;++n)if("string"==typeof(i=o[n])){if(-1==CKEDITOR.tools.indexOf(r,i))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(r,i))return!1;return u(e.styles,t.requiredStyles)&&u(e.attributes,t.requiredAttributes)}function u(t,e){if(!e)return!0;for(var n,i=0;i<e.length;++i)if("string"==typeof(n=e[i])){if(!(n in t))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t,n))return!1;return!0}function d(t){if(!t)return{};t=t.split(/\s*,\s*/).sort();for(var e={};t.length;)e[t.shift()]="cke-test";return e}function h(t){var e,n,i,o,r={},a=1;for(t=S(t);e=t.match(F);)(n=e[2])?(i=f(n,"styles"),o=f(n,"attrs"),n=f(n,"classes")):i=o=n=null,r["$"+a++]={elements:e[1],classes:n,styles:i,attributes:o},t=t.slice(e[0].length);return r}function f(t,e){var n=t.match(i[e]);return n?S(n[1]):null}function b(t){var e=t.styleBackup=t.attributes.style,n=t.classBackup=t.attributes["class"];t.styles||(t.styles=CKEDITOR.tools.parseCssText(e||"",1)),t.classes||(t.classes=n?n.split(/\s+/):[])}function p(t,e,n,i){var o,r=0;if(i.toHtml&&(e.name=e.name.replace(B,"$1")),i.doCallbacks&&t.elementCallbacks){t:{for(var a,s=0,l=(o=t.elementCallbacks).length;s<l;++s)if(a=o[s](e)){o=a;break t}o=void 0}if(o)return o}if(i.doTransform&&(o=t._.transformations[e.name])){for(b(e),s=0;s<o.length;++s)O(t,e,o[s]);C(e)}if(i.doFilter){t:{s=e.name,t=(l=t._).allowedRules.elements[s],o=l.allowedRules.generic,s=l.disallowedRules.elements[s],l=l.disallowedRules.generic,a=i.skipRequired;var c,u,d={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(t||o){if(b(e),s)for(c=0,u=s.length;c<u;++c)if(!1===y(s[c],e,d)){t=null;break t}if(l)for(c=0,u=l.length;c<u;++c)y(l[c],e,d);if(t)for(c=0,u=t.length;c<u;++c)T(t[c],e,d,a);if(o)for(c=0,u=o.length;c<u;++c)T(o[c],e,d,a);t=d}else t=null}if(!t||!t.valid)return n.push(e),1;u=t.validAttributes;var h=t.validStyles;o=t.validClasses;s=e.attributes;var f=e.styles;l=e.classes;a=e.classBackup;var p,g,m=e.styleBackup,E=[],v=(d=[],/^data-cke-/);if(c=!1,delete s.style,delete s["class"],delete e.classBackup,delete e.styleBackup,!t.allAttributes)for(p in s)u[p]||v.test(p)&&(p==(g=p.replace(/^data-cke-saved-/,""))||u[g])||(delete s[p],c=!0);if(!t.allStyles||t.hadInvalidStyle){for(p in f)t.allStyles||h[p]?E.push(p+":"+f[p]):c=!0;E.length&&(s.style=E.sort().join("; "))}else m&&(s.style=m);if(!t.allClasses||t.hadInvalidClass){for(p=0;p<l.length;++p)(t.allClasses||o[l[p]])&&d.push(l[p]);d.length&&(s["class"]=d.sort().join(" ")),a&&d.length<a.split(/\s+/).length&&(c=!0)}else a&&(s["class"]=a);if(c&&(r=1),!i.skipFinalValidation&&!D(e))return n.push(e),1}return i.toHtml&&(e.name=e.name.replace(M,"cke:$1")),r}function t(t){var e,n=[];for(e in t)-1<e.indexOf("*")&&n.push(e.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}function C(t){var e,n=t.attributes;delete n.style,delete n["class"],(e=CKEDITOR.tools.writeCssText(t.styles,!0))&&(n.style=e),t.classes.length&&(n["class"]=t.classes.sort().join(" "))}function D(t){switch(t.name){case"a":if(!(t.children.length||t.attributes.name||t.attributes.id))return!1;break;case"img":if(!t.attributes.src)return!1}return!0}function I(e){if(!e)return!1;if(!0===e)return!0;var n=t(e);return function(t){return t in e||n&&t.match(n)}}function g(){return new CKEDITOR.htmlParser.element("br")}function m(t){return t.type==CKEDITOR.NODE_ELEMENT&&("br"==t.name||K.$block[t.name])}function E(t,e,n){var i=t.name;if(K.$empty[i]||!t.children.length)"hr"==i&&"br"==e?t.replaceWith(g()):(t.parent&&n.push({check:"it",el:t.parent}),t.remove());else if(K.$block[i]||"tr"==i)if("br"==e)t.previous&&!m(t.previous)&&(e=g()).insertBefore(t),t.next&&!m(t.next)&&(e=g()).insertAfter(t),t.replaceWithChildren();else{var o;i=t.children;t:{o=K[e];for(var r,a=0,s=i.length;a<s;++a)if((r=i[a]).type==CKEDITOR.NODE_ELEMENT&&!o[r.name]){o=!1;break t}o=!0}if(o)t.name=e,t.attributes={},n.push({check:"parent-down",el:t});else{var l,c;for(a=(o=t.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==o.name,s=i.length;0<s;)r=i[--s],a&&(r.type==CKEDITOR.NODE_TEXT||r.type==CKEDITOR.NODE_ELEMENT&&K.$inline[r.name])?(l||((l=new CKEDITOR.htmlParser.element(e)).insertAfter(t),n.push({check:"parent-down",el:l})),l.add(r,0)):(l=null,c=K[o.name]||K.span,r.insertAfter(t),o.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||r.type!=CKEDITOR.NODE_ELEMENT||c[r.name]||n.push({check:"el-up",el:r}));t.remove()}}else i in{style:1,script:1}?t.remove():(t.parent&&n.push({check:"it",el:t.parent}),t.replaceWithChildren())}function O(t,e,n){var i,o;for(i=0;i<n.length;++i)if(!((o=n[i]).check&&!t.check(o.check,!1)||o.left&&!o.left(e))){o.right(e,N);break}}function n(t,e){var n,i,o,r,a=e.getDefinition(),s=a.attributes,l=a.styles;if(t.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),o=t.classes.join("|");r=a.pop();)if(-1==o.indexOf(r))return!1}else if(t.attributes[n]!=s[n])return!1;for(i in l)if(t.styles[i]!=l[i])return!1;return!0}function R(t,n){var e,i;return"string"==typeof t?e=t:t instanceof CKEDITOR.style?i=t:(e=t[0],i=t[1]),[{element:e,left:i,right:function(t,e){e.transform(t,n)}}]}function k(e){return function(t){return n(t,e)}}function _(n){return function(t,e){e[n](t)}}var o,w,K=CKEDITOR.dtd,x=CKEDITOR.tools.copy,S=CKEDITOR.tools.trim,A=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(t,e){this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}};var n=(CKEDITOR.filter.instances[this.id]=this).editor=t instanceof CKEDITOR.editor?t:null;if(n&&!e){this.customConfig=!0;var i=n.config.allowedContent;!0===i?this.disabled=!0:(i||(this.customConfig=!1),this.allow(i,"config",1),this.allow(n.config.extraAllowedContent,"extra",1),this.allow(A[n.enterMode]+" "+A[n.shiftEnterMode],"default",1),this.disallow(n.config.disallowedContent))}else this.customConfig=!1,this.allow(e||t,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,e,n){if(!l(this,t,n))return!1;var i,o;if("string"==typeof t)t=h(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),e,n);i=t.getDefinition(),t={},n=i.attributes,t[i.element]=i={styles:i.styles,requiredStyles:i.styles&&CKEDITOR.tools.objectKeys(i.styles)},n&&(n=x(n),i.classes=n["class"]?n["class"].split(/\s+/):null,i.requiredClasses=i.classes,delete n["class"],i.attributes=n,i.requiredAttributes=n&&CKEDITOR.tools.objectKeys(n))}else if(CKEDITOR.tools.isArray(t)){for(i=0;i<t.length;++i)o=this.allow(t[i],e,n);return o}return r(this,t,e,this.allowedContent,this._.allowedRules),!0},applyTo:function(t,a,e,n){if(this.disabled)return!1;var s,i,o,l=this,c=[],u=this.editor&&this.editor.config.protectedSource,d=!1,h={doFilter:!e,doTransform:!0,doCallbacks:!0,toHtml:a};for(t.forEach(function(t){if(t.type==CKEDITOR.NODE_ELEMENT){if("off"==t.attributes["data-cke-filter"])return!1;if(!a||"span"!=t.name||!~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))if(1&(s=p(l,t,c,h)))d=!0;else if(2&s)return!1}else if(t.type==CKEDITOR.NODE_COMMENT&&t.value.match(/^\{cke_protected\}(?!\{C\})/)){var e;t:{var n,i,o,r=decodeURIComponent(t.value.replace(/^\{cke_protected\}/,""));if(e=[],u)for(i=0;i<u.length;++i)if((o=r.match(u[i]))&&o[0].length==r.length){e=!0;break t}1==(r=CKEDITOR.htmlParser.fragment.fromHtml(r)).children.length&&(n=r.children[0]).type==CKEDITOR.NODE_ELEMENT&&p(l,n,e,h),e=!e.length}e||c.push(t)}},null,!0),c.length&&(d=!0),t=[],n=A[n||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];e=c.pop();)e.type==CKEDITOR.NODE_ELEMENT?E(e,n,t):e.remove();for(;i=t.pop();)if((e=i.el).parent)switch(o=K[e.parent.name]||K.span,i.check){case"it":K.$removeEmpty[e.name]&&!e.children.length?E(e,n,t):D(e)||E(e,n,t);break;case"el-up":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||E(e,n,t);break;case"parent-down":e.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||o[e.name]||E(e.parent,n,t)}return d},checkFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),!t.requiredContent||this.check(t.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!l(this,t,!0)&&("string"==typeof t&&(t=h(t)),r(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(t){if(!this.disabled&&t){var e,n,i,o=[];for(e=0;e<t.length&&!i;++e)("string"==typeof(n=t[e])||n instanceof CKEDITOR.style)&&this.check(n)&&(i=n);if(i){for(e=0;e<t.length;++e)o.push(R(t[e],i));this.addTransformations(o)}}},addElementCallback:function(t){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(t)},addFeature:function(t){return!(!this.disabled&&t)||(t.toFeature&&(t=t.toFeature(this.editor)),this.allow(t.allowedContent,t.name),this.addTransformations(t.contentTransformations),this.addContentForms(t.contentForms),!t.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(t.requiredContent))},addTransformations:function(t){var e,n;if(!this.disabled&&t){var i,o=this._.transformations;for(i=0;i<t.length;++i){e=t[i];var r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,u=void 0;for(n=[],a=0;a<e.length;++a)"string"==typeof(s=e[a])?(l=(s=s.split(/\s*:\s*/))[0],c=null,u=s[1]):(l=s.check,c=s.left,u=s.right),r||(r=(r=s).element?r.element:l?l.match(/^([a-z0-9]+)/i)[0]:r.left.getDefinition().element),c instanceof CKEDITOR.style&&(c=k(c)),n.push({check:l==r?null:l,left:c,right:"string"==typeof u?_(u):u});o[e=r]||(o[e]=[]),o[e].push(n)}}},check:function(t,e,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(t)){for(var i=t.length;i--;)if(this.check(t[i],e,n))return!0;return!1}var o,r;if("string"==typeof t){if((r=t+"<"+(!1===e?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[r];var a=(o=h(t).$1).styles;i=o.classes;o.name=o.elements,o.classes=i=i?i.split(/\s*,\s*/):[],o.styles=d(a),o.attributes=d(o.attributes),o.children=[],i.length&&(o.attributes["class"]=i.join(" ")),a&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles))}else a=(o=t.getDefinition()).styles,i=o.attributes||{},a&&!CKEDITOR.tools.isEmpty(a)?(a=x(a),i.style=CKEDITOR.tools.writeCssText(a,!0)):a={},o={name:o.element,attributes:i,classes:i["class"]?i["class"].split(/\s+/):[],styles:a,children:[]};a=CKEDITOR.tools.clone(o);var s,l=[];if(!1!==e&&(s=this._.transformations[o.name])){for(i=0;i<s.length;++i)O(this,o,s[i]);C(o)}return p(this,a,l,{doFilter:!0,doTransform:!1!==e,skipRequired:!n,skipFinalValidation:!n}),0<l.length?n=!1:((e=o.attributes["class"])&&(o.attributes["class"]=o.attributes["class"].split(" ").sort().join(" ")),n=CKEDITOR.tools.objectCompare(o.attributes,a.attributes,!0),e&&(o.attributes["class"]=e)),"string"==typeof t&&(this._.cachedChecks[r]=n),n},getAllowedEnterMode:(o=["p","div","br"],w={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR},function(t,e){var n,i=o.slice();if(this.check(A[t]))return t;for(e||(i=i.reverse());n=i.pop();)if(this.check(n))return w[n];return CKEDITOR.ENTER_BR}),clone:function(){var t=new CKEDITOR.filter,e=CKEDITOR.tools.clone;return t.allowedContent=e(this.allowedContent),t._.allowedRules=e(this._.allowedRules),t.disallowedContent=e(this.disallowedContent),t._.disallowedRules=e(this._.disallowedRules),t._.transformations=e(this._.transformations),t.disabled=this.disabled,t.editor=this.editor,t},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var N,L={styles:1,attributes:1,classes:1},P={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},F=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,i={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},B=/^cke:(object|embed|param)$/,M=/^(object|embed|param)$/;N=CKEDITOR.filter.transformationsTools={sizeToStyle:function(t){this.lengthToStyle(t,"width"),this.lengthToStyle(t,"height")},sizeToAttribute:function(t){this.lengthToAttribute(t,"width"),this.lengthToAttribute(t,"height")},lengthToStyle:function(t,e,n){if(!((n=n||e)in t.styles)){var i=t.attributes[e];i&&(/^\d+$/.test(i)&&(i+="px"),t.styles[n]=i)}delete t.attributes[e]},lengthToAttribute:function(t,e,n){if(!((n=n||e)in t.attributes)){var i=t.styles[e],o=i&&i.match(/^(\d+)(?:\.\d*)?px$/);o?t.attributes[n]=o[1]:"cke-test"==i&&(t.attributes[n]="cke-test")}delete t.styles[e]},alignmentToStyle:function(t){if(!("float"in t.styles)){var e=t.attributes.align;"left"!=e&&"right"!=e||(t.styles["float"]=e)}delete t.attributes.align},alignmentToAttribute:function(t){if(!("align"in t.attributes)){var e=t.styles["float"];"left"!=e&&"right"!=e||(t.attributes.align=e)}delete t.styles["float"]},splitBorderShorthand:function(t){if(t.styles.border){var e=CKEDITOR.tools.style.parse.border(t.styles.border);e.color&&(t.styles["border-color"]=e.color),e.style&&(t.styles["border-style"]=e.style),e.width&&(t.styles["border-width"]=e.width),delete t.styles.border}},listTypeToStyle:function(t){if(t.attributes.type)switch(t.attributes.type){case"a":t.styles["list-style-type"]="lower-alpha";break;case"A":t.styles["list-style-type"]="upper-alpha";break;case"i":t.styles["list-style-type"]="lower-roman";break;case"I":t.styles["list-style-type"]="upper-roman";break;case"1":t.styles["list-style-type"]="decimal";break;default:
t.styles["list-style-type"]=t.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:n,transform:function(t,e){if("string"==typeof e)t.name=e;else{var n,i,o,r,a=e.getDefinition(),s=a.styles,l=a.attributes;for(n in t.name=a.element,l)if("class"==n)for(a=t.classes.join("|"),o=l[n].split(/\s+/);r=o.pop();)-1==a.indexOf(r)&&t.classes.push(r);else t.attributes[n]=l[n];for(i in s)t.styles[i]=s[i]}}}}(),CKEDITOR.focusManager=function(t){return t.focusManager?t.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:t},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(t){this._.timer&&clearTimeout(this._.timer),t&&(this.currentActive=t),this.hasFocus||this._.locked||((t=CKEDITOR.currentInstance)&&t.focusManager.blur(1),this.hasFocus=!0,(t=this._.editor.container)&&t.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(t){function e(){if(this.hasFocus){this.hasFocus=!1;var t=this._.editor.container;t&&t.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;t||!n?e.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,e.call(this)},n,this)}},add:function(t,e){if(!(n=t.getCustomData("focusmanager"))||n!=this){n&&n.remove(t);var n="focus",i="blur";e&&(CKEDITOR.env.ie?(n="focusin",i="focusout"):CKEDITOR.event.useCapture=1);var o={blur:function(){t.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(t)}};t.on(n,o.focus,this),t.on(i,o.blur,this),e&&(CKEDITOR.event.useCapture=0),t.setCustomData("focusmanager",this),t.setCustomData("focusmanager_handlers",o)}},remove:function(t){t.removeCustomData("focusmanager");var e=t.removeCustomData("focusmanager_handlers");t.removeListener("blur",e.blur),t.removeListener("focus",e.focus)}},CKEDITOR.keystrokeHandler=function(t){return t.keystrokeHandler?t.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:t},this)},f=function(t){var e=(t=t.data).getKeystroke(),n=this.keystrokes[e],i=this._.editor;return(h=!1===i.fire("key",{keyCode:e,domEvent:t}))||(n&&(h=!1!==i.execCommand(n,{from:"keystrokeHandler"})),h||(h=!!this.blockedKeystrokes[e])),h&&t.preventDefault(!0),!h},p=function(t){h&&(h=!1,t.data.preventDefault(!0))},CKEDITOR.keystrokeHandler.prototype={attach:function(t){t.on("keydown",f,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&t.on("keypress",p,this)}},CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(t,e,n){t&&CKEDITOR.lang.languages[t]||(t=this.detect(e,t));var i=this;e=function(){i[t].dir=i.rtl[t]?"rtl":"ltr",n(t,i[t])},this[t]?e():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+t+".js"),e,this)},detect:function(t,e){var n=this.languages,i=(o=(e=e||navigator.userLanguage||navigator.language||t).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1],o=o[2];return n[i+"-"+o]?i=i+"-"+o:n[i]||(i=null),CKEDITOR.lang.detect=i?function(){return i}:function(t){return t},i||t}},CKEDITOR.scriptLoader=(g={},m={},{load:function(t,i,e,n){var o="string"==typeof t;o&&(t=[t]),e||(e=CKEDITOR);var r=t.length,a=[],s=[],l=function(t){i&&(o?i.call(e,t):i.call(e,a,s))};if(0===r)l(!0);else{var c=function(t,e){(e?a:s).push(t),--r<=0&&(n&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),l(e))},u=function(t,e){g[t]=1;var n=m[t];delete m[t];for(var i=0;i<n.length;i++)n[i](t,e)},d=function(t){if(g[t])c(t,!0);else{var e=m[t]||(m[t]=[]);if(e.push(c),!(1<e.length)){var n=new CKEDITOR.dom.element("script");n.setAttributes({type:"text/javascript",src:t}),i&&(CKEDITOR.env.ie&&(CKEDITOR.env.version<=8||CKEDITOR.env.ie9Compat)?n.$.onreadystatechange=function(){"loaded"!=n.$.readyState&&"complete"!=n.$.readyState||(n.$.onreadystatechange=null,u(t,!0))}:(n.$.onload=function(){setTimeout(function(){u(t,!0)},0)},n.$.onerror=function(){u(t,!1)})),n.appendTo(CKEDITOR.document.getHead())}}};n&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var h=0;h<r;h++)d(t[h])}},queue:function(){function i(){var t;(t=o[0])&&this.load(t.scriptUrl,t.callback,CKEDITOR,0)}var o=[];return function(t,e){var n=this;o.push({scriptUrl:t,callback:function(){e&&e.apply(this,arguments),o.shift(),i.call(n)}}),1==o.length&&i.call(this)}}()}),CKEDITOR.resourceManager=function(t,e){this.basePath=t,this.fileName=e,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(t,e){if(this.registered[t])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+t+'" is already registered.');var n=this.registered[t]=e||{};return n.name=t,n.path=this.getPath(t),CKEDITOR.fire(t+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(t)},get:function(t){return this.registered[t]||null},getPath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(e&&e.dir||this.basePath+t+"/")},getFilePath:function(t){var e=this.externals[t];return CKEDITOR.getUrl(this.getPath(t)+(e?e.file:this.fileName+".js"))},addExternal:function(t,e,n){t=t.split(",");for(var i=0;i<t.length;i++){var o=t[i];n||(e=e.replace(/[^\/]+$/,function(t){return n=t,""})),this.externals[o]={dir:e,file:n||this.fileName+".js"}}},load:function(t,a,s){CKEDITOR.tools.isArray(t)||(t=t?[t]:[]);for(var l=this.loaded,e=this.registered,n=[],c={},u={},i=0;i<t.length;i++){var o=t[i];if(o)if(l[o]||e[o])u[o]=this.get(o);else{var r=this.getFilePath(o);n.push(r),r in c||(c[r]=[]),c[r].push(o)}}CKEDITOR.scriptLoader.load(n,function(t,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+c[e[0]].join(",")+'" was not found at "'+e[0]+'".');for(var n=0;n<t.length;n++)for(var i=c[t[n]],o=0;o<i.length;o++){var r=i[o];u[r]=this.get(r),l[r]=1}a.call(s,u)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var d={};return function(t,s,l){var c={},u=function(t){e.call(this,t,function(t){CKEDITOR.tools.extend(c,t);var e,n=[];for(e in t){var i=t[e],o=i&&i.requires;if(!d[e]){if(i.icons)for(var r=i.icons.split(","),a=r.length;a--;)CKEDITOR.skin.addIcon(r[a],i.path+"icons/"+(CKEDITOR.env.hidpi&&i.hidpi?"hidpi/":"")+r[a]+".png");d[e]=1}if(o)for(o.split&&(o=o.split(",")),i=0;i<o.length;i++)c[o[i]]||n.push(o[i])}if(n.length)u.call(this,n);else{for(e in c)(i=c[e]).onLoad&&!i.onLoad._called&&(!1===i.onLoad()&&delete c[e],i.onLoad._called=1);s&&s.call(l||window,c)}},this)};u.call(this,t)}}),CKEDITOR.plugins.setLang=function(t,e,n){var i=this.get(t);t=i.langEntries||(i.langEntries={}),(i=i.lang||(i.lang=[])).split&&(i=i.split(",")),-1==CKEDITOR.tools.indexOf(i,e)&&i.push(e),t[e]=n},CKEDITOR.ui=function(t){return t.ui?t.ui:(this.items={},this.instances={},this.editor=t,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(t,e,n){n.name=t.toLowerCase();var i=this.items[t]={type:e,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(i,n)},get:function(t){return this.instances[t]},create:function(t){var e=this.items[t],n=e&&this._.handlers[e.type],i=e&&e.command&&this.editor.getCommand(e.command);n=n&&n.create.apply(this,e.args);return this.instances[t]=n,i&&i.uiItems.push(n),n&&!n.type&&(n.type=e.type),n},addHandler:function(t,e){this._.handlers[t]=e},space:function(t){return CKEDITOR.document.getById(this.spaceId(t))},spaceId:function(t){return this.editor.id+"_"+t}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function t(t,e,n){if(CKEDITOR.event.call(this),t=t&&CKEDITOR.tools.clone(t),void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!n)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&n==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!o(e,n))throw Error('The specified element mode is not supported on element: "'+e.getName()+'".');this.element=e,this.elementMode=n,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||i(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",r),this.on("selectionChange",function(t){s(this,t.data.path)}),this.on("activeFilterChange",function(){s(this,this.elementPath(),!0)}),this.on("mode",r),this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var t=this.createRange();t.selectNodeContents(this.editable()),t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),t.collapse(),this.getSelection().selectRanges([t])}this.focus()}}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?c(this,t):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function i(){do{var t="editor"+ ++p}while(CKEDITOR.instances[t]);return t}function o(t,e){return e==CKEDITOR.ELEMENT_MODE_INLINE?t.is(CKEDITOR.dtd.$editable)||t.is("textarea"):e==CKEDITOR.ELEMENT_MODE_REPLACE?!t.is(CKEDITOR.dtd.$nonBodyContent):1}function r(){var t,e=this.commands;for(t in e)a(this,e[t])}function a(t,e){e[e.startDisabled?"disable":t.readOnly&&!e.readOnly?"disable":e.modes[t.mode]?"enable":"disable"]()}function s(t,e,n){if(e){var i,o,r=t.commands;for(o in r)i=r[o],(n||i.contextSensitive)&&i.refresh(t,e)}}function l(t){if(!(e=t.config.customConfig))return!1;var e=CKEDITOR.getUrl(e),n=g[e]||(g[e]={});return n.fn?(n.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=e&&l(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(e,function(){n.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},l(t)}),!0}function c(e,n){e.on("customConfigLoaded",function(){if(n){if(n.on)for(var t in n.on)e.on(t,n.on[t]);CKEDITOR.tools.extend(e.config,n,!0),delete e.config.on}t=e.config,e.readOnly=!!t.readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=t.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:t.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:t.shiftEnterMode,t.skin&&(CKEDITOR.skinName=t.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),u(e)}),n&&null!=n.customConfig&&(e.config.customConfig=n.customConfig),l(e)||e.fireOnce("customConfigLoaded")}function u(t){CKEDITOR.skin.loadPart("editor",function(){e(t)})}function e(i){CKEDITOR.lang.load(i.config.language,i.config.defaultLanguage,function(t,e){var n=i.config.title;i.langCode=t,i.lang=CKEDITOR.tools.prototypedCopy(e),i.title="string"==typeof n||!1===n?n:[i.lang.editor,i.name].join(", "),i.config.contentsLangDirection||(i.config.contentsLangDirection=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.element.getDirection(1):i.lang.dir),i.fire("langLoaded"),d(i)})}function d(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),n(e)})}function n(u){function t(t){return t?(CKEDITOR.tools.isArray(t)&&(t=t.join(",")),t.replace(/\s/g,"")):""}var d=u.config,e=t(d.plugins),n=t(d.extraPlugins),i=t(d.removePlugins);if(n){var o=new RegExp("(?:^|,)(?:"+n.replace(/,/g,"|")+")(?=,|$)","g");e=(e=e.replace(o,""))+","+n}if(i){var h=new RegExp("(?:^|,)(?:"+i.replace(/,/g,"|")+")(?=,|$)","g");e=e.replace(h,"")}CKEDITOR.env.air&&(e+=",adobeair"),CKEDITOR.plugins.load(e.split(","),function(t){var o=[],r=[],e=[];for(var n in u.plugins=CKEDITOR.tools.extend({},u.plugins,t),t){var i,a=t[n],s=a.lang,l=null,c=a.requires;if(CKEDITOR.tools.isArray(c)&&(c=c.join(",")),c&&(i=c.match(h)))for(;c=i.pop();)CKEDITOR.error("editor-plugin-required",{plugin:c.replace(",",""),requiredBy:n});s&&!u.lang[n]&&(s.split&&(s=s.split(",")),0<=CKEDITOR.tools.indexOf(s,u.langCode)?l=u.langCode:l=(l=u.langCode.replace(/-.*/,""))!=u.langCode&&0<=CKEDITOR.tools.indexOf(s,l)?l:0<=CKEDITOR.tools.indexOf(s,"en")?"en":s[0],a.langEntries&&a.langEntries[l]?(u.lang[n]=a.langEntries[l],l=null):e.push(CKEDITOR.getUrl(a.path+"lang/"+l+".js"))),r.push(l),o.push(a)}CKEDITOR.scriptLoader.load(e,function(){for(var t=["beforeInit","init","afterInit"],e=0;e<t.length;e++)for(var n=0;n<o.length;n++){var i=o[n];0===e&&r[n]&&i.lang&&i.langEntries&&(u.lang[i.name]=i.langEntries[r[n]]),i[t[e]]&&i[t[e]](u)}for(u.fireOnce("pluginsLoaded"),d.keystrokes&&u.setKeystroke(u.config.keystrokes),n=0;n<u.config.blockedKeystrokes.length;n++)u.keystrokeHandler.blockedKeystrokes[u.config.blockedKeystrokes[n]]=1;u.status="loaded",u.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,u)})})}function h(){var t=this.element;if(t&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var e=this.getData();return this.config.htmlEncodeOutput&&(e=CKEDITOR.tools.htmlEncode(e)),t.is("textarea")?t.setValue(e):t.setHtml(e),!0}return!1}function f(t,e){function n(t){var e=t.startContainer,n=t.endContainer;return!(!e.is||!(e.is("tr")||e.is("td")&&e.equals(n)&&t.endOffset===e.getChildCount()))}function i(t){var e=t.startContainer;return e.is("tr")?t.cloneContents():e.clone(!0)}for(var o,r,a,s=new CKEDITOR.dom.documentFragment,l=0;l<t.length;l++){var c=t[l],u=c.startContainer.getAscendant("tr",!0);n(c)?(o||((o=u.getAscendant("table").clone()).append(u.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(o),o=o.findOne("thead, tbody, tfoot")),r&&r.equals(u)||(a=(r=u).clone(),o.append(a)),a.append(i(c))):s.append(c.cloneContents())}return o?s:e.getHtmlFromRange(t[0])}t.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=t;var p=0,g={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{plugins:{detectConflict:function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(this[i])return CKEDITOR.warn("editor-plugin-conflict",{plugin:t,replacedWith:i}),!0}return!1}},addCommand:function(t,e){e.name=t.toLowerCase();var n=e instanceof CKEDITOR.command?e:new CKEDITOR.command(this,e);return this.mode&&a(this,n),this.commands[t]=n},_attachToForm:function(){function e(t){n.updateElement(),n._.required&&!i.getValue()&&!1===n.fire("required")&&t.data.preventDefault()}function t(t){return!!(t&&t.call&&t.apply)}var n=this,i=n.element,o=new CKEDITOR.dom.element(i.$.form);i.is("textarea")&&o&&(o.on("submit",e),t(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),n.on("destroy",function(){o.removeListener("submit",e)}))},destroy:function(t){var e=CKEDITOR.filter.instances,n=this;this.fire("beforeDestroy"),!t&&h.call(this),this.editable(null),this.filter&&delete this.filter,CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(e),function(t){t=e[t],n===t.editor&&t.destroy()}),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(t){if(!t){if(!(t=this.getSelection()))return null;t=t.getStartElement()}return t?new CKEDITOR.dom.elementPath(t,this.editable()):null},createRange:function(){var t=this.editable();return t?new CKEDITOR.dom.range(t):null},execCommand:function(t,e){var n=this.getCommand(t),i={name:t,commandData:e||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",i)||(i.returnValue=n.exec(i.commandData),n.async||!1===this.fire("afterCommandExec",i)))&&i.returnValue},getCommand:function(t){return this.commands[t]},getData:function(t){!t&&this.fire("beforeGetData");var e=this._.data;return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e={dataValue:e},!t&&this.fire("getData",e),e.dataValue},getSnapshot:function(){var t=this.fire("getSnapshot");return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t},loadSnapshot:function(t){this.fire("loadSnapshot",t)},setData:function(t,e,n){var i=!0,o=e;e&&"object"==typeof e&&(n=e.internal,o=e.callback,i=!e.noSnapshot),!n&&i&&this.fire("saveSnapshot"),!o&&n||this.once("dataReady",function(t){!n&&i&&this.fire("saveSnapshot"),o&&o.call(t.editor)}),t={dataValue:t},!n&&this.fire("setData",t),this._.data=t.dataValue,!n&&this.fire("afterSetData",t)},setReadOnly:function(t){t=null==t||t,this.readOnly!=t&&(this.readOnly=t,this.keystrokeHandler.blockedKeystrokes[8]=+t,this.editable().setReadOnly(t),this.fire("readOnly"))},insertHtml:function(t,e,n){this.fire("insertHtml",{dataValue:t,mode:e,range:n})},insertText:function(t){this.fire("insertText",t)},insertElement:function(t){this.fire("insertElement",t)},getSelectedHtml:function(t){var e=this.editable(),n=(n=this.getSelection())&&n.getRanges();return e&&n&&0!==n.length?(e=f(n,e),t?e.getHtml():e):null},extractSelectedHtml:function(t,e){var n,i=this.editable(),o=this.getSelection().getRanges(),r=new CKEDITOR.dom.documentFragment;if(!i||0===o.length)return null;for(n=0;n<o.length;n++)r.append(i.extractHtmlFromRange(o[n],e));return e||this.getSelection().selectRanges([o[0]]),t?r.getHtml():r},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return h.call(this)},setKeystroke:function(t){for(var e,n,i=this.keystrokeHandler.keystrokes,o=CKEDITOR.tools.isArray(t)?t:[[].slice.call(arguments,0)],r=o.length;r--;)e=o[r],n=0,CKEDITOR.tools.isArray(e)&&(n=e[1],e=e[0]),n?i[e]=n:delete i[e]},getCommandKeystroke:function(t,e){var n="string"==typeof t?this.getCommand(t):t,i=[];if(n){var o=CKEDITOR.tools.object.findKey(this.commands,n),r=this.keystrokeHandler.keystrokes;if(n.fakeKeystroke)i.push(n.fakeKeystroke);else for(var a in r)r[a]===o&&i.push(a)}return e?i:i[0]||null},addFeature:function(t){return this.filter.addFeature(t)},setActiveFilter:function(t){t||(t=this.filter),this.activeFilter!==t&&(this.activeFilter=t,this.fire("activeFilterChange"),t===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode),t.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(t,e){t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.enterMode,e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.shiftEnterMode,this.activeEnterMode==t&&this.activeShiftEnterMode==e||(this.activeEnterMode=t,this.activeShiftEnterMode=e,this.fire("activeEnterModeChange"))},showNotification:function(t){alert(t)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},E=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,v={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(t){for(var e,n,i,o=0;e=this._.htmlPartsRegex.exec(t);)if(o<(n=e.index)&&(o=t.substring(o,n),i?i.push(o):this.onText(o)),o=this._.htmlPartsRegex.lastIndex,!(n=e[1])||(n=n.toLowerCase(),i&&CKEDITOR.dtd.$cdata[n]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(e[0]);else if(n=e[3]){if(n=n.toLowerCase(),!/="/.test(n)){var r,a={},s=e[4];if(e=!!e[5],s)for(;r=E.exec(s);){var l=r[1].toLowerCase();r=r[2]||r[3]||r[4]||"",a[l]=!r&&v[l]?l:CKEDITOR.tools.htmlDecodeAttr(r)}this.onTagOpen(n,a,e),!i&&CKEDITOR.dtd.$cdata[n]&&(i=[])}}else(n=e[2])&&this.onComment(n);else this.onTagClose(n);t.length>o&&this.onText(t.substring(o,t.length))}},CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(t){this._.output.push("<",t)},openTagClose:function(t,e){e?this._.output.push(" />"):this._.output.push(">")},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e)),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){this._.output.push("</",t,">")},text:function(t){this._.output.push(t)},comment:function(t){this._.output.push("<!--",t,"-->")},write:function(t){this._.output.push(t)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(t){var e=this._.output.join("");return t&&this.reset(),e}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var t=this.parent.children,e=CKEDITOR.tools.indexOf(t,this),n=this.previous,i=this.next;n&&(n.next=i),i&&(i.previous=n),t.splice(e,1),this.parent=null},replaceWith:function(t){var e=this.parent.children,n=CKEDITOR.tools.indexOf(e,this),i=t.previous=this.previous,o=t.next=this.next;i&&(i.next=t),o&&(o.previous=t),(e[n]=t).parent=this.parent,this.parent=null},insertAfter:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t),i=t.next;e.splice(n+1,0,this),this.next=t.next,(this.previous=t).next=this,i&&(i.previous=this),this.parent=t.parent},insertBefore:function(t){var e=t.parent.children,n=CKEDITOR.tools.indexOf(e,t);e.splice(n,0,this),this.next=t,(this.previous=t.previous)&&(t.previous.next=this),(t.previous=this).parent=t.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(t){return this.replaceWith(t),t.add(this),t},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(t){return t||{}}},CKEDITOR.htmlParser.comment=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(t,e){var n=this.value;return(n=t.onComment(e,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(t,e){e&&this.filter(e),t.comment(this.value)}}),CKEDITOR.htmlParser.text=function(t){this.value=t,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(t,e){if(!(this.value=t.onText(e,this.value,this)))return this.remove(),!1},writeHtml:function(t,e){e&&this.filter(e),t.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(t){this.value=t},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(t){t.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function v(t){return!t.attributes["data-cke-survive"]&&("a"==t.name&&t.attributes.href||CKEDITOR.dtd.$removeEmpty[t.name])}var T=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),y={ol:1,ul:1},b=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),i={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(t,e,a){function o(t){var e;if(0<f.length)for(var n=0;n<f.length;n++){var i=f[n],o=i.name,r=CKEDITOR.dtd[o],a=g.name&&CKEDITOR.dtd[g.name];a&&!a[o]||t&&r&&!r[t]&&CKEDITOR.dtd[t]?o==g.name&&(l(g,g.parent,1),n--):(e||(s(),e=1),(i=i.clone()).parent=g,g=i,f.splice(n,1),n--)}}function s(){for(;p.length;)l(p.shift(),g)}function r(t){if(t._.isBlockLike&&"pre"!=t.name&&"textarea"!=t.name){var e,n=t.children.length,i=t.children[n-1];i&&i.type==CKEDITOR.NODE_TEXT&&((e=CKEDITOR.tools.rtrim(i.value))?i.value=e:t.children.length=n-1)}}function l(t,e,n){e=e||g||h;var i=g;void 0===t.previous&&(c(e,t)&&(g=e,d.onTagOpen(a,{}),t.returnPoint=e=g),r(t),v(t)&&!t.children.length||e.add(t),"pre"==t.name&&(E=!1),"textarea"==t.name&&(m=!1)),t.returnPoint?(g=t.returnPoint,delete t.returnPoint):g=n?e:i}function c(t,e){var n,i;if((t==h||"body"==t.name)&&a&&(!t.name||CKEDITOR.dtd[t.name][a]))return(n=e.attributes&&(i=e.attributes["data-cke-real-element-type"])?i:e.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!e.isOrphan||e.type==CKEDITOR.NODE_TEXT}function u(t,e){return(t in CKEDITOR.dtd.$listItem||t in CKEDITOR.dtd.$tableContent)&&(t==e||"dt"==t&&"dd"==e||"dd"==t&&"dt"==e)}var d=new CKEDITOR.htmlParser,h=e instanceof CKEDITOR.htmlParser.element?e:"string"==typeof e?new CKEDITOR.htmlParser.element(e):new CKEDITOR.htmlParser.fragment,f=[],p=[],g=h,m="textarea"==h.name,E="pre"==h.name;for(d.onTagOpen=function(t,e,n,i){if((e=new CKEDITOR.htmlParser.element(t,e)).isUnknown&&n&&(e.isEmpty=!0),e.isOptionalClose=i,v(e))f.push(e);else{if("pre"==t)E=!0;else{if("br"==t&&E)return void g.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==t&&(m=!0)}if("br"==t)p.push(e);else{for(;i=(n=g.name)?CKEDITOR.dtd[n]||(g._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b,!(e.isUnknown||g.isUnknown||i[t]);)if(g.isOptionalClose)d.onTagClose(n);else if(t in y&&n in y)(n=(n=g.children)[n.length-1])&&"li"==n.name||l(n=new CKEDITOR.htmlParser.element("li"),g),!e.returnPoint&&(e.returnPoint=g),g=n;else if(t in CKEDITOR.dtd.$listItem&&!u(t,n))d.onTagOpen("li"==t?"ul":"dl",{},0,1);else if(n in T&&!u(t,n))!e.returnPoint&&(e.returnPoint=g),g=g.parent;else{if(n in CKEDITOR.dtd.$inline&&f.unshift(g),!g.parent){e.isOrphan=1;break}l(g,g.parent,1)}o(t),s(),e.parent=g,e.isEmpty?l(e):g=e}}},d.onTagClose=function(t){for(var e=f.length-1;0<=e;e--)if(t==f[e].name)return void f.splice(e,1);for(var n=[],i=[],o=g;o!=h&&o.name!=t;)o._.isBlockLike||i.unshift(o),n.push(o),o=o.returnPoint||o.parent;if(o!=h){for(e=0;e<n.length;e++){var r=n[e];l(r,r.parent)}(g=o)._.isBlockLike&&s(),l(o,o.parent),o==g&&(g=g.parent),f=f.concat(i)}"body"==t&&(a=!1)},d.onText=function(t){if(g._.hasInlineStarted&&!p.length||E||m||0!==(t=CKEDITOR.tools.ltrim(t)).length){var e=g.name,n=e?CKEDITOR.dtd[e]||(g._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):b;!m&&!n["#"]&&e in T?(d.onTagOpen(i[e]||""),d.onText(t)):(s(),o(),E||m||(t=t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),t=new CKEDITOR.htmlParser.text(t),c(g,t)&&this.onTagOpen(a,{},0,1),g.add(t))}},d.onCDATA=function(t){g.add(new CKEDITOR.htmlParser.cdata(t))},d.onComment=function(t){s(),o(),g.add(new CKEDITOR.htmlParser.comment(t))},d.parse(t),s();g!=h;)l(g,g.parent,1);return r(h),h},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(t,e){isNaN(e)&&(e=this.children.length);var n=0<e?this.children[e-1]:null;if(n){if(t._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(t);n.next=t}t.previous=n,(t.parent=this).children.splice(e,0,t),this._.hasInlineStarted||(this._.hasInlineStarted=t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&!t._.isBlockLike)},filter:function(t,e){e=this.getFilterContext(e),t.onRoot(e,this),this.filterChildren(t,!1,e)},filterChildren:function(t,e,n){if(this.childrenFilteredBy!=t.id)for(n=this.getFilterContext(n),e&&!this.parent&&t.onRoot(n,this),this.childrenFilteredBy=t.id,e=0;e<this.children.length;e++)!1===this.children[e].filter(t,n)&&e--},writeHtml:function(t,e){e&&this.filter(e),this.writeChildrenHtml(t)},writeChildrenHtml:function(t,e,n){var i=this.getFilterContext();for(n&&!this.parent&&e&&e.onRoot(i,this),e&&this.filterChildren(e,!1,i),e=0,i=(n=this.children).length;e<i;e++)n[e].writeHtml(t)},forEach:function(t,e,n){if(!(n||e&&this.type!=e))var i=t(this);if(!1!==i){n=this.children;for(var o=0;o<n.length;o++)(i=n[o]).type==CKEDITOR.NODE_ELEMENT?i.forEach(t,e):e&&i.type!=e||t(i)}},getFilterContext:function(t){return t||{}}}}(),function(){function a(){this.rules=[]}function i(t,e,n,i){var o,r;for(o in e)(r=t[o])||(r=t[o]=new a),r.add(e[o],n,i)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new a,this.attributeNameRules=new a,this.elementsRules={},this.attributesRules={},this.textRules=new a,this.commentRules=new a,this.rootRules=new a,t&&this.addRules(t,10)},proto:{addRules:function(t,e){var n;"number"==typeof e?n=e:e&&"priority"in e&&(n=e.priority),"number"!=typeof n&&(n=10),"object"!=typeof e&&(e={}),t.elementNames&&this.elementNameRules.addMany(t.elementNames,n,e),t.attributeNames&&this.attributeNameRules.addMany(t.attributeNames,n,e),t.elements&&i(this.elementsRules,t.elements,n,e),t.attributes&&i(this.attributesRules,t.attributes,n,e),t.text&&this.textRules.add(t.text,n,e),t.comment&&this.commentRules.add(t.comment,n,e),t.root&&this.rootRules.add(t.root,n,e)},applyTo:function(t){t.filter(this)},onElementName:function(t,e){return this.elementNameRules.execOnName(t,e)},onAttributeName:function(t,e){return this.attributeNameRules.execOnName(t,e)},onText:function(t,e,n){return this.textRules.exec(t,e,n)},onComment:function(t,e,n){return this.commentRules.exec(t,e,n)},onRoot:function(t,e){return this.rootRules.exec(t,e)},onElement:function(t,e){for(var n,i=[this.elementsRules["^"],this.elementsRules[e.name],this.elementsRules.$],o=0;o<3;o++)if(n=i[o]){if(!1===(n=n.exec(t,e,this)))return null;if(n&&n!=e)return this.onNode(t,n);if(e.parent&&!e.name)break}return e},onNode:function(t,e){var n=e.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(t,e):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(t,e.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(t,e.value)):null},onAttribute:function(t,e,n,i){return(n=this.attributesRules[n])?n.exec(t,i,e,this):i}}}),(CKEDITOR.htmlParser.filterRulesGroup=a).prototype={add:function(t,e,n){this.rules.splice(this.findIndex(e),0,{value:t,priority:e,options:n})},addMany:function(t,e,n){for(var i=[this.findIndex(e),0],o=0,r=t.length;o<r;o++)i.push({value:t[o],priority:e,options:n});this.rules.splice.apply(this.rules,i)},findIndex:function(t){for(var e=this.rules,n=e.length-1;0<=n&&t<e[n].priority;)n--;return n+1},exec:function(t,e){var n,i,o,r,a=e instanceof CKEDITOR.htmlParser.node||e instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,c=l.length;for(r=0;r<c;r++)if(a&&(n=e.type,i=e.name),o=l[r],!(t.nonEditable&&!o.options.applyToAll||t.nestedEditable&&o.options.excludeNestedEditable)){if(!1===(o=o.value.apply(null,s))||a&&o&&(o.name!=i||o.type!=n))return o;null!=o&&(s[0]=e=o)}return e},execOnName:function(t,e){for(var n,i=0,o=this.rules,r=o.length;e&&i<r;i++)n=o[i],t.nonEditable&&!n.options.applyToAll||t.nestedEditable&&n.options.excludeNestedEditable||(e=e.replace(n.value[0],n.value[1]));return e}}}(),function(){function n(t,e){function s(t){return t||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function n(r,a){return function(t){if(t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e,n,i=[],o=u(t);if(o)for(l(o,1)&&i.push(o);o;)f(o)&&(e=d(o))&&l(e)&&((n=d(e))&&!f(n)?i.push(e):(s(c).insertAfter(e),e.remove())),o=o.previous;for(o=0;o<i.length;o++)i[o].remove();(i=!r||!1!==("function"==typeof a?a(t):a))&&((
c||CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(c||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||t.name in CKEDITOR.dtd.tr||t.name in CKEDITOR.dtd.$listItem))?i=!(i=u(t))||"form"==t.name&&"input"==i.name:i=!1),i&&t.add(s(r))}}}function l(t,e){return!(c&&!CKEDITOR.env.needsBrFiller||t.type!=CKEDITOR.NODE_ELEMENT||"br"!=t.name||t.attributes["data-cke-eol"])||!!(t.type==CKEDITOR.NODE_TEXT&&(n=t.value.match(T))&&(n.index&&(new CKEDITOR.htmlParser.text(t.value.substring(0,n.index)).insertBefore(t),t.value=n[0]),!CKEDITOR.env.needsBrFiller&&c&&(!e||t.parent.name in a)||!c&&((n=t.previous)&&"br"==n.name||!n||f(n))));var n}var i,o,r={elements:{}},c="html"==e,a=CKEDITOR.tools.extend({},C);for(i in a)"#"in b[i]||delete a[i];for(i in a)r.elements[i]=n(c,t.config.fillEmptyBlocks);return r.root=n(c,!1),r.elements.br=(o=c,function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=t.attributes;if("data-cke-bogus"in e||"data-cke-eol"in e)delete e["data-cke-bogus"];else{for(e=t.next;e&&h(e);)e=e.next;var n=d(t);!e&&f(t.parent)?p(t.parent,s(o)):f(e)&&n&&!f(n)&&s(o).insertBefore(e)}}}),r}function r(t,e){return t!=CKEDITOR.ENTER_BR&&!1!==e&&(t==CKEDITOR.ENTER_DIV?"div":"p")}function u(t){for(t=t.children[t.children.length-1];t&&h(t);)t=t.previous;return t}function d(t){for(t=t.previous;t&&h(t);)t=t.previous;return t}function h(t){return t.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(t.value)||t.type==CKEDITOR.NODE_ELEMENT&&t.attributes["data-cke-bookmark"]}function f(t){return t&&(t.type==CKEDITOR.NODE_ELEMENT&&t.name in C||t.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function p(t,e){var n=t.children[t.children.length-1];t.children.push(e),e.parent=t,n&&((n.next=e).previous=n)}function t(t){"false"!=(t=t.attributes).contenteditable&&(t["data-cke-editable"]=t.contenteditable?"true":1),t.contenteditable="false"}function e(t){switch((t=t.attributes)["data-cke-editable"]){case"true":t.contenteditable="true";break;case"1":delete t.contenteditable}}function a(t){return t.replace(k,function(t,e,n){return"<"+e+n.replace(_,function(t,e){return w.test(e)&&-1==n.indexOf("data-cke-saved-"+e)?" data-cke-saved-"+t+" data-cke-"+CKEDITOR.rnd+"-"+t:t})+">"})}function s(t,e){return t.replace(e,function(t,e,n){return 0===t.indexOf("<textarea")&&(t=e+m(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(t)+"</cke:encoded>"})}function l(t){return t.replace(S,function(t,e){return decodeURIComponent(e)})}function c(t){return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(t){return"<!--"+y+"{C}"+encodeURIComponent(t).replace(/--/g,"%2D%2D")+"-->"})}function i(t){return CKEDITOR.tools.array.reduce(t.split(""),function(t,e){var n=e.toLowerCase(),i=e.toUpperCase(),o=g(n);return n!==i&&(o+="|"+g(i)),t+"("+o+")"},"")}function g(t){var e,n=(e=t.charCodeAt(0)).toString(16);for(var i in e={htmlCode:"&#"+e+";?",hex:"&#x0*"+n+";?",entity:{"<":"&lt;",">":"&gt;",":":"&colon;"}[t]})e[i]&&(t+="|"+e[i]);return t}function m(t){return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)})}function E(t,e){var n=e._.dataStore;return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(t,e){return decodeURIComponent(e)}).replace(/\{cke_protected_(\d+)\}/g,function(t,e){return n&&n[e]||""})}function v(t,o){var i=[],e=o.config.protectedSource,n=o._.dataStore||(o._.dataStore={id:1}),r=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;e=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(e);t=t.replace(/\x3c!--[\s\S]*?--\x3e/g,function(t){return"<!--{cke_tempcomment}"+(i.push(t)-1)+"-->"});for(var a=0;a<e.length;a++)t=t.replace(e[a],function(t){return t=t.replace(r,function(t,e,n){return i[n]}),/cke_temp(comment)?/.test(t)?t:"<!--{cke_temp}"+(i.push(t)-1)+"-->"});return(t=(t=t.replace(r,function(t,e,n){return"<!--"+y+(e?"{C}":"")+encodeURIComponent(i[n]).replace(/--/g,"%2D%2D")+"-->"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(t){return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(t,e){return n[n.id]=decodeURIComponent(e),"{cke_protected_"+n.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(t,e,n,i){return"<"+e+n+">"+E(m(i),o)+"</"+e+">"})}CKEDITOR.htmlDataProcessor=function(o){var t,e,i=this;this.editor=o,this.dataFilter=t=new CKEDITOR.htmlParser.filter,this.htmlFilter=e=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,t.addRules(D),t.addRules(I,{applyToAll:!0}),t.addRules(n(o,"data"),{applyToAll:!0}),e.addRules(O),e.addRules(R,{applyToAll:!0}),e.addRules(n(o,"html"),{applyToAll:!0}),o.on("toHtml",function(t){var e,n,i=(i=(i=(i=(i=s(i=a(i=s(i=v(i=(i=(t=t.data).dataValue).replace(A,""),o),x)),K)).replace(N,"$1cke:$2")).replace(P,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2");e=t.context||o.editable().getName(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&"pre"==e&&(e="div",i="<pre>"+i+"</pre>",n=1),(e=o.document.createElement(e)).setHtml("a"+i),i=(i=e.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),n&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=m(i=l(i=i.replace(L,"$1$2"))),e=!1!==t.fixForBody&&r(t.enterMode,o.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,t.context,e),e&&(!(n=i).children.length&&CKEDITOR.dtd[n.name][e]&&(e=new CKEDITOR.htmlParser.element(e),n.add(e))),t.dataValue=i},null,null,5),o.on("toHtml",function(t){t.data.filter.applyTo(t.data.dataValue,!0,t.data.dontFilter,t.data.enterMode)&&o.fire("dataFiltered")},null,null,6),o.on("toHtml",function(t){t.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),o.on("toHtml",function(t){var e=(t=t.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;e.writeChildrenHtml(n),e=n.getHtml(!0),t.dataValue=c(e)},null,null,15),o.on("toDataFormat",function(t){var e=t.data.dataValue;t.data.enterMode!=CKEDITOR.ENTER_BR&&(e=e.replace(/^<br *\/?>/i,"")),t.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(e,t.data.context,r(t.data.enterMode,o.config.autoParagraph))},null,null,5),o.on("toDataFormat",function(t){t.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),o.on("toDataFormat",function(t){t.data.filter.applyTo(t.data.dataValue,!1,!0)},null,null,11),o.on("toDataFormat",function(t){var e=t.data.dataValue,n=i.writer;n.reset(),e.writeChildrenHtml(n),e=E(e=m(e=n.getHtml(!0)),o),t.data.dataValue=e},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(t,e,n,i){var o,r,a,s,l=this.editor;return e&&"object"==typeof e?(o=e.context,n=e.fixForBody,i=e.dontFilter,r=e.filter,a=e.enterMode,s=e.protectedWhitespaces):o=e,o||null===o||(o=l.editable().getName()),l.fire("toHtml",{dataValue:t,context:o,fixForBody:n,dontFilter:i,filter:r||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(t,e){var n,i,o;return e&&(n=e.context,i=e.filter,o=e.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:t,filter:i||this.editor.filter,context:n,enterMode:o||this.editor.enterMode}).dataValue}};var T=/(?:&nbsp;|\xa0)$/,y="{cke_protected}",b=CKEDITOR.dtd,o="caption colgroup col thead tfoot tbody".split(" "),C=CKEDITOR.tools.extend({},b.$blockLimit,b.$block),D={elements:{input:t,textarea:t}},I={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(t){if(t.attributes&&t.attributes.src){var e=t.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==e.indexOf("javascript")&&0!==e.indexOf("data")||(t.attributes["data-cke-pa-src"]=t.attributes.src,delete t.attributes.src)}}}},O={elements:{embed:function(t){if((n=t.parent)&&"object"==n.name){var e=n.attributes.width,n=n.attributes.height;e&&(t.attributes.width=e),n&&(t.attributes.height=n)}},a:function(t){var e=t.attributes;if(!(t.children.length||e.name||e.id||t.attributes["data-cke-saved-name"]))return!1}}},R={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(t){var e=t.attributes;if(e){if(e["data-cke-temp"])return!1;for(var n=["name","href","src"],i=0;i<n.length;i++)"data-cke-saved-"+n[i]in e&&delete e[n[i]]}return t},table:function(t){t.children.slice(0).sort(function(t,e){var n,i;return t.type==CKEDITOR.NODE_ELEMENT&&e.type==t.type&&(n=CKEDITOR.tools.indexOf(o,t.name),i=CKEDITOR.tools.indexOf(o,e.name)),-1<n&&-1<i&&n!=i||(n=t.parent?t.getIndex():-1,i=e.parent?e.getIndex():-1),i<n?1:-1})},param:function(t){return t.children=[],t.isEmpty=!0,t},span:function(t){"Apple-style-span"==t.attributes["class"]&&delete t.name},html:function(t){delete t.attributes.contenteditable,delete t.attributes["class"]},body:function(t){delete t.attributes.spellcheck,delete t.attributes.contenteditable},style:function(t){var e=t.children[0];e&&e.value&&(e.value=CKEDITOR.tools.trim(e.value)),t.attributes.type||(t.attributes.type="text/css")},title:function(t){var e=t.children[0];!e&&p(t,e=new CKEDITOR.htmlParser.text),e.value=t.attributes["data-cke-title"]||""},input:e,textarea:e},attributes:{"class":function(t){return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(R.attributes.style=function(t){return t.replace(/(^|;)([^\:]+)/g,function(t){return t.toLowerCase()})});var k=/<(a|area|img|input|source)\b([^>]*)>/gi,_=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,w=/^(href|src|name)$/i,K=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,x=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,S=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,A=new RegExp("("+i("<cke:encoded>")+"(.*?)"+i("</cke:encoded>")+")|("+i("<")+i("/")+"?"+i("cke:encoded>")+")","gi"),N=/(<\/?)((?:object|embed|param|html|body|head|title)([\s][^>]*)?>)/gi,L=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,P=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(t,e){this.name=t,this.attributes=e||{},this.children=[];var n=t||"",i=n.match(/^cke:(.*)/);i&&(n=i[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[t],this.isUnknown=!CKEDITOR.dtd[t],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(t){var i={};return((t instanceof CKEDITOR.htmlParser.element?t.attributes.style:t)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(t,e,n){"font-family"==e&&(n=n.replace(/["']/g,"")),i[e.toLowerCase()]=n}),{rules:i,populate:function(t){var e=this.toString();e&&(t instanceof CKEDITOR.dom.element?t.setAttribute("style",e):t instanceof CKEDITOR.htmlParser.element?t.attributes.style=e:t.style=e)},toString:function(){var t,e=[];for(t in i)i[t]&&e.push(t,":",i[t],";");return e.join("")}}},function(){function i(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}var s=function(t,e){return(t=t[0])<(e=e[0])?-1:e<t?1:0},t=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(t,e){var n,i,o,r,a=this;for(e=a.getFilterContext(e),a.parent||t.onRoot(e,a);;){if(n=a.name,!(i=t.onElementName(e,n)))return this.remove(),!1;if(a.name=i,!(a=t.onElement(e,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(o in n=a.attributes){for(i=n[o];;){if(!(r=t.onAttributeName(e,o))){delete n[o];break}if(r==o)break;delete n[o],o=r}r&&(!1===(i=t.onAttribute(e,a,r,i))?delete n[r]:n[r]=i)}return a.isEmpty||this.filterChildren(t,!1,e),!0},filterChildren:t.filterChildren,writeHtml:function(t,e){e&&this.filter(e);var n,i,o=this.name,r=[],a=this.attributes;for(n in t.openTag(o,a),a)r.push([n,a[n]]);for(t.sortAttributes&&r.sort(s),n=0,i=r.length;n<i;n++)a=r[n],t.attribute(a[0],a[1]);t.openTagClose(o,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(o)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var t=this.children,e=t.length;e;)t[--e].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(t){if(!t)return this.children.length?this.children[0]:null;"function"!=typeof t&&(t=i(t));for(var e=0,n=this.children.length;e<n;++e)if(t(this.children[e]))return this.children[e];return null},getHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(t),t.getHtml()},setHtml:function(t){for(var e=0,n=(t=this.children=CKEDITOR.htmlParser.fragment.fromHtml(t).children).length;e<n;++e)t[e].parent=this},getOuterHtml:function(){var t=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(t),t.getHtml()},split:function(t){for(var e=this.children.splice(t,this.children.length-t),n=this.clone(),i=0;i<e.length;++i)e[i].parent=n;return(n.children=e)[0]&&(e[0].previous=null),0<t&&(this.children[t-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(t,e){void 0===e&&(e=!1);var n,i=[];for(n=0;n<this.children.length;n++){var o=this.children[n];"function"==typeof t&&t(o)?i.push(o):"string"==typeof t&&o.name===t&&i.push(o),e&&o.find&&(i=i.concat(o.find(t,e)))}return i},addClass:function(t){if(!this.hasClass(t)){var e=this.attributes["class"]||"";this.attributes["class"]=e+(e?" ":"")+t}},removeClass:function(t){var e=this.attributes["class"];e&&((e=CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)"+t+"(?:\\s+|$)")," ")))?this.attributes["class"]=e:delete this.attributes["class"])},hasClass:function(t){var e=this.attributes["class"];return!!e&&new RegExp("(?:^|\\s)"+t+"(?=\\s|$)").test(e)},getFilterContext:function(t){var e=[];if(t||(t={nonEditable:!1,nestedEditable:!1}),t.nonEditable||"false"!=this.attributes.contenteditable?t.nonEditable&&!t.nestedEditable&&"true"==this.attributes.contenteditable&&e.push("nestedEditable",!0):e.push("nonEditable",!0),e.length){t=CKEDITOR.tools.copy(t);for(var n=0;n<e.length;n+=2)t[e[n]]=e[n+1]}return t}},!0)}(),T=/{([^}]+)}/g,CKEDITOR.template=function(t){this.source=String(t)},CKEDITOR.template.prototype.output=function(n,t){var e=this.source.replace(T,function(t,e){return void 0!==n[e]?n[e]:t});return t?t.push(e):e},delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(t){(CKEDITOR.instances[t.name]=t).on("focus",function(){CKEDITOR.currentInstance!=t&&(CKEDITOR.currentInstance=t,CKEDITOR.fire("currentInstance"))}),t.on("blur",function(){CKEDITOR.currentInstance==t&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,t)},CKEDITOR.remove=function(t){delete CKEDITOR.instances[t.name]},y={},CKEDITOR.addTemplate=function(t,e){var n=y[t];return n||(n={name:t,source:e},CKEDITOR.fire("template",n),y[t]=new CKEDITOR.template(n.source))},CKEDITOR.getTemplate=function(t){return y[t]},b=[],CKEDITOR.addCss=function(t){b.push(t)},CKEDITOR.getCss=function(){return b.join("\n")},CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(t,e){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(e,t,CKEDITOR.ELEMENT_MODE_INLINE),i=t.is("textarea")?t:null;return i?(n.setData(i.getValue(),null,!0),(t=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+i.getValue()+"</div>",CKEDITOR.document)).insertAfter(i),i.hide(),i.$.form&&n._attachToForm()):n.setData(t.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(t),n.container=t,n.ui.contentsElement=t,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){i&&(n.container.clearCustomData(),n.container.remove(),i.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var t,e,n;for(n in CKEDITOR.dtd.$editable)for(var i=CKEDITOR.document.getElementsByTag(n),o=0,r=i.count();o<r;o++)"true"==(t=i.getItem(o)).getAttribute("contenteditable")&&(!(e={element:t,config:{}})!==CKEDITOR.fire("inline",e)&&CKEDITOR.inline(t,e.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function i(t,e,n,i){if(!CKEDITOR.env.isCompatible)return null;if((t=CKEDITOR.dom.element.get(t)).getEditor())throw'The editor instance "'+t.getEditor().name+'" is already attached to the provided element.';var o=new CKEDITOR.editor(e,t,i);return i==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.setStyle("visibility","hidden"),o._.required=t.hasAttribute("required"),t.removeAttribute("required")),n&&o.setData(n,null,!0),o.on("loaded",function(){a(o),i==CKEDITOR.ELEMENT_MODE_REPLACE&&o.config.autoUpdateElement&&t.$.form&&o._attachToForm(),o.setMode(o.config.startupMode,function(){o.resetDirty(),o.status="ready",o.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,o)})}),o.on("destroy",r),o}function r(){var t=this.container,e=this.element;t&&(t.clearCustomData(),t.remove()),e&&(e.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.show(),this._.required&&e.setAttribute("required","required")),delete this.element)}function a(t){var e=t.name,n=t.element,i=t.elementMode,o=t.fire("uiSpace",{space:"top",html:""}).html,r=t.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(t.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(t.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');e=CKEDITOR.dom.element.createFromHtml(a.output({id:t.id,name:e,langDir:t.lang.dir,langCode:t.langCode,voiceLabel:t.title,topHtml:o?'<span id="'+t.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+o+"</span>":"",contentId:t.ui.spaceId("contents"),bottomHtml:r?'<span id="'+t.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+r+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"}));i==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),e.insertAfter(n)):n.append(e),t.container=e,t.ui.contentsElement=t.ui.space("contents"),o&&t.ui.space("top").unselectable(),r&&t.ui.space("bottom").unselectable(),n=t.config.width,i=t.config.height,n&&e.setStyle("width",CKEDITOR.tools.cssLength(n)),i&&t.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(i)),e.disableContextMenu(),CKEDITOR.env.webkit&&e.on("focus",function(){t.focus()}),t.fireOnce("uiReady")}CKEDITOR.replace=function(t,e){return i(t,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,e,n){return i(t,e,n,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(t){for(var e=document.getElementsByTagName("textarea"),n=0;n<e.length;n++){var i=null,o=e[n];if(o.name||o.id){if("string"==typeof t){if(!new RegExp("(?:^|\\s)"+t+"(?:$|\\s)").test(o.className))continue}else if("function"==typeof t&&!(i={})===t(o,i))continue;this.replace(o,i)}}},CKEDITOR.editor.prototype.addMode=function(t,e){(this._.modes||(this._.modes={}))[t]=e},CKEDITOR.editor.prototype.setMode=function(t,e){var n=this,i=this._.modes;if(t!=n.mode&&i&&i[t]){if(n.fire("beforeSetMode",t),n.mode){var o,r=n.checkDirty(),a=(i=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=o=n.getData(1),"source"==n.mode&&i==o&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[t](function(){n.mode=t,void 0!==r&&!r&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==t&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),e&&e.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(t,e,n,i){var o=this.container,r=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(i=i?this.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}):o).setSize("width",t,!0),a&&(a.style.width="1%");var s=(i.$.offsetHeight||0)-(r.$.clientHeight||0);o=Math.max(e-(n?0:s),0);e=n?e+s:e,r.setStyle("height",o+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:e,contentsHeight:o,outerWidth:t||i.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(t){return t?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function i(t){var e,n=t.editor,i=t.data.path,o=i.blockLimit,r=t.data.selection,a=r.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(r=s(r,i))&&(r.appendBogus(),e=CKEDITOR.env.ie),F(n,i.block,o)&&a.collapsed&&!a.getCommonAncestor().isReadOnly()&&((i=a.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(o=new CKEDITOR.dom.walker(i)).guard=function(t){return!P(t)||t.type==CKEDITOR.NODE_COMMENT||t.isReadOnly()},!o.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(n=a.fixBlock(!0,n.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(n=n.getFirst(P))&&n.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/)&&n.remove(),e=1,t.cancel()),e&&a.select()}function s(t,e){if(t.isFake)return 0;var n=e.block||e.blockLimit,i=n&&n.getLast(P);return!n||!n.isBlockBoundary()||i&&i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()||n.is("pre")||n.getBogus()?void 0:n}function r(t){var e=t.data.getTarget();e.is("input")&&("submit"!=(e=e.getAttribute("type"))&&"reset"!=e||t.data.preventDefault())}function P(t){return h(t)&&c(t)}function o(n,i){return function(t){var e=t.data.$.toElement||t.data.$.fromElement||t.data.$.relatedTarget;(e=e&&e.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(e):null)&&(i.equals(e)||i.contains(e))||n.call(this,t)}}function d(t){function e(n){return function(t,e){if(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(o)&&(i=t),!(e||!P(t)||n&&f(t)))return!1}}var i,n=t.getRanges()[0];t=t.root;var o={table:1,ul:1,ol:1,dl:1};if(n.startPath().contains(o)){var r=n.clone();if(r.collapse(1),r.setStartAt(t,CKEDITOR.POSITION_AFTER_START),(t=new CKEDITOR.dom.walker(r)).guard=e(),t.checkBackward(),i)return(r=n.clone()).collapse(),r.setEndAt(i,CKEDITOR.POSITION_AFTER_END),(t=new CKEDITOR.dom.walker(r)).guard=e(!0),i=!1,t.checkForward(),i}return null}function F(t,e,n){return!1!==t.config.autoParagraph&&t.activeEnterMode!=CKEDITOR.ENTER_BR&&(t.editable().equals(n)&&!e||e&&"true"==e.getAttribute("contenteditable"))}function B(t){return t.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==t.config.autoParagraph&&(t.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function a(t){var e=t.editor;e.getSelection().scrollIntoView(),setTimeout(function(){e.fire("saveSnapshot")},0)}function l(t,e,n){var i=t.getCommonAncestor(e);for(e=t=n?e:t;(t=t.getParent())&&!i.equals(t)&&1==t.getChildCount();)e=t;e.remove()}var h,c,u,f,p,g,m,E,e,v;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(t,e){this.base(e.$||e),this.editor=t,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var t;if(CKEDITOR.env.webkit&&!this.hasFocus&&(t=this.editor._.previousActive||this.getDocument().getActive(),this.contains(t)))t.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var e=this.$.scrollTop;this.$.focus(),this.$.scrollTop=e}else this.$.focus();else this.$.setActive()}catch(P){if(!CKEDITOR.env.ie)throw P}CKEDITOR.env.safari&&!this.isInline()&&((t=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(t,e){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(t)&&(t="focus"==t?"focusin":"focusout",e=o(e,this),n[0]=t,n[1]=e),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(t){!this._.listeners&&(this._.listeners=[]);var e=Array.prototype.slice.call(arguments,1);e=t.on.apply(t,e);return this._.listeners.push(e),e},clearListeners:function(){var t=this._.listeners;try{for(;t.length;)t.pop().removeListener()}catch(r){}},restoreAttrs:function(){var t,e,n=this._.attrChanges;for(e in n)n.hasOwnProperty(e)&&(null!==(t=n[e])?this.setAttribute(e,t):this.removeAttribute(e))},attachClass:function(t){var e=this.getCustomData("classes");this.hasClass(t)||(!e&&(e=[]),e.push(t),this.setCustomData("classes",e),this.addClass(t))},changeAttr:function(t,e){var n=this.getAttribute(t);e!==n&&(!this._.attrChanges&&(this._.attrChanges={}),t in this._.attrChanges||(this._.attrChanges[t]=n),this.setAttribute(t,e))},insertText:function(t){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(t),"text")},transformPlainTextToHtml:function(t){var e=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(t,e)},insertHtml:function(t,e,n){var i=this.editor;i.focus(),i.fire("saveSnapshot"),n||(n=i.getSelection().getRanges()[0]),g(this,e||"html",t,n),n.select(),a(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(t,e,n){g(this,n||"html",t,e),this.editor.fire("afterInsertHtml",{intoRange:e})},insertElement:function(t,e){(i=this.editor).focus(),i.fire("saveSnapshot");var n=i.activeEnterMode,i=i.getSelection(),o=t.getName();o=CKEDITOR.dtd.$block[o];e||(e=i.getRanges()[0]),this.insertElementIntoRange(t,e)&&(e.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),o&&((o=t.getNext(function(t){return P(t)&&!f(t)}))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$block)?o.getDtd()["#"]?e.moveToElementEditStart(o):e.moveToElementEditEnd(t):o||n==CKEDITOR.ENTER_BR||(o=e.fixBlock(!0,n==CKEDITOR.ENTER_DIV?"div":"p"),e.moveToElementEditStart(o)))),i.selectRanges([e]),a(this)},insertElementIntoSelection:function(t){this.insertElement(t)},insertElementIntoRange:function(t,e){var n,i,o=this.editor,r=o.config.enterMode,a=t.getName(),s=CKEDITOR.dtd.$block[a];if(e.checkReadOnly())return!1;if(e.deleteContents(1),e.startContainer.type==CKEDITOR.NODE_ELEMENT&&(e.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?m(e):e.startContainer.is(CKEDITOR.dtd.$list)&&E(e)),s)for(;(n=e.getCommonAncestor(0,1))&&(i=CKEDITOR.dtd[n.getName()])&&(!i||!i[a]);)n.getName()in CKEDITOR.dtd.span?e.splitElement(n):e.checkStartOfBlock()&&e.checkEndOfBlock()?(e.setStartBefore(n),e.collapse(!0),n.remove()):e.splitBlock(r==CKEDITOR.ENTER_DIV?"div":"p",o.editable());return e.insertNode(t),!0},setData:function(t,e){e||(t=this.editor.dataProcessor.toHtml(t)),this.setHtml(t),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(t){var e=this.getHtml();return t||(e=this.editor.dataProcessor.toDataFormat(e)),e},setReadOnly:function(t){this.setAttribute("contenteditable",!t)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var t=this.editor;this._.detach(),delete t.document,delete t.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function t(){var t,e=i.getDocument().$,n=e.getSelection();t:if(n.anchorNode&&n.anchorNode==i.$)t=!0;else{if(CKEDITOR.env.webkit&&(t=i.getDocument().getActive())&&t.equals(i)&&!n.anchorNode){t=!0;break t}t=void 0}t&&((t=new CKEDITOR.dom.range(i)).moveToElementEditStart(i),(e=e.createRange()).setStart(t.startContainer.$,t.startOffset),e.collapse(!0),n.removeAllRanges(),n.addRange(e))}function e(){var t=i.getDocument().$,e=t.selection,n=i.getDocument().getActive();"None"==e.type&&n.equals(i)&&(e=new CKEDITOR.dom.range(i),t=t.body.createTextRange(),e.moveToElementEditStart(i),(e=e.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),t.moveToElementText(e.$),t.collapse(!0),t.select())}var i=this;CKEDITOR.env.ie&&(CKEDITOR.env.version<9||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),e()):this.hasFocus?(this.focus(),t()):this.once("focus",function(){t()},null,null,-999)},getHtmlFromRange:function(t){return t.collapsed?new CKEDITOR.dom.documentFragment(t.document):(t={doc:this.getDocument(),range:t.clone()},e.eol.detect(t,this),e.bogus.exclude(t),e.cell.shrink(t),t.fragment=t.range.cloneContents(),e.tree.rebuild(t,this),e.eol.fix(t,this),new CKEDITOR.dom.documentFragment(t.fragment.$))},extractHtmlFromRange:function(t,e){var n=v,i={range:t,doc:t.document},o=this.getHtmlFromRange(t);if(t.collapsed)return t.optimize(),o;if(t.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(i),i.bookmark=t.createBookmark(),delete i.range,(a=this.editor.createRange()).moveToPosition(i.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),i.targetBookmark=a.createBookmark(),n.list.detectMerge(i,this),n.table.detectRanges(i,this),n.block.detectMerge(i,this),i.tableContentsRanges?(n.table.deleteRanges(i),t.moveToBookmark(i.bookmark),i.range=t):(t.moveToBookmark(i.bookmark),(i.range=t).extractContents(n.detectExtractMerge(i))),t.moveToBookmark(i.targetBookmark),t.optimize(),n.fixUneditableRangePosition(t),n.list.merge(i,this),n.table.purge(i,this),n.block.merge(i,this),e){if(n=t.startPath(),i=t.checkStartOfBlock()&&t.checkEndOfBlock()&&n.block&&!t.root.equals(n.block)){t:{var r,a=0;if(i=n.block.getElementsByTag("span"))for(;r=i.getItem(a++);)if(!c(r)){i=!0;break t}i=!1}i=!i}i&&(t.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,t),u(t.startContainer)&&t.startContainer.appendBogus();return t.startContainer.mergeSiblings(),o},setup:function(){var c=this.editor;if(this.attachListener(c,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==c.config.ignoreEmptyParagraph&&(t=t.replace(p,function(t,e){return e})),c.setData(t,null,1)},this),this.attachListener(c,"getSnapshot",function(t){t.data=this.getData(1)},this),this.attachListener(c,"afterSetData",function(){this.setData(c.getData(1))},this),this.attachListener(c,"loadSnapshot",function(t){this.setData(t.data,1)},this),this.attachListener(c,"beforeFocus",function(){var t=c.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(c,"insertHtml",function(t){this.insertHtml(t.data.dataValue,t.data.mode,t.data.range)},this),this.attachListener(c,"insertElement",function(t){this.insertElement(t.data)},this),this.attachListener(c,"insertText",function(t){this.insertText(t.data)},this),this.setReadOnly(c.readOnly),this.attachClass("cke_editable"),c.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):c.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&c.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+c.config.contentsLangDirection),c.keystrokeHandler.blockedKeystrokes[8]=+c.readOnly,c.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){c._.previousScrollTop=c.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var e=function(){var t=c.editable();null!=c._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=c._.previousScrollTop,c._.previousScrollTop=null,this.removeListener("scroll",e))};this.on("scroll",e)}if(c.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,
c.once("contentDom",function(){c.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",c.tabIndex),!this.is("textarea")){c.document=this.getDocument(),c.window=this.getWindow();var t=c.document;this.changeAttr("spellcheck",!c.config.disableNativeSpellChecker);var n=c.config.contentsLangDirection;this.getDirection(1)!=n&&this.changeAttr("dir",n);var i=CKEDITOR.getCss();if(i){var o=(n=t.getHead()).getCustomData("stylesheet");o?i!=o.getText()&&(CKEDITOR.env.ie&&CKEDITOR.env.version<9?o.$.styleSheet.cssText=i:o.setText(i)):(i=t.appendStyleText(i),i=new CKEDITOR.dom.element(i.ownerNode||i.owningElement),n.setCustomData("stylesheet",i),i.data("cke-temp",1))}n=t.getCustomData("stylesheet_ref")||0,t.setCustomData("stylesheet_ref",n+1),this.setCustomData("cke_includeReadonly",!c.config.disableReadonlyStyling),this.attachListener(this,"click",function(t){t=t.data;var e=new CKEDITOR.dom.elementPath(t.getTarget(),this).contains("a");e&&2!=t.$.button&&e.isReadOnly()&&t.preventDefault()});var u={8:1,46:1};this.attachListener(c,"key",function(t){if(c.readOnly)return!0;var e,n=t.data.domEvent.getKey();if(0!==(t=c.getSelection()).getRanges().length){if(n in u){var i,o,r,a,s=t.getRanges()[0],l=s.startPath();n=8==n;CKEDITOR.env.ie&&CKEDITOR.env.version<11&&(i=t.getSelectedElement())||(i=d(t))?(c.fire("saveSnapshot"),s.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),s.select(),c.fire("saveSnapshot"),e=1):s.collapsed&&((o=l.block)&&(a=o[n?"getPrevious":"getNext"](h))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("table")&&s[n?"checkStartOfBlock":"checkEndOfBlock"]()?(c.fire("saveSnapshot"),s[n?"checkEndOfBlock":"checkStartOfBlock"]()&&o.remove(),s["moveToElementEdit"+(n?"End":"Start")](a),s.select(),c.fire("saveSnapshot"),e=1):l.blockLimit&&l.blockLimit.is("td")&&(r=l.blockLimit.getAscendant("table"))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(a=r[n?"getPrevious":"getNext"](h))?(c.fire("saveSnapshot"),s["moveToElementEdit"+(n?"End":"Start")](a),s.checkStartOfBlock()&&s.checkEndOfBlock()?a.remove():s.select(),c.fire("saveSnapshot"),e=1):(r=l.contains(["td","th","caption"]))&&s.checkBoundaryOfElement(r,n?CKEDITOR.START:CKEDITOR.END)&&(e=1))}return!e}}),c.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in u&&!this.getFirst(P)&&(this.appendBogus(),(t=c.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){if(c.readOnly)return!1;t={element:t.data.getTarget()},c.fire("doubleclick",t)}),CKEDITOR.env.ie&&this.attachListener(this,"click",r),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var e=t.data.getTarget();e.is("img","hr","input","textarea","select")&&!e.isReadOnly()&&(c.getSelection().selectElement(e),e.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&!t.isReadOnly()&&c.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&(!(t=t.data.getTarget()).getAscendant("table")&&!t.getOuterHtml().replace(p,""))){var e=c.createRange();e.moveToElementEditStart(t),e.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(t){t.data.getTarget().is("input","select")&&t.data.preventDefault()}),this.attachListener(this,"mouseup",function(t){t.data.getTarget().is("input","textarea")&&t.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(c,"key",function(t){if(c.readOnly)return!0;if((e=t.data.domEvent.getKey())in u&&0!==(t=c.getSelection()).getRanges().length){var e=8==e,n=t.getRanges()[0];if(t=n.startPath(),n.collapsed)t:{var i=t.block;if(i&&n[e?"checkStartOfBlock":"checkEndOfBlock"]()&&n.moveToClosestEditablePosition(i,!e)&&n.collapsed){if(n.startContainer.type==CKEDITOR.NODE_ELEMENT){var o=n.startContainer.getChild(n.startOffset-(e?1:0));if(o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("hr")){c.fire("saveSnapshot"),o.remove(),t=!0;break t}}var r;if(!(n=n.startPath().block)||n&&n.contains(i))t=void 0;else c.fire("saveSnapshot"),(r=(e?n:i).getBogus())&&r.remove(),o=(r=c.getSelection()).createBookmarks(),(e?i:n).moveChildren(e?n:i,!1),t.lastElement.mergeSiblings(),l(i,n,!e),r.selectBookmarks(o),t=!0}else t=!1}else e=n,r=t.block,n=e.endPath().block,r&&n&&!r.equals(n)?(c.fire("saveSnapshot"),(i=r.getBogus())&&i.remove(),e.enlarge(CKEDITOR.ENLARGE_INLINE),e.deleteContents(),n.getParent()&&(n.moveChildren(r,!1),t.lastElement.mergeSiblings(),l(r,n,!0)),(e=c.getSelection().getRanges()[0]).collapse(1),e.optimize(),""===e.startContainer.getHtml()&&e.startContainer.appendBogus(),e.select(),t=!0):t=!1;if(!t)return;return c.getSelection().scrollIntoView(),c.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var t;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),t=this.removeCustomData("classes"))for(;t.length;)this.removeClass(t.pop());if(!this.is("textarea")){var e=(t=this.getDocument()).getHead();if(e.getCustomData("stylesheet")){var n=t.getCustomData("stylesheet_ref");--n?t.setCustomData("stylesheet_ref",n):(t.removeCustomData("stylesheet_ref"),e.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(t){var e=this._.editable;return e&&t?0:(arguments.length&&(e=this._.editable=t?t instanceof CKEDITOR.editable?t:new CKEDITOR.editable(this,t):(e&&e.detach(),null)),e)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(t){(t=t.data).type==CKEDITOR.NODE_ELEMENT&&(t.is("input")||t.is("textarea"))&&("false"!=t.getAttribute("contentEditable")&&t.data("cke-editable",t.hasAttribute("contenteditable")?"true":"1"),t.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var e=n.getSelection();e&&!e.isLocked&&(e=n.checkDirty(),n.fire("lockSnapshot"),i(t),n.fire("unlockSnapshot"),!e&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(t){var o=t.editor;o.on("mode",function(){var t=o.editable();if(t&&t.isInline()){var e=o.title;if(t.changeAttr("role","textbox"),t.changeAttr("aria-multiline","true"),t.changeAttr("aria-label",e),e&&t.changeAttr("title",e),(i=o.fire("ariaEditorHelpLabel",{}).label)&&(e=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var n=CKEDITOR.tools.getNextId(),i=CKEDITOR.dom.element.createFromHtml('<span id="'+n+'" class="cke_voice_label">'+i+"</span>");e.append(i),t.changeAttr("aria-describedby",n)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),h=CKEDITOR.dom.walker.whitespaces(!0),c=CKEDITOR.dom.walker.bookmark(!1,!0),u=CKEDITOR.dom.walker.empty(),f=CKEDITOR.dom.walker.bogus(),p=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,g=function(){function R(t){return t.type==CKEDITOR.NODE_ELEMENT}function k(t,e){var n,i,o,r,a=[],s=e.range.startContainer;n=e.range.startPath();s=A[s.getName()];for(var l=0,c=t.getChildren(),u=c.count(),d=-1,h=-1,f=0,p=n.contains(A.$list);l<u;++l)R(n=c.getItem(l))?(o=n.getName(),p&&o in CKEDITOR.dtd.$list?a=a.concat(k(n,e)):(r=!!s[o],"br"!=o||!n.data("cke-eol")||l&&l!=u-1||(f=(i=l?a[l-1].node:c.getItem(l+1))&&(!R(i)||!i.is("br")),i=i&&R(i)&&A.$block[i.getName()]),-1!=d||r||(d=l),r||(h=l),a.push({isElement:1,isLineBreak:f,isBlock:n.isBlockBoundary(),hasBlockSibling:i,node:n,name:o,allowed:r}),i=f=0)):a.push({isElement:0,node:n,allowed:1});return-1<d&&(a[d].firstNotAllowed=1),-1<h&&(a[h].lastNotAllowed=1),a}function _(t,e){var n,i=[],o=t.getChildren(),r=o.count(),a=0,s=A[e],l=!t.is(A.$inline)||t.is("br");for(l&&i.push(" ");a<r;a++)R(n=o.getItem(a))&&!n.is(s)?i=i.concat(_(n,e)):i.push(n);return l&&i.push(" "),i}function w(t){return R(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function K(t){return t&&R(t)&&(t.is(A.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function x(t,e,n,i){var o,r,a=t.clone();a.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(a).next())&&R(o)&&s[o.getName()]&&(r=o.getPrevious())&&R(r)&&!r.getParent().equals(t.startContainer)&&n.contains(r)&&i.contains(o)&&o.isIdentical(r)&&(o.moveChildren(r),o.remove(),x(t,e,n,i))}function S(t,e){function n(t,e){if(e.isBlock&&e.isElement&&!e.node.is("br")&&R(t)&&t.is("br"))return t.remove(),1}var i=e.endContainer.getChild(e.endOffset),o=e.endContainer.getChild(e.endOffset-1);i&&n(i,t[t.length-1]),o&&n(o,t[0])&&(e.setEnd(e.endContainer,e.endOffset-1),e.collapse())}var A=CKEDITOR.dtd,s={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},N={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},L=CKEDITOR.tools.extend({},A.$inline);return delete L.br,function(t,e,n,i){var o=t.editor,r=!1;if("unfiltered_html"==e&&(e="html",r=!0),!i.checkReadOnly()){var a,s,l;if(e=(t={type:e,dontFilter:r,editable:t,editor:o,range:i,blockLimit:T=new CKEDITOR.dom.elementPath(i.startContainer,i.root).blockLimit||i.root,mergeCandidates:[],zombies:[]}).range,i=t.mergeCandidates,"text"==t.type&&e.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(a=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",e.document),e.insertNode(a),e.setStartAfter(a)),r=new CKEDITOR.dom.elementPath(e.startContainer),t.endPath=T=new CKEDITOR.dom.elementPath(e.endContainer),!e.collapsed){o=T.block||T.blockLimit;var c=e.getCommonAncestor();o&&!o.equals(c)&&!o.contains(c)&&e.checkEndOfBlock()&&t.zombies.push(o),e.deleteContents()}for(;(s=w(e))&&R(s)&&s.isBlockBoundary()&&r.contains(s);)e.moveToPosition(s,CKEDITOR.POSITION_BEFORE_END);for(x(e,t.blockLimit,r,T),a&&(e.setEndBefore(a),e.collapse(),a.remove()),(o=(a=e.startPath()).contains(K,!1,1))&&(e.splitElement(o),t.inlineStylesRoot=o,t.inlineStylesPeak=a.lastElement),(o=(a=e.createBookmark()).startNode.getPrevious(P))&&R(o)&&K(o)&&i.push(o),(o=a.startNode.getNext(P))&&R(o)&&K(o)&&i.push(o),o=a.startNode;(o=o.getParent())&&K(o);)i.push(o);if(e.moveToBookmark(a),a=n){if(a=t.range,"text"==t.type&&t.inlineStylesRoot){for(e=(s=t.inlineStylesPeak).getDocument().createText("{cke-peak}"),i=t.inlineStylesRoot.getParent();!s.equals(i);)e=e.appendTo(s.clone()),s=s.getParent();n=e.getOuterHtml().split("{cke-peak}").join(n)}if(s=t.blockLimit.getName(),/^\s+|\s+$/.test(n)&&"span"in CKEDITOR.dtd[s])n=(E='<span data-cke-marker="1">&nbsp;</span>')+n+E;if(n=t.editor.dataProcessor.toHtml(n,{context:null,fixForBody:!1,protectedWhitespaces:!!E,dontFilter:t.dontFilter,filter:t.editor.activeFilter,enterMode:t.editor.activeEnterMode}),(s=a.document.createElement("body")).setHtml(n),E&&(s.getFirst().remove(),s.getLast().remove()),(E=a.startPath().block)&&(1!=E.getChildCount()||!E.getBogus()))t:{var u;if(1==s.getChildCount()&&R(u=s.getFirst())&&u.is(N)&&!u.hasAttribute("contenteditable")){for(a=0,i=(E=u.getElementsByTag("*")).count();a<i;a++)if(!(e=E.getItem(a)).is(L))break t;u.moveChildren(u.getParent(1)),u.remove()}}t.dataWrapper=s,a=n}if(a){var d;a=(u=t.range).document,s=t.blockLimit;var h,f,p,g,m,E=[];n=o=i=0,e=u.startContainer;var v,T=(r=t.endPath.elements[0]).getPosition(e);c=!(!r.getCommonAncestor(e)||T==CKEDITOR.POSITION_IDENTICAL||T&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);for(S(e=k(t.dataWrapper,t),u);i<e.length;i++){if(d=(T=e[i]).isLineBreak){d=u,g=s;var y=void 0,b=void 0;T.hasBlockSibling?d=1:(y=d.startContainer.getAscendant(A.$block,1))&&y.is({div:1,p:1})?(b=y.getPosition(g))==CKEDITOR.POSITION_IDENTICAL||b==CKEDITOR.POSITION_CONTAINS?d=0:(g=d.splitElement(y),d.moveToPosition(g,CKEDITOR.POSITION_AFTER_START),d=1):d=0}if(d)n=0<i;else{if(d=u.startPath(),!T.isBlock&&F(t.editor,d.block,d.blockLimit)&&(p=B(t.editor))&&((p=a.createElement(p)).appendBogus(),u.insertNode(p),CKEDITOR.env.needsBrFiller&&(h=p.getBogus())&&h.remove(),u.moveToPosition(p,CKEDITOR.POSITION_BEFORE_END)),(d=u.startPath().block)&&!d.equals(f)&&((h=d.getBogus())&&(h.remove(),E.push(d)),f=d),T.firstNotAllowed&&(o=1),o&&T.isElement){for(d=u.startContainer,g=null;d&&!A[d.getName()][T.name];){if(d.equals(s)){d=null;break}d=(g=d).getParent()}if(d)g&&(m=u.splitElement(g),t.zombies.push(m),t.zombies.push(g));else{g=s.getName(),v=!i,d=i==e.length-1;y=[],b=(g=_(T.node,g)).length;for(var C=0,D=void 0,I=0,O=-1;C<b;C++)" "==(D=g[C])?(I||v&&!C||(y.push(new CKEDITOR.dom.text(" ")),O=y.length),I=1):(y.push(D),I=0);d&&O==y.length&&y.pop(),v=y}}if(v){for(;d=v.pop();)u.insertNode(d);v=0}else u.insertNode(T.node);T.lastNotAllowed&&i<e.length-1&&((m=c?r:m)&&u.setEndAt(m,CKEDITOR.POSITION_AFTER_START),o=0),u.collapse()}}1!=e.length?h=!1:h=(h=e[0]).isElement&&"false"==h.node.getAttribute("contenteditable"),h&&(n=!0,d=e[0].node,u.setStartAt(d,CKEDITOR.POSITION_BEFORE_START),u.setEndAt(d,CKEDITOR.POSITION_AFTER_END)),t.dontMoveCaret=n,t.bogusNeededBlocks=E}for(h=t.range,m=t.bogusNeededBlocks,v=h.createBookmark();f=t.zombies.pop();)f.getParent()&&((p=h.clone()).moveToElementEditStart(f),p.removeEmptyBlocksAtEnd());if(m)for(;f=m.pop();)CKEDITOR.env.needsBrFiller?f.appendBogus():f.append(h.document.createText("\xa0"));for(;f=t.mergeCandidates.pop();)f.mergeSiblings();if(h.moveToBookmark(v),!t.dontMoveCaret){for(f=w(h);f&&R(f)&&!f.is(A.$empty);){if(f.isBlockBoundary())h.moveToPosition(f,CKEDITOR.POSITION_BEFORE_END);else{if(K(f)&&f.getHtml().match(/(\s|&nbsp;)$/g)){l=null;break}(l=h.clone()).moveToPosition(f,CKEDITOR.POSITION_BEFORE_END)}f=f.getLast(P)}l&&h.moveToRange(l)}}}}(),m=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$tableContent):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT},t}function r(t,e,n){return e=t.getDocument().createElement(e),t.append(e,n),e}function a(t){for(var e,n=t.count();0<n--;)e=t.getItem(n),CKEDITOR.tools.trim(e.getHtml())||(e.appendBogus(),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&e.getChildCount()&&e.getFirst().remove())}return function(t){var e=t.startContainer,n=e.getAscendant("table",1),i=!1;a(n.getElementsByTag("td")),a(n.getElementsByTag("th")),(n=t.clone()).setStart(e,0),(n=o(n).lastBackward())||((n=t.clone()).setEndAt(e,CKEDITOR.POSITION_BEFORE_END),n=o(n).lastForward(),i=!0),n||(n=e),n.is("table")?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):(n.is({tbody:1,thead:1,tfoot:1})&&(n=r(n,"tr",i)),n.is("tr")&&(n=r(n,n.getParent().is("thead")?"th":"td",i)),(e=n.getBogus())&&e.remove(),t.moveToPosition(n,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),E=function(){function o(t){return(t=new CKEDITOR.dom.walker(t)).guard=function(t,e){return!e&&(t.type==CKEDITOR.NODE_ELEMENT?t.is(CKEDITOR.dtd.$list)||t.is(CKEDITOR.dtd.$listItem):void 0)},t.evaluator=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is(CKEDITOR.dtd.$listItem)},t}return function(t){var e,n=t.startContainer,i=!1;(e=t.clone()).setStart(n,0),(e=o(e).lastBackward())||((e=t.clone()).setEndAt(n,CKEDITOR.POSITION_BEFORE_END),e=o(e).lastForward(),i=!0),e||(e=n),e.is(CKEDITOR.dtd.$list)?(t.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),e.remove()):((n=e.getBogus())&&n.remove(),t.moveToPosition(e,i?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),e={eol:{detect:function(t,e){var n=t.range,i=n.clone(),o=n.clone(),r=new CKEDITOR.dom.elementPath(n.startContainer,e),a=new CKEDITOR.dom.elementPath(n.endContainer,e);i.collapse(1),o.collapse(),r.block&&i.checkBoundaryOfElement(r.block,CKEDITOR.END)&&(n.setStartAfter(r.block),t.prependEolBr=1),a.block&&o.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),t.appendEolBr=1)},fix:function(t,e){var n,i=e.getDocument();t.appendEolBr&&(n=this.createEolBr(i),t.fragment.append(n)),!t.prependEolBr||n&&!n.getPrevious()||t.fragment.append(this.createEolBr(i),1)},createEolBr:function(t){return t.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(t){var e,n=(e=t.range.getBoundaryNodes()).startNode;!(e=e.endNode)||!f(e)||n&&n.equals(e)||t.range.setEndBefore(e)}},tree:{rebuild:function(t,e){var n,i=(a=t.range).getCommonAncestor(),o=new CKEDITOR.dom.elementPath(i,e),r=new CKEDITOR.dom.elementPath(a.startContainer,e),a=new CKEDITOR.dom.elementPath(a.endContainer,e);if(i.type==CKEDITOR.NODE_TEXT&&(i=i.getParent()),o.blockLimit.is({tr:1,table:1})){var s=o.contains("table").getParent();n=function(t){return!t.equals(s)}}else if(o.block&&o.block.is(CKEDITOR.dtd.$listItem)&&(r=r.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!r.equals(a))){var l=o.contains(CKEDITOR.dtd.$list).getParent();n=function(t){return!t.equals(l)}}n||(n=function(t){return!t.equals(o.block)&&!t.equals(o.blockLimit)}),this.rebuildFragment(t,e,i,n)},rebuildFragment:function(t,e,n,i){for(var o;n&&!n.equals(e)&&i(n);)o=n.clone(0,1),t.fragment.appendTo(o),t.fragment=o,n=n.getParent()}},cell:{shrink:function(t){var e=(t=t.range).startContainer,n=t.endContainer,i=t.startOffset,o=t.endOffset;e.type==CKEDITOR.NODE_ELEMENT&&e.equals(n)&&e.is("tr")&&++i==o&&t.shrink(CKEDITOR.SHRINK_TEXT)}}},v=function(){function o(t,e){var n=t.getParent();n.is(CKEDITOR.dtd.$inline)&&t[e?"insertBefore":"insertAfter"](n)}function l(t,e,n){o(e),o(n,1);for(var i;i=n.getNext();)i.insertAfter(e),e=i;u(t)&&t.remove()}function c(t,e){var n=new CKEDITOR.dom.range(t);return n.setStartAfter(e.startNode),n.setEndBefore(e.endNode),n}return{list:{detectMerge:function(t,e){var n=c(e,t.bookmark),i=n.startPath(),o=n.endPath(),r=i.contains(CKEDITOR.dtd.$list),a=o.contains(CKEDITOR.dtd.$list);t.mergeList=r&&a&&r.getParent().equals(a.getParent())&&!r.equals(a),t.mergeListItems=i.block&&o.block&&i.block.is(CKEDITOR.dtd.$listItem)&&o.block.is(CKEDITOR.dtd.$listItem),(t.mergeList||t.mergeListItems)&&((n=n.clone()).setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeListBookmark=n.createBookmark())},merge:function(t,e){if(t.mergeListBookmark){var n=t.mergeListBookmark.startNode,i=t.mergeListBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);if(t.mergeList){var a=o.contains(CKEDITOR.dtd.$list),s=r.contains(CKEDITOR.dtd.$list);a.equals(s)||(s.moveChildren(a),s.remove())}t.mergeListItems&&(o=o.contains(CKEDITOR.dtd.$listItem),r=r.contains(CKEDITOR.dtd.$listItem),o.equals(r)||l(r,n,i)),n.remove(),i.remove()}}},block:{detectMerge:function(t,e){if(!t.tableContentsRanges&&!t.mergeListBookmark){var n=new CKEDITOR.dom.range(e);n.setStartBefore(t.bookmark.startNode),n.setEndAfter(t.bookmark.endNode),t.mergeBlockBookmark=n.createBookmark()}},merge:function(t,e){if(t.mergeBlockBookmark&&!t.purgeTableBookmark){var n=t.mergeBlockBookmark.startNode,i=t.mergeBlockBookmark.endNode,o=new CKEDITOR.dom.elementPath(n,e),r=new CKEDITOR.dom.elementPath(i,e);o=o.block,r=r.block;o&&r&&!o.equals(r)&&l(r,n,i),n.remove(),i.remove()}}},table:function(){function s(r){var a,s=[],t=new CKEDITOR.dom.walker(r),l=r.startPath().contains(h),c=r.endPath().contains(h),u={};return t.guard=function(t,e){if(t.type==CKEDITOR.NODE_ELEMENT){var n="visited_"+(e?"out":"in");if(t.getCustomData(n))return;CKEDITOR.dom.element.setMarker(u,t,n,1)}if(e&&l&&t.equals(l))(a=r.clone()).setEndAt(l,CKEDITOR.POSITION_BEFORE_END),s.push(a);else if(!e&&c&&t.equals(c))(a=r.clone()).setStartAt(c,CKEDITOR.POSITION_AFTER_START),s.push(a);else{if((n=!e)&&(n=t.type==CKEDITOR.NODE_ELEMENT&&t.is(h)&&(!l||d(t,l))&&(!c||d(t,c))),!n&&(n=e))if(t.is(h)){n=l&&l.getAscendant("table",!0);var i=c&&c.getAscendant("table",!0),o=t.getAscendant("table",!0);n=n&&n.contains(o)||i&&i.contains(o)}else n=void 0;n&&((a=r.clone()).selectNodeContents(t),s.push(a))}},t.lastForward(),CKEDITOR.dom.element.clearAllMarkers(u),s}function d(t,e){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,i=t.getPosition(e);return i!==CKEDITOR.POSITION_IDENTICAL&&0==(i&n)}var h={td:1,th:1,caption:1};return{detectPurge:function(t){var e=t.range;(n=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=new CKEDITOR.dom.walker(n),i=0;if(n.evaluator=function(t){t.type==CKEDITOR.NODE_ELEMENT&&t.is(h)&&++i},n.checkForward(),1<i){n=e.startPath().contains("table");var o=e.endPath().contains("table");n&&o&&e.checkBoundaryOfElement(n,CKEDITOR.START)&&e.checkBoundaryOfElement(o,CKEDITOR.END)&&((e=t.range.clone()).setStartBefore(n),e.setEndAfter(o),t.purgeTableBookmark=e.createBookmark())}},detectRanges:function(t,e){var n,i,o=c(e,t.bookmark),r=o.clone(),a=o.getCommonAncestor();a.is(CKEDITOR.dtd.$tableContent)&&!a.is(h)&&(a=a.getAscendant("table",!0)),i=a,a=new CKEDITOR.dom.elementPath(o.startContainer,i),i=new CKEDITOR.dom.elementPath(o.endContainer,i),a=a.contains("table"),i=i.contains("table"),(a||i)&&(a&&i&&d(a,i)?((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),r.setEndAt(i,CKEDITOR.POSITION_BEFORE_START),(r=o.clone()).setEndAt(a,CKEDITOR.POSITION_AFTER_END),(n=o.clone()).setStartAt(i,CKEDITOR.POSITION_BEFORE_START),n=s(r).concat(s(n))):a?i||((t.tableSurroundingRange=r).setStartAt(a,CKEDITOR.POSITION_AFTER_END),o.setEndAt(a,CKEDITOR.POSITION_AFTER_END)):((t.tableSurroundingRange=r).setEndAt(i,CKEDITOR.POSITION_BEFORE_START),o.setStartAt(i,CKEDITOR.POSITION_AFTER_START)),t.tableContentsRanges=n||s(o))},deleteRanges:function(t){for(var e;e=t.tableContentsRanges.pop();)e.extractContents(),u(e.startContainer)&&e.startContainer.appendBogus();t.tableSurroundingRange&&t.tableSurroundingRange.extractContents()},purge:function(t){if(t.purgeTableBookmark){var e=t.doc,n=t.range.clone();(e=e.createElement("p")).insertBefore(t.purgeTableBookmark.startNode),n.moveToBookmark(t.purgeTableBookmark),n.deleteContents(),t.range.moveToPosition(e,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(t){return!(t.range.startPath().contains(CKEDITOR.dtd.$listItem)&&t.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(t){t.startContainer.getDtd()["#"]||t.moveToClosestEditablePosition(null,!0)},autoParagraph:function(t,e){var n,i=e.startPath();F(t,i.block,i.blockLimit)&&(n=B(t))&&((n=e.document.createElement(n)).appendBogus(),e.insertNode(n),e.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function u(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function h(t,e){if(0===t.length||u(t[0].getEnclosedNode()))return!1;var n,i;if((n=!e&&1===t.length)&&!(n=t[0].collapsed)){var o=t[0];n=o.startContainer.getAscendant({td:1,th:1},!0);var r=o.endContainer.getAscendant({td:1,th:1},!0);i=CKEDITOR.tools.trim,n&&n.equals(r)&&!n.findOne("td, th, tr, tbody, table")?n=!(o=o.cloneContents()).getFirst()||i(o.getFirst().getText())!==i(n.getText()):n=!1}if(n)return!1;for(i=0;i<t.length;i++)if(!(n=t[i]._getTableElement()))return!1;return!0}function r(t){function e(t){t=t.find("td, th");var e,n=[];for(e=0;e<t.count();e++)n.push(t.getItem(e));return n}var n,i,o=[];for(i=0;i<t.length;i++)(n=t[i]._getTableElement()).is&&n.is({td:1,th:1})?o.push(n):o=o.concat(e(n));return o}function i(t){t=r(t);var e,n,i="",o=[];for(n=0;n<t.length;n++)e&&!e.equals(t[n].getAscendant("tr"))?(i+=o.join("\t")+"\n",e=t[n].getAscendant("tr"),o=[]):0===n&&(e=t[n].getAscendant("tr")),o.push(t[n].getText());return i+o.join("\t")}function f(t){var e=this.root.editor,n=e.getSelection(1);this.reset(),C=!0,n.root.once("selectionchange",function(t){t.cancel()},null,null,0),n.selectRanges([t[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(t),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=t[0]._getTableElement(),n.selectedText=i(t),n.nativeSel=null,this.isFake=1,this.rev=s++,e._.fakeSelection=this,C=!1,this.root.fire("selectionchange")}function m(){var t,e=this._.fakeSelection;if(e){var n;if(!(n=!(t=this.getSelection(1)))&&(n=!t.isHidden())){n=e;var i=t.getRanges(),o=n.getRanges(),r=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),a=o.length&&o[0]._getTableElement()&&o[0]._getTableElement().getAscendant("table",!0),s=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),l=1===o.length&&o[0]._getTableElement()&&o[0]._getTableElement().is("table");if(u(n.getSelectedElement()))n=!1;else{var c=1===i.length&&i[0].collapsed;o=h(i,!!CKEDITOR.env.webkit)&&h(o);(r=!(!r||!a)&&(r.equals(a)||a.contains(r)))&&(c||o)?(s&&!l&&n.selectRanges(i),n=!0):n=!1}n=!n}n&&(e.reset(),e=0)}(e||(e=t||this.getSelection(1))&&e.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",e),(t=this.elementPath()).compare(this._.selectionPreviousPath)||(n=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(t.blockLimit),!CKEDITOR.env.webkit&&!CKEDITOR.env.gecko||n||(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=t,this.fire("selectionChange",{selection:e,path:t})))}function E(){e=!0,D||(t.call(this),D=CKEDITOR.tools.setTimeout(t,200,this))}function t(){D=null,e&&(CKEDITOR.tools.setTimeout(m,0,this),e=!1)}function p(t){return!(!c(t)&&(t.type!=CKEDITOR.NODE_ELEMENT||t.is(CKEDITOR.dtd.$empty)))}function g(n){function t(t,e){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&n.clone()["moveToElementEdit"+(e?"End":"Start")](t)}if(!(n.root instanceof CKEDITOR.editable))return!1;var e=n.startContainer,i=n.getPreviousNode(p,null,e),o=n.getNextNode(p,null,e);return!(!t(i)&&!t(o,1)&&(i||o||e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()&&e.getBogus()))}function v(t){T(t,!1);var e=t.getDocument().createText(l);return t.setCustomData("cke-fillingChar",e),e}function T(t,e){var n=t&&t.removeCustomData("cke-fillingChar");if(n){if(!1!==e){var i=t.getDocument().getSelection().getNative(),o=i&&"None"!=i.type&&i.getRangeAt(0),r=l.length;if(n.getLength()>r&&o&&o.intersectsNode(n.$)){var a=[{node:i.anchorNode,offset:i.anchorOffset},{node:i.focusNode,offset:i.focusOffset}];i.anchorNode==n.$&&i.anchorOffset>r&&(a[0].offset-=r),i.focusNode==n.$&&i.focusOffset>r&&(a[1].offset-=r)}}n.setText(y(n.getText(),1)),a&&(i=(n=t.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),i.removeAllRanges(),i.addRange(n),i.extend(a[1].node,a[1].offset))}}function y(t,e){return e?t.replace(n,function(t,e){return e?"\xa0":""}):t.replace(l,"")}function a(t,e){var n=e&&CKEDITOR.tools.htmlEncode(e)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&CKEDITOR.env.version<14?"display:none":"position:fixed;top:0;left:-1000px;width:0;height:0;overflow:hidden;")+'">'+n+"</div>",t.document);t.fire("lockSnapshot"),t.editable().append(n);var i=t.getSelection(1),o=t.createRange(),r=i.root.on("selectionchange",function(t){t.cancel()},null,null,0);o.setStartAt(n,CKEDITOR.POSITION_AFTER_START),o.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),i.selectRanges([o]),r.removeListener(),t.fire("unlockSnapshot"),t._.hiddenSelectionContainer=n}function b(o){var r={37:1,39:1,8:1,46:1};return function(t){var e=t.data.getKeystroke();if(r[e]){var n=o.getSelection().getRanges(),i=n[0];1==n.length&&i.collapsed&&(e=i[e<38?"getPreviousEditableNode":"getNextEditableNode"]())&&e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable")&&(o.getSelection().fake(e),t.data.preventDefault(),t.cancel())}}}function o(n){for(var i=0;i<n.length;i++){var o=n[i];if(o.getCommonAncestor().isReadOnly()&&n.splice(i,1),!o.collapsed){if(o.startContainer.isReadOnly())for(var t,e=o.startContainer;e&&!((t=e.type==CKEDITOR.NODE_ELEMENT)&&e.is("body")||!e.isReadOnly());)t&&"false"==e.getAttribute("contentEditable")&&o.setStartAfter(e),e=e.getParent();e=o.startContainer,t=o.endContainer;var r=o.startOffset,a=o.endOffset,s=o.clone();e&&e.type==CKEDITOR.NODE_TEXT&&(r>=e.getLength()?s.setStartAfter(e):s.setStartBefore(e)),t&&t.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(t):s.setEndBefore(t)),(e=new CKEDITOR.dom.walker(s)).evaluator=function(t){if(t.type==CKEDITOR.NODE_ELEMENT&&t.isReadOnly()){var e=o.clone();return o.setEndBefore(t),o.collapsed&&n.splice(i--,1),t.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(t),e.collapsed||n.splice(i+1,0,e)),!0}return!1},e.next()}}return n}var C,D,e,I="function"!=typeof window.getSelection,s=1,l=CKEDITOR.tools.repeat("\u200b",7),n=new RegExp(l+"( )?","g"),c=CKEDITOR.dom.walker.invisible(1),d=function(){function t(n){return function(t){var e=t.editor.createRange();return e.moveToClosestEditablePosition(t.selected,n)&&t.editor.getSelection().selectRanges([e]),!1}}function e(o){return function(t){var e,n=t.editor,i=n.createRange();if(!n.readOnly)return(e=i.moveToClosestEditablePosition(t.selected,o))||(e=i.moveToClosestEditablePosition(t.selected,!o)),e&&n.getSelection().selectRanges([i]),n.fire("saveSnapshot"),t.selected.remove(),e||(i.moveToElementEditablePosition(n.editable()),n.getSelection().selectRanges([i])),n.fire("saveSnapshot"),!1}}var n=t(),i=t(1);return{37:n,38:n,39:i,40:i,8:e(),46:e(1)}}();CKEDITOR.on("instanceCreated",function(t){function e(){var t=g.getSelection();t&&t.removeAllRanges()}var g=t.editor;g.on("contentDom",function(){function t(){(o=new CKEDITOR.dom.selection(g.getSelection())).lock()}function n(){l.removeListener("mouseup",n),d.removeListener("mouseup",n);var t=CKEDITOR.document.$.selection,e=t.createRange();"None"!=t.type&&e.parentElement()&&e.parentElement().ownerDocument==s.$&&e.select()}function i(t){return(t=t.getRanges()[0])&&(t=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable")},!0))&&"false"===t.getAttribute("contenteditable")?t:null}var e,o,r,a,s=g.document,l=CKEDITOR.document,c=g.editable(),u=s.getBody(),d=s.getDocumentElement(),h=c.isInline();if((CKEDITOR.env.gecko&&c.attachListener(c,"focus",function(t){t.removeListener(),0!==e&&(t=g.getSelection().getNative())&&t.isCollapsed&&t.anchorNode==c.$&&((t=g.createRange()).moveToElementEditStart(c),t.select())},null,null,-2),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){if(e&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){e=g._.previousActive&&g._.previousActive.equals(s.getActive());var t=null!=g._.previousScrollTop&&g._.previousScrollTop!=c.$.scrollTop;CKEDITOR.env.webkit&&e&&t&&(c.$.scrollTop=g._.previousScrollTop)}g.unlockSelection(e),e=0},null,null,-1),c.attachListener(c,"mousedown",function(){e=0}),(CKEDITOR.env.ie||h)&&(I?c.attachListener(c,"beforedeactivate",t,null,null,-1):c.attachListener(g,"selectionCheck",t,null,null,-1),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusout":"blur",function(){g.lockSelection(o),e=1},null,null,-1),c.attachListener(c,"mousedown",function(){e=0})),CKEDITOR.env.ie&&!h)&&(c.attachListener(c,"mousedown",function(t){2==t.data.$.button&&((t=g.document.getSelection())&&t.getType()!=CKEDITOR.SELECTION_NONE||(r=g.window.getScrollPosition()))}),c.attachListener(c,"mouseup",function(t){2==t.data.$.button&&r&&(g.document.$.documentElement.scrollLeft=r.x,g.document.$.documentElement.scrollTop=r.y),r=null}),"BackCompat"!=s.$.compatMode)){var f,p;if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)d.on("mousedown",function(t){function e(t){if(t=t.data.$,f){var e=u.$.createTextRange();try{e.moveToPoint(t.clientX,t.clientY)}catch(i){}f.setEndPoint(p.compareEndPoints("StartToStart",e)<0?"EndToEnd":"StartToStart",e),f.select()}}function n(){d.removeListener("mousemove",e),l.removeListener("mouseup",n),d.removeListener("mouseup",n),f.select()}if((t=t.data).getTarget().is("html")&&t.$.y<d.$.clientHeight&&t.$.x<d.$.clientWidth){f=u.$.createTextRange();try{f.moveToPoint(t.$.clientX,t.$.clientY)}catch(i){}p=f.duplicate(),d.on("mousemove",e),l.on("mouseup",n),d.on("mouseup",n)}});7<CKEDITOR.env.version&&CKEDITOR.env.version<11&&d.on("mousedown",function(t){t.data.getTarget().is("html")&&(l.on("mouseup",n),d.on("mouseup",n))})}(c.attachListener(c,"selectionchange",m,g),c.attachListener(c,"keyup",E,g),c.attachListener(c,"touchstart",E,g),c.attachListener(c,"touchend",E,g),CKEDITOR.env.ie&&c.attachListener(c,"keydown",function(t){var e=this.getSelection(1),n=i(e);n&&!n.equals(c)&&(e.selectElement(n),t.data.preventDefault())},g),c.attachListener(c,CKEDITOR.env.webkit||CKEDITOR.env.gecko?"focusin":"focus",function(){g.forceNextSelectionCheck(),g.selectionChange(1)}),h&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko))?(c.attachListener(c,"mousedown",function(){a=1}),c.attachListener(s.getDocumentElement(),"mouseup",function(){a&&E.call(g),a=0})):c.attachListener(CKEDITOR.env.ie?c:s.getDocumentElement(),"mouseup",E,g);CKEDITOR.env.webkit&&c.attachListener(s,"keydown",function(t){switch(t.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:c.hasFocus&&T(c)}},null,null,-1),
c.attachListener(c,"keydown",b(g),null,null,-1)}),g.on("setData",function(){g.unlockSelection(),CKEDITOR.env.webkit&&e()}),g.on("contentDomUnload",function(){g.unlockSelection()}),CKEDITOR.env.ie9Compat&&g.on("beforeDestroy",e,null,null,9),g.on("dataReady",function(){delete g._.fakeSelection,delete g._.hiddenSelectionContainer,g.selectionChange(1)}),g.on("loadSnapshot",function(){var t=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),e=g.editable().getLast(t);e&&e.hasAttribute("data-cke-hidden-sel")&&(e.remove(),CKEDITOR.env.gecko&&(t=g.editable().getFirst(t))&&t.is("br")&&t.getAttribute("_moz_editor_bogus_node")&&t.remove())},null,null,100),g.on("key",function(t){if("wysiwyg"==g.mode){var e=g.getSelection();if(e.isFake){var n=d[t.data.keyCode];if(n)return n({editor:g,selected:e.getSelectedElement(),selection:e,keyEvent:t})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(t){var n=t.editor;n.on("selectionChange",function(){var t=n.editable(),e=t.getCustomData("cke-fillingChar");e&&(e.getCustomData("ready")?(T(t),t.editor.fire("selectionCheck")):e.setCustomData("ready",1))},null,null,-1),n.on("beforeSetMode",function(){T(n.editable())},null,null,-1),n.on("getSnapshot",function(t){t.data&&(t.data=y(t.data))},n,null,20),n.on("toDataFormat",function(t){t.data.dataValue=y(t.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(t){(t?m:E).call(this)},CKEDITOR.editor.prototype.getSelection=function(t){return!this._.savedSelection&&!this._.fakeSelection||t?(t=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(t):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(t){return(t=t||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!t.isLocked&&t.lock(),this._.savedSelection=t,!0)},CKEDITOR.editor.prototype.unlockSelection=function(t){var e=this._.savedSelection;return!!e&&(e.unlock(t),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var t=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return t.selectRanges([this]),t},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(t){if(t instanceof CKEDITOR.dom.selection){var e=t;t=t.root}var n,i,o=t instanceof CKEDITOR.dom.element;if(this.rev=e?e.rev:s++,this.document=t instanceof CKEDITOR.dom.document?t:t.getDocument(),this.root=o?t:this.document.getBody(),this.isLocked=0,this._={cache:{}},e)return CKEDITOR.tools.extend(this._.cache,e._.cache),this.isFake=e.isFake,this.isLocked=e.isLocked,this;if(t=this.getNative())if(t.getRangeAt)n=(i=t.rangeCount&&t.getRangeAt(0))&&new CKEDITOR.dom.node(i.commonAncestorContainer);else{try{i=t.createRange()}catch(f){}n=i&&CKEDITOR.dom.element.get(i.item&&i.item(0)||i.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var O,R={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:y,_createFillingCharSequenceNode:v,FILLING_CHAR_SEQUENCE:l}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=I?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:I?function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),i=n.type;"Text"==i&&(e=CKEDITOR.SELECTION_TEXT),"Control"==i&&(e=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(e=CKEDITOR.SELECTION_TEXT)}catch(v){}return t.type=e}:function(){var t=this._.cache;if(t.type)return t.type;var e=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,i=(n=n.getRangeAt(0)).startContainer;i==n.endContainer&&1==i.nodeType&&1==n.endOffset-n.startOffset&&R[i.childNodes[n.startOffset].nodeName.toLowerCase()]&&(e=CKEDITOR.SELECTION_ELEMENT)}}else e=CKEDITOR.SELECTION_NONE;return t.type=e},getRanges:(O=I?function(){function h(t){return new CKEDITOR.dom.node(t).getIndex()}var s=function(t,e){(t=t.duplicate()).collapse(e);var n=t.parentElement();if(!n.hasChildNodes())return{container:n,offset:0};for(var i,o,r,a,s=n.children,l=t.duplicate(),c=0,u=s.length-1,d=-1;c<=u;)if(i=s[d=Math.floor((c+u)/2)],l.moveToElementText(i),0<(r=l.compareEndPoints("StartToStart",t)))u=d-1;else{if(!(r<0))return{container:n,offset:h(i)};c=d+1}if(-1==d||d==s.length-1&&r<0){if(l.moveToElementText(n),l.setEndPoint("StartToStart",t),l=l.text.replace(/(\r\n|\r)/g,"\n").length,s=n.childNodes,!l)return(i=s[s.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:n,offset:s.length}:{container:i,offset:i.nodeValue.length};for(n=s.length;0<l&&0<n;)(o=s[--n]).nodeType==CKEDITOR.NODE_TEXT&&(l-=(a=o).nodeValue.length);return{container:a,offset:-l}}if(l.collapse(0<r),l.setEndPoint(0<r?"StartToStart":"EndToStart",t),!(l=l.text.replace(/(\r\n|\r)/g,"\n").length))return{container:n,offset:h(i)+(0<r?0:1)};for(;0<l;)try{(o=i[0<r?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(l-=o.nodeValue.length,a=o),i=o}catch(p){return{container:n,offset:h(i)}}return{container:a,offset:0<r?-l:a.nodeValue.length+l}};return function(){var t=(a=this.getNative())&&a.createRange(),e=this.getType();if(!a)return[];if(e==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),e=s(t,!0),a.setStart(new CKEDITOR.dom.node(e.container),e.offset),e=s(t),a.setEnd(new CKEDITOR.dom.node(e.container),e.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(e!=CKEDITOR.SELECTION_ELEMENT)return[];e=[];for(var n=0;n<t.length;n++){for(var i=t.item(n),o=i.parentNode,r=0,a=new CKEDITOR.dom.range(this.root);r<o.childNodes.length&&o.childNodes[r]!=i;r++);a.setStart(new CKEDITOR.dom.node(o),r),a.setEnd(new CKEDITOR.dom.node(o),r+1),e.push(a)}return e}}():function(){var t,e=[],n=this.getNative();if(!n)return e;for(var i=0;i<n.rangeCount;i++){var o=n.getRangeAt(i);(t=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(o.startContainer),o.startOffset),t.setEnd(new CKEDITOR.dom.node(o.endContainer),o.endOffset),e.push(t)}return e},function(t){var e=this._.cache,n=e.ranges;return n||(e.ranges=n=new CKEDITOR.dom.rangeList(O.call(this))),t?o(new CKEDITOR.dom.rangeList(n.slice())):n}),getStartElement:function(){var t,e=this._.cache;if(void 0!==e.startElement)return e.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent());else{for(n.optimize();t=n.startContainer,n.startOffset==(t.getChildCount?t.getChildCount():t.getLength())&&!t.isBlockBoundary();)n.setStartAfter(t);if((t=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return t.getParent();if((t=t.getChild(n.startOffset))&&t.type==CKEDITOR.NODE_ELEMENT)for(n=t.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)n=(t=n).getFirst();else t=n.startContainer}t=t.$}}return e.startElement=t?new CKEDITOR.dom.element(t):null},getSelectedElement:function(){var t=this._.cache;if(void 0!==t.selectedElement)return t.selectedElement;var o=this,e=CKEDITOR.tools.tryThese(function(){return o.getNative().createRange().item(0)},function(){for(var t,e,n=o.getRanges()[0].clone(),i=2;i&&!((t=n.getEnclosedNode())&&t.type==CKEDITOR.NODE_ELEMENT&&R[t.getName()]&&(e=t));i--)n.shrink(CKEDITOR.SHRINK_ELEMENT);return e&&e.$});return t.selectedElement=e?new CKEDITOR.dom.element(e):null},getSelectedText:function(){var t=this._.cache;if(void 0!==t.selectedText)return t.selectedText;var e=this.getNative();e=I?"Control"==e.type?"":e.createRange().text:e.toString();return t.selectedText=e},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(t){if(this.isLocked){if(t)var e=this.getSelectedElement(),n=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),t&&(t=e||n[0]&&n[0].getCommonAncestor())&&t.getAscendant("body",1)&&(h(n)?f.call(this,n):i?this.fake(e):e?this.selectElement(e):this.selectRanges(n))}},reset:function(){this._.cache={},this.isFake=0;var t=this.root.editor;if(t&&t._.fakeSelection)if(this.rev==t._.fakeSelection.rev){delete t._.fakeSelection;var e=t._.hiddenSelectionContainer;if(e){var n=t.checkDirty();t.fire("lockSnapshot"),e.remove(),t.fire("unlockSnapshot"),!n&&t.resetDirty()}delete t._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=s++},selectElement:function(t){var e=new CKEDITOR.dom.range(this.root);e.setStartBefore(t),e.setEndAfter(t),this.selectRanges([e])},selectRanges:function(t){var e=this.root.editor,n=e&&e._.hiddenSelectionContainer;if(this.reset(),n){n=this.root;for(var i,o=0;o<t.length;++o)(i=t[o]).endContainer.equals(n)&&(i.endOffset=Math.min(i.endOffset,n.getChildCount()))}if(t.length)if(this.isLocked){var r=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(t),this.lock(),r&&!r.equals(this.root)&&r.focus()}else{var a,s,l;if(1==t.length&&!(l=t[0]).collapsed&&(a=l.getEnclosedNode())&&a.type==CKEDITOR.NODE_ELEMENT&&((l=l.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(s=l.getEnclosedNode())&&s.type==CKEDITOR.NODE_ELEMENT&&(a=s),"false"==a.getAttribute("contenteditable"))||(a=void 0),a)this.fake(a);else if(e&&e.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&h(t)&&!C)f.call(this,t);else{if(I){var c,u,d;if(s=CKEDITOR.dom.walker.whitespaces(!0),a=/\ufeff|\u00a0/,l={table:1,tbody:1,tr:1},1<t.length&&(e=t[t.length-1],t[0].setEnd(e.endContainer,e.endOffset)),t=(e=t[0]).collapsed,(n=e.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName()in R&&(!n.is("a")||!n.getText()))try{return(d=n.$.createControlRange()).addElement(n.$),void d.select()}catch(y){}(e.startContainer.type==CKEDITOR.NODE_ELEMENT&&e.startContainer.getName()in l||e.endContainer.type==CKEDITOR.NODE_ELEMENT&&e.endContainer.getName()in l)&&(e.shrink(CKEDITOR.NODE_ELEMENT,!0),t=e.collapsed),l=(d=e.createBookmark()).startNode,t||(r=d.endNode),(d=e.document.$.body.createTextRange()).moveToElementText(l.$),d.moveStart("character",1),r?((a=e.document.$.body.createTextRange()).moveToElementText(r.$),d.setEndPoint("EndToEnd",a),d.moveEnd("character",-1)):(c=l.getNext(s),u=l.hasAscendant("pre"),c=!(c&&c.getText&&c.getText().match(a))&&(u||!l.hasPrevious()||l.getPrevious().is&&l.getPrevious().is("br")),(u=e.document.createElement("span")).setHtml("&#65279;"),u.insertBefore(l),c&&e.document.createText("\ufeff").insertBefore(l)),e.setStartBefore(l),l.remove(),t?(c?(d.moveStart("character",-1),d.select(),e.document.$.selection.clear()):d.select(),e.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()):(e.setEndBefore(r),r.remove(),d.select())}else{if(!(r=this.getNative()))return;for(this.removeAllRanges(),d=0;d<t.length;d++)if(d<t.length-1&&(c=t[d],u=t[d+1],(a=c.clone()).setStart(c.endContainer,c.endOffset),a.setEnd(u.startContainer,u.startOffset),!a.collapsed&&(a.shrink(CKEDITOR.NODE_ELEMENT,!0),e=a.getCommonAncestor(),a=a.getEnclosedNode(),e.isReadOnly()||a&&a.isReadOnly())))u.setStart(c.startContainer,c.startOffset),t.splice(d--,1);else{e=t[d],u=this.document.$.createRange(),e.collapsed&&CKEDITOR.env.webkit&&g(e)&&(a=v(this.root),e.insertNode(a),(c=a.getNext())&&!a.getPrevious()&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()?(T(this.root),e.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START)):e.moveToPosition(a,CKEDITOR.POSITION_AFTER_END)),u.setStart(e.startContainer.$,e.startOffset);try{u.setEnd(e.endContainer.$,e.endOffset)}catch(D){if(!(0<=D.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw D;e.collapse(1),u.setEnd(e.endContainer.$,e.endOffset)}r.addRange(u)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(t,e){var n=this.root.editor;void 0===e&&t.hasAttribute("aria-label")&&(e=t.getAttribute("aria-label")),this.reset(),a(n,e);var i=this._.cache,o=new CKEDITOR.dom.range(this.root);o.setStartBefore(t),o.setEndAfter(t),i.ranges=new CKEDITOR.dom.rangeList(o),i.selectedElement=i.startElement=t,i.type=CKEDITOR.SELECTION_ELEMENT,i.selectedText=i.nativeSel=null,this.isFake=1,this.rev=s++,(n._.fakeSelection=this).root.fire("selectionchange")},isHidden:function(){var t=this.getCommonAncestor();return t&&t.type==CKEDITOR.NODE_TEXT&&(t=t.getParent()),!(!t||!t.data("cke-hidden-sel"))},isInTable:function(t){return h(this.getRanges(),t)},isCollapsed:function(){var t=this.getRanges();return 1===t.length&&t[0].collapsed},createBookmarks:function(t){return t=this.getRanges().createBookmarks(t),this.isFake&&(t.isFake=1),t},createBookmarks2:function(t){return t=this.getRanges().createBookmarks2(t),this.isFake&&(t.isFake=1),t},selectBookmarks:function(t){for(var e,n=[],i=0;i<t.length;i++){var o=new CKEDITOR.dom.range(this.root);o.moveToBookmark(t[i]),n.push(o)}return t.isFake&&((e=h(n)?n[0]._getTableElement():n[0].getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),t.isFake=0)),t.isFake&&!h(n)?this.fake(e):this.selectRanges(n),this},getCommonAncestor:function(){var t=this.getRanges();return t.length?t[0].startContainer.getCommonAncestor(t[t.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var t=this.getNative();try{t&&t[I?"empty":"removeAllRanges"]()}catch(r){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function R(t,e){for(var n,i;(t=t.getParent())&&!t.equals(e);)if(t.getAttribute("data-nostyle"))n=t;else if(!i){var o=t.getAttribute("contentEditable");"false"==o?n=t:"true"==o&&(i=1)}return n}function k(t,e,n,i){return(t.getPosition(e)|i)==i&&(!n.childRule||n.childRule(t))}function _(t){var e=t.document;if(t.collapsed)e=x(this,e),t.insertNode(e),t.moveToPosition(e,CKEDITOR.POSITION_BEFORE_END);else{var n,i=this.element,o=this._.definition,r=(h=o.ignoreReadonly)||o.includeReadonly;null==r&&(r=t.root.getCustomData("cke_includeReadonly"));var a=CKEDITOR.dtd[i];a||(n=!0,a=CKEDITOR.dtd.span),t.enlarge(CKEDITOR.ENLARGE_INLINE,1),t.trim();var s,l=t.createBookmark(),c=l.startNode,u=l.endNode,d=c;if(!h){var h=R(c,f=t.getCommonAncestor()),f=R(u,f);h&&(d=h.getNextSourceNode(!0)),f&&(u=f)}for(d.getPosition(u)==CKEDITOR.POSITION_FOLLOWING&&(d=0);d;){if(h=!1,d.equals(u))h=!(d=null);else{f=(y=d.type==CKEDITOR.NODE_ELEMENT?d.getName():null)&&"false"==d.getAttribute("contentEditable");var p=y&&d.getAttribute("data-nostyle");if(y&&d.data("cke-bookmark")||d.type===CKEDITOR.NODE_COMMENT){d=d.getNextSourceNode(!0);continue}if(f&&r&&CKEDITOR.dtd.$block[y])for(var g=void 0,m=0,E=(O=(I=w(E=d)).length)&&new CKEDITOR.dom.range(E.getDocument());m<O;++m){g=I[m];var v=CKEDITOR.filter.instances[g.data("cke-filter")];v&&!v.check(this)||(E.selectNodeContents(g),_.call(this,E))}if(I=y?!a[y]||p?0:f&&!r?0:k(d,u,o,A):1){if(I=o,O=i,m=n,!(g=d.getParent())||!(g.getDtd()||CKEDITOR.dtd.span)[O]&&!m||I.parentRule&&!I.parentRule(g))h=!0;else if(s||y&&CKEDITOR.dtd.$removeEmpty[y]&&(d.getPosition(u)|A)!=A||(s=t.clone()).setStartBefore(d),(y=d.type)==CKEDITOR.NODE_TEXT||f||y==CKEDITOR.NODE_ELEMENT&&!d.getChildCount()){for(var T,y=d;(h=!y.getNext(S))&&a[(T=y.getParent()).getName()]&&k(T,c,o,N);)y=T;s.setEndAfter(y)}}else h=!0;d=d.getNextSourceNode(p||f)}if(h&&s&&!s.collapsed){f=(h=x(this,e)).hasAttributes(),p=s.getCommonAncestor(),y={};for(var b,C,D,I={},O=(g={},{});h&&p;){if(p.getName()==i){for(b in o.attributes)!O[b]&&(D=p.getAttribute(C))&&(h.getAttribute(b)==D?I[b]=1:O[b]=1);for(C in o.styles)!g[C]&&(D=p.getStyle(C))&&(h.getStyle(C)==D?y[C]=1:g[C]=1)}p=p.getParent()}for(b in I)h.removeAttribute(b);for(C in y)h.removeStyle(C);f&&!h.hasAttributes()&&(h=null),h?(s.extractContents().appendTo(h),s.insertNode(h),K.call(this,h),h.mergeSiblings(),CKEDITOR.env.ie||h.$.normalize()):(h=new CKEDITOR.dom.element("span"),s.extractContents().appendTo(h),s.insertNode(h),K.call(this,h),h.remove(!0)),s=null}}t.moveToBookmark(l),t.shrink(CKEDITOR.SHRINK_TEXT),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function e(t){function e(){for(var t=new CKEDITOR.dom.elementPath(a.getParent()),e=new CKEDITOR.dom.elementPath(u.getParent()),n=null,i=null,o=0;o<t.elements.length;o++){var r=t.elements[o];if(r==t.block||r==t.blockLimit)break;d.checkElementRemovable(r,!0)&&(n=r)}for(o=0;o<e.elements.length&&((r=e.elements[o])!=e.block&&r!=e.blockLimit);o++)d.checkElementRemovable(r,!0)&&(i=r);i&&u.breakParent(i),n&&a.breakParent(n)}t.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=t.createBookmark(),a=n.startNode,i=this._.definition.alwaysRemoveElement;if(t.collapsed){for(var o,r,s=new CKEDITOR.dom.elementPath(a.getParent(),t.root),l=0;l<s.elements.length&&(r=s.elements[l])&&r!=s.block&&r!=s.blockLimit;l++)if(this.checkElementRemovable(r)){var c;!i&&t.collapsed&&(t.checkBoundaryOfElement(r,CKEDITOR.END)||(c=t.checkBoundaryOfElement(r,CKEDITOR.START)))?(o=r).match=c?"start":"end":(r.mergeSiblings(),r.is(this.element)?h.call(this,r):f(r,g(this)[r.getName()]))}if(o){for(i=a,l=0;!(r=s.elements[l]).equals(o);l++)r.match||((r=r.clone()).append(i),i=r);i["start"==o.match?"insertBefore":"insertAfter"](o)}}else{var u=n.endNode,d=this;for(e(),s=a;!s.equals(u);)o=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?h.call(this,s):f(s,g(this)[s.getName()]),o.type==CKEDITOR.NODE_ELEMENT&&o.contains(a)&&(e(),o=a.getNext())),s=o}t.moveToBookmark(n),t.shrink(CKEDITOR.NODE_ELEMENT,!0)}function w(t){var e=[];return t.forEach(function(t){if("true"==t.getAttribute("contenteditable"))return e.push(t),!1},CKEDITOR.NODE_ELEMENT,!0),e}function n(t){var e=t.getEnclosedNode()||t.getCommonAncestor(!1,!0);(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1))&&!t.isReadOnly()&&s(t,this)}function i(t){var e=t.getCommonAncestor(!0,!0);if(t=new CKEDITOR.dom.elementPath(e,t.root).contains(this.element,1)){var n=(e=this._.definition).attributes;if(n)for(var i in n)t.removeAttribute(i,n[i]);if(e.styles)for(var o in e.styles)e.styles.hasOwnProperty(o)&&t.removeStyle(o)}}function o(t){var e=t.createBookmark(!0),n=t.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var i,o=t.document;i=n.getNextParagraph();)!i.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&a(i,x(this,o,i));t.moveToBookmark(e)}function r(t){var e,n,i=t.createBookmark(1),o=t.createIterator();for(o.enforceRealBlocks=!0,o.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;e=o.getNextParagraph();)this.checkElementRemovable(e)&&(e.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:t.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&e.copyAttributes(n),a(e,n)):h.call(this,e));t.moveToBookmark(i)}function a(t,e){(n=!e)&&(e=t.getDocument().createElement("div"),t.copyAttributes(e));var n,i,o=e&&e.is("pre"),r=t.is("pre"),a=!o&&r;if(o&&!r){if(r=e,(a=t.getBogus())&&a.remove(),a=(a=(a=(a=c(a=t.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=t.getDocument().createElement("div");s.append(r),r.$.outerHTML="<pre>"+a+"</pre>",r.copyAttributes(s.getFirst()),r=s.getFirst().remove()}else r.setHtml(a);e=r}else a?e=u(n?[t.getHtml()]:l(t),e):t.moveChildren(e);(e.replace(t),o)?(i=(n=e).getPrevious(D))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("pre")&&(o=c(i.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+o+"</pre>":n.setHtml(o),i.remove()):n&&d(e)}function l(t){var n=[];return c(t.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(t,e,n){return e+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(t,e){n.push(e)}),n}function c(t,e,n){var i="",o="";return t=t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(t,e,n){return e&&(i=e),n&&(o=n),""}),i+t.replace(e,n)+o}function u(t,e){var n;1<t.length&&(n=new CKEDITOR.dom.documentFragment(e.getDocument()));for(var i=0;i<t.length;i++){var o=(o=(o=c(o=c(o=c(o=(o=t[i]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(t,e){return 1==t.length?"&nbsp;":e?" "+CKEDITOR.tools.repeat("&nbsp;",t.length-1):CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(t){return CKEDITOR.tools.repeat("&nbsp;",t.length-1)+" "});if(n){var r=e.clone();r.setHtml(o),n.append(r)}else e.setHtml(o)}return n||e}function h(t,e){var n,i=(o=this._.definition).attributes,o=o.styles,r=g(this)[t.getName()],a=CKEDITOR.tools.isEmpty(i)&&CKEDITOR.tools.isEmpty(o);for(n in i)("class"!=n&&!this._.definition.fullMatch||t.getAttribute(n)==m(n,i[n]))&&(e&&"data-"==n.slice(0,5)||(a=t.hasAttribute(n),t.removeAttribute(n)));for(var s in o)this._.definition.fullMatch&&t.getStyle(s)!=m(s,o[s],!0)||(a=a||!!t.getStyle(s),t.removeStyle(s));f(t,r,T[t.getName()]),a&&(this._.definition.alwaysRemoveElement?d(t,1):!CKEDITOR.dtd.$block[t.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!t.hasAttributes()?d(t):t.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function K(t){for(var e,n=g(this),i=t.getElementsByTag(this.element),o=i.count();0<=--o;)(e=i.getItem(o)).isReadOnly()||h.call(this,e,!0);for(var r in n)if(r!=this.element)for(o=(i=t.getElementsByTag(r)).count()-1;0<=o;o--)(e=i.getItem(o)).isReadOnly()||f(e,n[r])}function f(t,e,n){if(e=e&&e.attributes)for(var i=0;i<e.length;i++){var o,r=e[i][0];if(o=t.getAttribute(r)){var a=e[i][1];(null===a||a.test&&a.test(o)||"string"==typeof a&&o==a)&&t.removeAttribute(r)}}n||d(t)}function d(t,e){if(!t.hasAttributes()||e)if(CKEDITOR.dtd.$block[t.getName()]){var n=t.getPrevious(D),i=t.getNext(D);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||t.append("br",1),!i||i.type!=CKEDITOR.NODE_TEXT&&i.isBlockBoundary({br:1})||t.append("br"),t.remove(!0)}else n=t.getFirst(),i=t.getLast(),t.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),i&&!n.equals(i)&&i.type==CKEDITOR.NODE_ELEMENT&&i.mergeSiblings())}function x(t,e,n){var i;return"*"==(i=t.element)&&(i="span"),i=new CKEDITOR.dom.element(i,e),n&&n.copyAttributes(i),i=s(i,t),e.getCustomData("doc_processing_style")&&i.hasAttribute("id")?i.removeAttribute("id"):e.setCustomData("doc_processing_style",1),i}function s(t,e){var n=(i=e._.definition).attributes,i=CKEDITOR.style.getStyleText(i);if(n)for(var o in n)t.setAttribute(o,n[o]);return i&&t.setAttribute("style",i),t.getDocument().removeCustomData("doc_processing_style"),t}function p(t,n){for(var e in t)t[e]=t[e].replace(C,function(t,e){return n[e]})}function g(t){if(t._.overrides)return t._.overrides;var e=t._.overrides={},n=t._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var i=0;i<n.length;i++){var o,r;if("string"==typeof(s=n[i])?o=s.toLowerCase():(o=s.element?s.element.toLowerCase():t.element,r=s.attributes),s=e[o]||(e[o]={}),r){var a,s=s.attributes=s.attributes||[];for(a in r)s.push([a.toLowerCase(),r[a]])}}}return e}function m(t,e,n){var i=new CKEDITOR.dom.element("span");return i[n?"setStyle":"setAttribute"](t,e),i[n?"getStyle":"getAttribute"](t)}function E(t,e){function n(t,e){return"font-family"==e.toLowerCase()?t.replace(/["']/g,""):t}for(var i in"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t)),"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e,!0)),t)if(!(i in e)||n(e[i],i)!=n(t[i],i)&&"inherit"!=t[i]&&"inherit"!=e[i])return!1;return!0}function v(t,e,n){var i,o,r=t.getRanges();if(e=e?this.removeFromRange:this.applyToRange,t.isFake&&t.isInTable())for(i=[],o=0;o<r.length;o++)i.push(r[o].clone());for(var a=r.createIterator();o=a.getNextRange();)e.call(this,o,n);t.selectRanges(i||r)}var T={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},y={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},b=/\s*(?:;\s*|$)/,C=/#\((.+?)\)/g,S=CKEDITOR.dom.walker.bookmark(0,1),D=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(t,e){if("string"==typeof t.type)return new CKEDITOR.style.customHandlers[t.type](t);var n=t.attributes;n&&n.style&&(t.styles=CKEDITOR.tools.extend({},t.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),e&&(p((t=CKEDITOR.tools.clone(t)).attributes,e),p(t.styles,e)),n=this.element=t.element?"string"==typeof t.element?t.element.toLowerCase():t.element:"*",this.type=t.type||(T[n]?CKEDITOR.STYLE_BLOCK:y[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:t}},CKEDITOR.style.prototype={apply:function(t){if(t instanceof CKEDITOR.dom.document)return v.call(this,t.getSelection());if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),v.call(this,t.getSelection(),0,t),this._.enterMode=e}},remove:function(t){if(t instanceof CKEDITOR.dom.document)return v.call(this,t.getSelection(),1);if(this.checkApplicable(t.elementPath(),t)){var e=this._.enterMode;e||(this._.enterMode=t.activeEnterMode),v.call(this,t.getSelection(),1,t),this._.enterMode=e}},applyToRange:function(t){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?_:this.type==CKEDITOR.STYLE_BLOCK?o:this.type==CKEDITOR.STYLE_OBJECT?n:null,this.applyToRange(t)},removeFromRange:function(t){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?e:this.type==CKEDITOR.STYLE_BLOCK?r:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.removeFromRange(t)},applyToObject:function(t){s(t,this)},checkActive:function(t,e){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(t.block||t.blockLimit,!0,e);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,i=t.elements,o=0;o<i.length;o++)if(n=i[o],this.type!=CKEDITOR.STYLE_INLINE||n!=t.block&&n!=t.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var r=n.getName();if(!("string"==typeof this.element?r==this.element:r in this.element))continue}if(this.checkElementRemovable(n,!0,e))return!0}}return!1},checkApplicable:function(t,e,n){if(e&&e instanceof CKEDITOR.filter&&(n=e),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!t.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!t.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(t,e){var n=this._.definition;if(!t||!n.ignoreReadonly&&t.isReadOnly())return!1;var i=t.getName();if("string"==typeof this.element?i==this.element:i in this.element){if(!e&&!t.hasAttributes())return!0;if(i=n._AC)n=i;else{i={};var o=0,r=n.attributes;if(r)for(var a in r)o++,i[a]=r[a];(a=CKEDITOR.style.getStyleText(n))&&(i.style||o++,i.style=a),i._length=o,n=n._AC=i}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(i=t.getAttribute(s)||"","style"==s?E(n[s],i):n[s]==i){if(!e)return!0}else if(e)return!1;if(e)return!0}return!1},checkElementRemovable:function(t,e,n){if(this.checkElementMatch(t,e,n))return!0;if(e=g(this)[t.getName()]){var i;if(!(e=e.attributes))return!0;for(n=0;n<e.length;n++)if(i=e[n][0],i=t.getAttribute(i)){var o=e[n][1];if(null===o)return!0;if("string"==typeof o){if(i==o)return!0}else if(o.test(i))return!0}}return!1},buildPreview:function(t){var e=this._.definition,n=[],i=e.element;"bdo"==i&&(i="span");n=["<",i];var o=e.attributes;if(o)for(var r in o)n.push(" ",r,'="',o[r],'"');return(o=CKEDITOR.style.getStyleText(e))&&n.push(' style="',o,'"'),n.push(">",t||e.name,"</",i,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(t){if(e=t._ST)return e;var e=t.styles,n=t.attributes&&t.attributes.style||"",i="";for(var o in n.length&&(n=n.replace(b,";")),e){var r=e[o],a=(o+":"+r).replace(b,";");"inherit"==r?i+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),t._ST=n+i},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(t){var e=function(t){this._={definition:t},this.setup&&this.setup(t)};return e.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},t,!0),this.customHandlers[t.type]=e};var A=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,N=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(t,e){this.requiredContent=this.allowedContent=this.style=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.styleCommand.prototype.exec=function(t){t.focus(),this.state==CKEDITOR.TRISTATE_OFF?t.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&t.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(t,e,n){CKEDITOR.stylesSet.addExternal(t,e,""),CKEDITOR.stylesSet.load(t,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(t,e){var o=this._.styleStateChangeCallbacks;o||(o=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(t){for(var e=0;e<o.length;e++){var n=o[e],i=n.style.checkActive(t.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;n.fn.call(this,i)}})),o.push({style:t,fn:e})},applyStyle:function(t){t.apply(this)},removeStyle:function(t){t.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var n=this;if(!1===(t=n.config.stylesCombo_stylesSet||n.config.stylesSet))e(null);else if(t instanceof Array)n._.stylesDefinitions=t,e(t);else{t||(t="default");var t,i=(t=t.split(":"))[0];CKEDITOR.stylesSet.addExternal(i,t[1]?t.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(i,function(t){n._.stylesDefinitions=t[i],e(n._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createComment(t)),CKEDITOR.dom.domObject.call(this,t)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"<!--"+this.$.nodeValue+"-->"}}),function(){var t,u={},d={};for(t in CKEDITOR.dtd.$blockLimit)t in CKEDITOR.dtd.$list||(u[t]=1);for(t in CKEDITOR.dtd.$block)t in CKEDITOR.dtd.$blockLimit||t in CKEDITOR.dtd.$empty||(d[t]=1);CKEDITOR.dom.elementPath=function(t,e){var n,i=null,o=null,r=[],a=t;e=e||t.getDocument().getBody(),a||(a=e);do{if(a.type==CKEDITOR.NODE_ELEMENT){if(r.push(a),!this.lastElement&&((this.lastElement=a).is(CKEDITOR.dtd.$object)||"false"==a.getAttribute("contenteditable")))continue;if(a.equals(e))break;if(!o&&(n=a.getName(),"true"==a.getAttribute("contenteditable")?o=a:!i&&d[n]&&(i=a),u[n])){if(n=!i&&"div"==n){t:{for(var s=0,l=(n=a.getChildren()).count();s<l;s++){var c=n.getItem(s);if(c.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[c.getName()]){n=!0;break t}}n=!1}n=!n}n?i=a:o=a}}}while(a=a.getParent());o||(o=e),this.block=i,this.blockLimit=o,this.root=e,this.elements=r}}(),CKEDITOR.dom.elementPath.prototype={compare:function(t){var e=this.elements;if(!(t=t&&t.elements)||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].equals(t[n]))return!1;return!0},contains:function(e,t,n){var i,o=0;"string"==typeof e&&(i=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?i=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?i=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?i=e:"object"==typeof e&&(i=function(t){return t.getName()in e});var r=this.elements,a=r.length;for(t&&(n?o+=1:--a),n&&(r=Array.prototype.slice.call(r,0)).reverse();o<a;o++)if(i(r[o]))return r[o];return null},isContextFor:function(t){return!(t in CKEDITOR.dtd.$block)||!!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[t]},
direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(t,e){"string"==typeof t&&(t=(e?e.$:document).createTextNode(t)),this.$=t},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(t){this.$.nodeValue=t},split:function(t){var e=this.$.parentNode,n=e.childNodes.length,i=this.getLength(),o=this.getDocument(),r=new CKEDITOR.dom.text(this.$.splitText(t),o);return e.childNodes.length==n&&(i<=t?(r=o.createText("")).insertAfter(this):((t=o.createText("")).insertAfter(r),t.remove())),r},substring:function(t,e){return"number"!=typeof e?this.$.nodeValue.substr(t):this.$.nodeValue.substring(t,e)}}),function(){function r(t,e,n){var i=t.serializable,o=e[n?"endContainer":"startContainer"],r=n?"endOffset":"startOffset",a=i?e.document.getById(t.startNode):t.startNode;return t=i?e.document.getById(t.endNode):t.endNode,o.equals(a.getPrevious())?(e.startOffset=e.startOffset-o.getLength()-t.getPrevious().getLength(),o=t.getNext()):o.equals(t.getPrevious())&&(e.startOffset-=o.getLength(),o=t.getNext()),o.equals(a.getParent())&&e[r]++,o.equals(t.getParent())&&e[r]++,e[n?"endContainer":"startContainer"]=o,e}CKEDITOR.dom.rangeList=function(t){return t instanceof CKEDITOR.dom.rangeList?t:(t?t instanceof CKEDITOR.dom.range&&(t=[t]):t=[],CKEDITOR.tools.extend(t,e))};var e={createIterator:function(){var r,a=this,s=CKEDITOR.dom.walker.bookmark(),l=[];return{getNextRange:function(t){var e=a[r=void 0===r?0:r+1];if(e&&1<a.length){if(!r)for(var n=a.length-1;0<=n;n--)l.unshift(a[n].createBookmark(!0));if(t)for(var i=0;a[r+i+1];){var o=e.document;for(t=0,n=o.getById(l[i].endNode),o=o.getById(l[i+1].startNode);;){if(n=n.getNextSourceNode(!1),o.equals(n))t=1;else if(s(n)||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())continue;break}if(!t)break;i++}for(e.moveToBookmark(l.shift());i--;)(n=a[++r]).moveToBookmark(l.shift()),e.setEnd(n.endContainer,n.endOffset)}return e}}},createBookmarks:function(t){for(var e,n=[],i=0;i<this.length;i++){n.push(e=this[i].createBookmark(t,!0));for(var o=i+1;o<this.length;o++)this[o]=r(e,this[o]),this[o]=r(e,this[o],!0)}return n},createBookmarks2:function(t){for(var e=[],n=0;n<this.length;n++)e.push(this[n].createBookmark2(t));return e},moveToBookmarks:function(t){for(var e=0;e<this.length;e++)this[e].moveToBookmark(t[e])}}}(),function(){function r(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function n(t){var e=CKEDITOR.skin["ua_"+t],n=CKEDITOR.env;if(e){e=e.split(",").sort(function(t,e){return e<t?-1:1});for(var i,o=0;o<e.length;o++)if(i=e[o],n.ie&&(i.replace(/^ie/,"")==n.version||n.quirks&&"iequirks"==i)&&(i="ie"),n[i]){t+="_"+e[o];break}}return CKEDITOR.getUrl(r()+t+".css")}function i(t,e){o[t]||(CKEDITOR.document.appendStyleSheet(n(t)),o[t]=1),e&&e()}function a(t){var e=t.getById(l);return e||((e=t.getHead().append("style")).setAttribute("id",l),e.setAttribute("type","text/css")),e}function s(t,e,n){var i,o,r;if(CKEDITOR.env.webkit)for(e=e.split("}").slice(0,-1),o=0;o<e.length;o++)e[o]=e[o].split("{");for(var a=0;a<t.length;a++)if(CKEDITOR.env.webkit)for(o=0;o<e.length;o++){for(r=e[o][1],i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);t[a].$.sheet.addRule(e[o][0],r)}else{for(r=e,i=0;i<n.length;i++)r=r.replace(n[i][0],n[i][1]);CKEDITOR.env.ie&&CKEDITOR.env.version<11?t[a].$.styleSheet.cssText+=r:t[a].$.innerHTML+=r}}var o={};CKEDITOR.skin={path:r,loadPart:function(t,e){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(r()+"skin.js"),function(){i(t,e)}):i(t,e)},getPath:function(t){return CKEDITOR.getUrl(n(t))},icons:{},addIcon:function(t,e,n,i){t=t.toLowerCase(),this.icons[t]||(this.icons[t]={path:e,offset:n||0,bgsize:i||"16px"})},getIconStyle:function(t,e,n,i,o){var r;return t&&(t=t.toLowerCase(),e&&(r=this.icons[t+"-rtl"]),r||(r=this.icons[t])),t=n||r&&r.path||"",i=i||r&&r.offset,o=o||r&&r.bgsize||"16px",t&&(t=t.replace(/'/g,"\\'")),t&&"background-image:url('"+CKEDITOR.getUrl(t)+"');background-position:0 "+i+"px;background-size:"+o+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(t){var o=a(CKEDITOR.document);return(this.setUiColor=function(t){this.uiColor=t;var e=CKEDITOR.skin.chameleon,n="",i="";"function"==typeof e&&(n=e(this,"editor"),i=e(this,"panel")),s([o],n,t=[[u,t]]),s(c,i,t)}).call(this,t)}});var l="cke_ui_color",c=[],u=/\$color/g;CKEDITOR.on("instanceLoaded",function(t){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var n=t.editor;t=function(t){if(!(t=(t.data[0]||t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){t=a(t),c.push(t);var e=n.getUiColor();e&&s([t],CKEDITOR.skin.chameleon(n,"panel"),[[u,e]])}},n.on("panelShow",t),n.on("menuShow",t),n.config.uiColor&&n.setUiColor(n.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var t=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);t.appendTo(CKEDITOR.document.getHead());try{var e=t.getComputedStyle("border-top-color"),n=t.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!e||e!=n)}catch(i){CKEDITOR.env.hc=!1}t.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),t=CKEDITOR._.pending)for(delete CKEDITOR._.pending,e=0;e<t.length;e++)CKEDITOR.editor.prototype.constructor.apply(t[e][0],t[e][1]),CKEDITOR.add(t[e][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=(C=function(t,e){for(var n=t.match(/[^#]./g),i=0;i<3;i++){var o,r=i;o=parseInt(n[i],16),o=("0"+(e<0?0|o*(1+e):0|o+(255-o)*e).toString(16)).slice(-2),n[r]=o}return"#"+n.join("")},D={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")},function(t,e){var n=C(t.uiColor,.4);return n={id:"."+t.id,defaultBorder:C(n,-.2),toolbarElementsBorder:C(n,-.25),defaultBackground:n,lightBackground:C(n,.8),darkBackground:C(n,-.15),ckeButtonOn:C(n,.4),ckeResizer:C(n,-.4),ckeColorauto:C(n,.8),dialogBody:C(n,.7),dialogTab:C(n,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:C(n,-.6),menubuttonHover:C(n,.1),menubuttonIcon:C(n,.5),menubuttonIconHover:C(n,.3)},D[e].output(n).replace(/\[/g,"{").replace(/\]/g,"}")}),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var s,l,c,u=function(t){this._||(this._={}),this._["default"]=this._.initValue=t["default"]||"",this._.required=t.required||!1;for(var e=[this._],n=1;n<arguments.length;n++)e.push(arguments[n]);return e.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,e),this._},t={build:function(t,e,n){return new CKEDITOR.ui.dialog.textInput(t,e,n)}},e={build:function(t,e,n){return new CKEDITOR.ui.dialog[e.type](t,e,n)}},n={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(t){this.setValue(this.getInitValue(),t)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._["default"]},getInitValue:function(){return this._.initValue}},i=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(t,e){this._.domOnChangeRegistered||(t.on("load",function(){this.getInputElement().on("change",function(){t.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},!0),o=/^on([A-Z]\w+)/,g=function(t){for(var e in t)(o.test(e)||"title"==e||"type"==e)&&delete t[e];return t},d=function(t){(t=t.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):t==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(n,i,t,o){if(!(arguments.length<4)){var r=u.call(this,i);r.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var e={role:i.role||"presentation"};i.includeLabel&&(e["aria-labelledby"]=r.labelId),CKEDITOR.ui.dialog.uiElement.call(this,n,i,t,"div",null,e,function(){var t=[],e=i.required?" cke_required":"";return"horizontal"!=i.labelLayout?t.push('<label class="cke_dialog_ui_labeled_label'+e+'" ',' id="'+r.labelId+'"',r.inputId?' for="'+r.inputId+'"':"",(i.labelStyle?' style="'+i.labelStyle+'"':"")+">",i.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',i.controlStyle?' style="'+i.controlStyle+'"':"",' role="presentation">',o.call(this,n,i),"</div>"):(e={type:"hbox",widths:i.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+e+'" id="'+r.labelId+'" for="'+r.inputId+'"'+(i.labelStyle?' style="'+i.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(i.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(i.controlStyle?' style="'+i.controlStyle+'"':"")+">"+o.call(this,n,i)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(n,e,t)),t.join("")})}},textInput:function(e,n,t){if(!(arguments.length<3)){u.call(this,n);var i=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",o={"class":"cke_dialog_ui_input_"+n.type,id:i,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(o.maxlength=n.maxLength),n.size&&(o.size=n.size),n.inputStyle&&(o.style=n.inputStyle);var r=this,a=!1;e.on("load",function(){r.getInputElement().on("keydown",function(t){13==t.data.getKeystroke()&&(a=!0)}),r.getInputElement().on("keyup",function(t){13==t.data.getKeystroke()&&a&&(e.getButton("ok")&&setTimeout(function(){e.getButton("ok").click()},0),a=!1),r.bidi&&d.call(r,t)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,e,n,t,function(){var t=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var e in n.width&&t.push('style="width:'+n.width+'" '),t.push("><input "),o["aria-labelledby"]=this._.labelId,this._.required&&(o["aria-required"]=this._.required),o)t.push(e+'="'+o[e]+'" ');return t.push(" /></div>"),t.join("")})}},textarea:function(t,e,n){if(!(arguments.length<3)){u.call(this,e);var i=this,o=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",r={};e.validate&&(this.validate=e.validate),r.rows=e.rows||5,r.cols=e.cols||20,r["class"]="cke_dialog_ui_input_textarea "+(e["class"]||""),"undefined"!=typeof e.inputStyle&&(r.style=e.inputStyle),e.dir&&(r.dir=e.dir),i.bidi&&t.on("load",function(){i.getInputElement().on("keyup",d)},i),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){r["aria-labelledby"]=this._.labelId,this._.required&&(r["aria-required"]=this._.required);var t,e=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',o,'" '];for(t in r)e.push(t+'="'+CKEDITOR.tools.htmlEncode(r[t])+'" ');return e.push(">",CKEDITOR.tools.htmlEncode(i._["default"]),"</textarea></div>"),e.join("")})}},checkbox:function(o,r,t){if(!(arguments.length<3)){var a=u.call(this,r,{"default":!!r["default"]});r.validate&&(this.validate=r.validate),CKEDITOR.ui.dialog.uiElement.call(this,o,r,t,"span",null,null,function(){var t=CKEDITOR.tools.extend({},r,{id:r.id?r.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),e=[],n=CKEDITOR.tools.getNextId()+"_label",i={"class":"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":n};return g(t),r["default"]&&(i.checked="checked"),"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),a.checkbox=new CKEDITOR.ui.dialog.uiElement(o,t,e,"input",null,i),e.push(' <label id="',n,'" for="',i.id,'"'+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(r.label),"</label>"),e.join("")})}},radio:function(d,h,t){if(!(arguments.length<3)){u.call(this,h),this._["default"]||(this._["default"]=this._.initValue=h.items[0][1]),h.validate&&(this.validate=h.validate);var f=[],p=this;h.role="radiogroup",h.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,d,h,t,function(){for(var t=[],e=[],n=(h.id?h.id:CKEDITOR.tools.getNextId())+"_radio",i=0;i<h.items.length;i++){var o=h.items[i],r=void 0!==o[2]?o[2]:o[0],a=void 0!==o[1]?o[1]:o[0],s=(l=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",l=CKEDITOR.tools.extend({},h,{id:l,title:null,type:null},!0),c=(r=CKEDITOR.tools.extend({},l,{title:r},!0),{type:"radio","class":"cke_dialog_ui_radio_input",name:n,value:a,"aria-labelledby":s}),u=[];p._["default"]==a&&(c.checked="checked"),g(l),g(r),"undefined"!=typeof l.inputStyle&&(l.style=l.inputStyle),l.keyboardFocusable=!0,f.push(new CKEDITOR.ui.dialog.uiElement(d,l,u,"input",null,c)),u.push(" "),new CKEDITOR.ui.dialog.uiElement(d,r,u,"label",null,{id:s,"for":c.id},o[0]),t.push(u.join(""))}return new CKEDITOR.ui.dialog.hbox(d,f,t,e),e.join("")}),this._.children=f}},button:function(t,e,n){if(arguments.length){"function"==typeof e&&(e=e(t.getParentEditor())),u.call(this,e,{disabled:e.disabled||!1}),CKEDITOR.event.implementOn(this);var i=this;t.on("load",function(){var t=this.getElement();t.on("click",function(t){i.click(),t.data.preventDefault()}),t.on("keydown",function(t){t.data.getKeystroke()in{32:1}&&(i.click(),t.data.preventDefault())}),t.unselectable()},this);var o=CKEDITOR.tools.extend({},e);delete o.style;var r=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,o,n,"a",null,{style:e.style,href:"javascript:void(0)",title:e.label,hidefocus:"true","class":e["class"],role:"button","aria-labelledby":r},'<span id="'+r+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(e.label)+"</span>")}},select:function(a,s,t){if(!(arguments.length<3)){var l=u.call(this,s);s.validate&&(this.validate=s.validate),l.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,a,s,t,function(){var t=CKEDITOR.tools.extend({},s,{id:s.id?s.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),e=[],n=[],i={id:l.inputId,"class":"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};e.push('<div class="cke_dialog_ui_input_',s.type,'" role="presentation"'),s.width&&e.push('style="width:'+s.width+'" '),e.push(">"),void 0!==s.size&&(i.size=s.size),void 0!==s.multiple&&(i.multiple=s.multiple),g(t);for(var o,r=0;r<s.items.length&&(o=s.items[r]);r++)n.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==o[1]?o[1]:o[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(o[0]));return"undefined"!=typeof t.inputStyle&&(t.style=t.inputStyle),l.select=new CKEDITOR.ui.dialog.uiElement(a,t,e,"select",null,i,n.join("")),e.push("</div>"),e.join("")})}},file:function(t,e,n){if(!(arguments.length<3)){void 0===e["default"]&&(e["default"]="");var i=CKEDITOR.tools.extend(u.call(this,e),{definition:e,buttons:[]});e.validate&&(this.validate=e.validate),t.on("load",function(){CKEDITOR.document.getById(i.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,e,n,function(){i.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var t=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',i.frameId,'" title="',e.label,'" src="javascript:void('];return t.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),t.push(')"></iframe>'),t.join("")})}},fileButton:function(n,i,t){var e=this;if(!(arguments.length<3)){u.call(this,i),i.validate&&(this.validate=i.validate);var o=CKEDITOR.tools.extend({},i),r=o.onClick;o.className=(o.className?o.className+" ":"")+"cke_dialog_ui_button",o.onClick=function(t){var e=i["for"];!1!==(t=!!r&&r.call(this,t))&&("xhr"!==t&&n.getContentElement(e[0],e[1]).submit(),this.disable())},n.on("load",function(){n.getContentElement(i["for"][0],i["for"][1])._.buttons.push(e)}),CKEDITOR.ui.dialog.button.call(this,n,o,t)}},html:(s=/^\s*<[\w:]+\s+([^>]*)?>/,l=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,c=/\/$/,function(t,e,n){if(!(arguments.length<3)){var i=[],o=e.html;"<"!=o.charAt(0)&&(o="<span>"+o+"</span>");var r=e.focus;if(r){var a=this.focus;this.focus=function(){("function"==typeof r?r:a).call(this),this.fire("focus")},e.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,t,e,i,"span",null,null,""),i=i.join("").match(s),o=o.match(l)||["","",""],c.test(o[1])&&(o[1]=o[1].slice(0,-1),o[2]="/"+o[2]),n.push([o[1]," ",i[1]||"",o[2]].join(""))}}),fieldset:function(t,e,n,i,o){var r=o.label;this._={children:e},CKEDITOR.ui.dialog.uiElement.call(this,t,o,i,"fieldset",null,null,function(){var t=[];r&&t.push("<legend"+(o.labelStyle?' style="'+o.labelStyle+'"':"")+">"+r+"</legend>");for(var e=0;e<n.length;e++)t.push(n[e]);return t.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(t){var e=CKEDITOR.document.getById(this._.labelId);return e.getChildCount()<1?new CKEDITOR.dom.text(t,CKEDITOR.document).appendTo(e):e.getChild(0).$.nodeValue=t,this},getLabel:function(){var t=CKEDITOR.document.getById(this._.labelId);return!t||t.getChildCount()<1?"":t.getChild(0).getText()},eventProcessors:i},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var t=this.getElement();t&&t.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(t,e){this.on("click",function(){e.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(t){if(this.bidi){var e=t&&t.charAt(0);(e="\u202a"==e?"ltr":"\u202b"==e?"rtl":null)&&(t=t.slice(1)),this.setDirectionMarker(e)}return t||(t=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var t=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&t){var e=this.getDirectionMarker();e&&(t=("ltr"==e?"\u202a":"\u202b")+t)}return t},setDirectionMarker:function(t){var e=this.getInputElement();t?e.setAttributes({dir:t,"data-cke-dir-marker":t}):this.getDirectionMarker()&&e.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(t,e,n){var i=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),o=this.getInputElement().$;return i.$.text=t,i.$.value=null==e?t:e,null==n?CKEDITOR.env.ie?o.add(i.$):o.add(i.$,null):o.add(i.$,n),this},remove:function(t){return this.getInputElement().$.remove(t),this},clear:function(){for(var t=this.getInputElement().$;0<t.length;)t.remove(0);return this},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(t,e){this.getInputElement().$.checked=t,!e&&this.fire("change",{value:t})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",e),null)}},keyboardFocusable:!0},n,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(t,e){for(var n,i=this._.children,o=0;o<i.length&&(n=i[o]);o++)n.getElement().$.checked=n.getValue()==t;!e&&this.fire("change",{value:t})},getValue:function(){for(var t=this._.children,e=0;e<t.length;e++)if(t[e].getElement().$.checked)return t[e].getValue();return null},accessKeyUp:function(){var t,e=this._.children;for(t=0;t<e.length;t++)if(e[t].getElement().$.checked)return void e[t].getElement().focus();e[0].getElement().focus()},eventProcessors:{onChange:function(t,e){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?i.onChange.apply(this,arguments):(t.on("load",function(){for(var t=this._.children,e=this,n=0;n<t.length;n++)t[n].getElement().on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.$.checked&&e.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",e),null)}}},n,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,n,{getInputElement:function(){var t=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<t.$.forms.length?new CKEDITOR.dom.element(t.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){t.on("formLoaded",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},reset:function(){function t(){i.$.open();var t="";o.size&&(t=o.size-(CKEDITOR.env.ie?7:0));var e=n.frameId+"_input";for(i.$.write(['<html dir="'+l+'" lang="'+c+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+l+'" lang="'+c+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',n.labelId,'" for="',e,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',e,'" aria-labelledby="',n.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<t?t:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+a+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+s+")}","</script>"].join("")),i.$.close(),t=0;t<r.length;t++)r[t].enable()}var n=this._,i=CKEDITOR.document.getById(n.frameId).getFrameDocument(),o=n.definition,r=n.buttons,a=this.formLoadedNumber,s=this.formUnloadNumber,l=n.dialog._.editor.lang.dir,c=n.dialog._.editor.langCode;a||(a=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),s=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(a),CKEDITOR.tools.removeFunction(s)})),CKEDITOR.env.gecko?setTimeout(t,500):t()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(t,e){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",e)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("tel",t),CKEDITOR.dialog.addUIElement("textarea",e),CKEDITOR.dialog.addUIElement("checkbox",e),CKEDITOR.dialog.addUIElement("radio",e),CKEDITOR.dialog.addUIElement("button",e),CKEDITOR.dialog.addUIElement("select",e),CKEDITOR.dialog.addUIElement("file",e),CKEDITOR.dialog.addUIElement("fileButton",e),CKEDITOR.dialog.addUIElement("html",e),CKEDITOR.dialog.addUIElement("fieldset",{build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function E(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+t,n=e-1;e-t<n;n--)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function v(){for(var t=this._.tabIdList.length,e=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=e+1;n<e+t;n++)if(this._.tabs[this._.tabIdList[n%t]][0].$.offsetHeight)return this._.tabIdList[n%t];return null}function r(t,e){for(var n=t.$.getElementsByTagName("input"),i=0,o=n.length;i<o;i++){var r=new CKEDITOR.dom.element(n[i]);"text"==r.getAttribute("type").toLowerCase()&&(e?(r.setAttribute("value",r.getCustomData("fake_value")||""),r.removeCustomData("fake_value")):(r.setCustomData("fake_value",r.getAttribute("value")),r.setAttribute("value","")))}}function T(t,e){var n=this.getInputElement();n&&(t?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),t||(this.select?this.select():this.focus()),e&&alert(e),this.fire("validated",{valid:t,msg:e})}function y(){var t=this.getInputElement();t&&t.removeAttribute("aria-invalid")}function b(t){var e=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",h).output({id:CKEDITOR.tools.getNextNumber(),editorId:t.id,langDir:t.lang.dir,langCode:t.langCode,editorDialogClass:"cke_editor_"+t.name.replace(/\./g,"\\.")+"_dialog",closeTitle:t.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=e.getChild([0,0,0,0,0]),i=n.getChild(0),o=n.getChild(1);return t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(t="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+t+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),i.unselectable(),o.unselectable(),{element:e,parts:{dialog:e.getChild(0),title:i,close:o,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function i(t,e,n){this.element=e,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!e.getAttribute("disabled")&&e.isVisible()},this.focus=function(){t._.currentFocusIndex=this.focusIndex,this.element.focus()},e.on("keydown",function(t){t.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),e.on("focus",function(){this.fire("mouseover")}),e.on("blur",function(){this.fire("mouseout")})}function l(t){function e(){t.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",e),t.on("hide",function(){n.removeListener("resize",e)})}function a(t,e){this._={dialog:t},CKEDITOR.tools.extend(this,e)}function C(s){function n(t){var e=s.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=t.data.$.screenX,o=t.data.$.screenY,r=i-l.x,a=o-l.y;l={x:i,y:o},c.x+=r,c.y+=a,s.move(c.x+h[3]<d?-h[3]:c.x-h[1]>n.width-e.width-d?n.width-e.width+("rtl"==u.lang.dir?0:h[1]):c.x,c.y+h[0]<d?-h[0]:c.y-h[2]>n.height-e.height-d?n.height-e.height+h[2]:c.y,1),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mousemove",n),CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.env.ie6Compat){var t=R.getChild(0).getFrameDocument();t.removeListener("mousemove",n),t.removeListener("mouseup",i)}}var l=null,c=null,u=s.getParentEditor(),d=u.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];void 0===d&&(d=20),s.parts.title.on("mousedown",function(t){if(l={x:t.data.$.screenX,y:t.data.$.screenY},CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),c=s.getPosition(),CKEDITOR.env.ie6Compat){var e=R.getChild(0).getFrameDocument();e.on("mousemove",n),e.on("mouseup",i)}t.data.preventDefault()},s)}function D(l){function n(t){var e="rtl"==m.lang.dir,n=g.width,i=g.height,o=n+(t.data.$.screenX-p.x)*(e?-1:1)*(l._.moved?1:2),r=i+(t.data.$.screenY-p.y)*(l._.moved?1:2),a=l._.element.getFirst(),s=(a=e&&a.getComputedStyle("right"),l.getPosition());s.y+r>f.height&&(r=f.height-s.y),(e?a:s.x)+o>f.width&&(o=f.width-(e?a:s.x)),u!=CKEDITOR.DIALOG_RESIZE_WIDTH&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(n=Math.max(c.minWidth||0,o-d)),u!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&u!=CKEDITOR.DIALOG_RESIZE_BOTH||(i=Math.max(c.minHeight||0,r-h)),l.resize(n,i),l._.moved||l.layout(),t.data.preventDefault()}function i(){if(CKEDITOR.document.removeListener("mouseup",i),CKEDITOR.document.removeListener("mousemove",n),o&&(o.remove(),o=null),CKEDITOR.env.ie6Compat){var t=R.getChild(0).getFrameDocument();t.removeListener("mouseup",i),t.removeListener("mousemove",n)}}var c=l.definition,u=c.resizable;if(
u!=CKEDITOR.DIALOG_RESIZE_NONE){var d,h,f,p,g,o,m=l.getParentEditor(),e=CKEDITOR.tools.addFunction(function(t){g=l.getSize();var e=l.parts.contents;e.$.getElementsByTagName("iframe").length&&(o=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),e.append(o)),h=g.height-l.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),d=g.width-l.parts.contents.getSize("width",1),p={x:t.screenX,y:t.screenY},f=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",n),CKEDITOR.document.on("mouseup",i),CKEDITOR.env.ie6Compat&&((e=R.getChild(0).getFrameDocument()).on("mousemove",n),e.on("mouseup",i)),t.preventDefault&&t.preventDefault()});l.on("load",function(){var t="";u==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":u==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+m.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(m.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+e+', event )">'+("ltr"==m.lang.dir?"\u25e2":"\u25e3")+"</div>"),l.parts.footer.append(t,1)}),m.on("destroy",function(){CKEDITOR.tools.removeFunction(e)})}}function c(t){t.data.preventDefault(1)}function u(t){var n=CKEDITOR.document.getWindow(),e=t.config,i=CKEDITOR.skinName||t.config.skin,o=e.dialog_backgroundCoverColor||("moono-lisa"==i?"black":"white"),r=(i=e.dialog_backgroundCoverOpacity,e.baseFloatZIndex),a=(e=CKEDITOR.tools.genKey(o,i,r),A[e]);a?a.show():(r=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",r,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+o,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(o="<html><body style=\\'background-color:"+o+";\\'></body></html>",r.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),r.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+o+"' );document.close();")+"})())"),r.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),r.push("</div>"),(a=CKEDITOR.dom.element.createFromHtml(r.join(""))).setOpacity(void 0!==i?i:.5),a.on("keydown",c),a.on("keypress",c),a.on("keyup",c),a.appendTo(CKEDITOR.document.getBody()),A[e]=a),t.focusManager.add(a),R=a;var s=function(){var t=n.getScrollPosition(),e=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:t.x+"px",top:t.y+"px"}),e)for(;t=e.getPosition(),e.move(t.x,t.y),e=e._.parentDialog;);};if(m=t=function(){var t=n.getViewPaneSize();a.setStyles({width:t.width+"px",height:t.height+"px"})},n.on("resize",t),t(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){var l=function(){s(),arguments.callee.prevScrollHandler.apply(this,arguments)};n.$.setTimeout(function(){l.prevScrollHandler=window.onscroll||function(){},window.onscroll=l},0),s()}}function o(t){R&&(t.focusManager.remove(R),t=CKEDITOR.document.getWindow(),R.hide(),t.removeListener("resize",m),CKEDITOR.env.ie6Compat&&t.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),m=null)}var t,n,s,d=CKEDITOR.tools.cssLength,h='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(o,t){function e(){var t=p._.focusList;t.sort(function(t,e){return t.tabIndex!=e.tabIndex?e.tabIndex-t.tabIndex:t.focusIndex-e.focusIndex});for(var e=t.length,n=0;n<e;n++)t[n].focusIndex=n}function r(t){var e=p._.focusList;if(t=t||0,!(e.length<1)){var n=p._.currentFocusIndex;p._.tabBarMode&&t<0&&(n=0);try{e[n].getInputElement().$.blur()}catch(a){}var i=n,o=1<p._.pageCount;do{if(i+=t,o&&!p._.tabBarMode&&(i==e.length||-1==i))return p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),void(p._.currentFocusIndex=-1);if((i=(i+e.length)%e.length)==n)break}while(t&&!e[i].isFocusable());e[i].focus(),"text"==e[i].type&&e[i].select()}}function a(t){if(p==CKEDITOR.dialog._.currentTop){var e=t.data.getKeystroke(),n="rtl"==o.lang.dir,i=[37,38,39,40];if(l=c=0,9==e||e==CKEDITOR.SHIFT+9)r(e==CKEDITOR.SHIFT+9?-1:1),l=1;else if(e==CKEDITOR.ALT+121&&!p._.tabBarMode&&1<p.getPageCount())p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1,l=1;else if(-1!=CKEDITOR.tools.indexOf(i,e)&&p._.tabBarMode)e=-1!=CKEDITOR.tools.indexOf([n?39:37,38],e)?E.call(p):v.call(p),p.selectPage(e),p._.tabs[e][0].focus(),l=1;else if(13!=e&&32!=e||!p._.tabBarMode)if(13==e)(e=t.data.getTarget()).is("a","button","select","textarea")||e.is("input")&&"button"==e.$.type||((e=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(e.click,0,e),l=1),c=1;else{if(27!=e)return;(e=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(e.click,0,e):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),c=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1),l=1;s(t)}}function s(t){l?t.data.preventDefault(1):c&&t.data.stopPropagation()}var l,c,n=CKEDITOR.dialog._.dialogDefinitions[t],i=CKEDITOR.tools.clone(I),u=o.config.dialog_buttonsOrder||"OS",d=o.lang.dir,h={};if(("OS"==u&&CKEDITOR.env.mac||"rtl"==u&&"ltr"==d||"ltr"==u&&"rtl"==d)&&i.buttons.reverse(),n=CKEDITOR.tools.extend(n(o),i),n=CKEDITOR.tools.clone(n),n=new O(this,n),i=b(o),this._={editor:o,element:i.element,name:t,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=i.parts,CKEDITOR.tools.setTimeout(function(){o.fire("ariaWidget",this.parts.contents)},0,this),(i={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==d?"right":"left"]=0,this.parts.dialog.setStyles(i),CKEDITOR.event.call(this),this.definition=n=CKEDITOR.fire("dialogDefinition",{name:t,definition:n},o).definition,!("removeDialogTabs"in o._)&&o.config.removeDialogTabs){for(i=o.config.removeDialogTabs.split(";"),d=0;d<i.length;d++)if(2==(u=i[d].split(":")).length){var f=u[0];h[f]||(h[f]=[]),h[f].push(u[1])}o._.removeDialogTabs=h}if(o._.removeDialogTabs&&(h=o._.removeDialogTabs[t]))for(d=0;d<h.length;d++)n.removeContents(h[d]);n.onLoad&&this.on("load",n.onLoad),n.onShow&&this.on("show",n.onShow),n.onHide&&this.on("hide",n.onHide),n.onOk&&this.on("ok",function(t){o.fire("saveSnapshot"),setTimeout(function(){o.fire("saveSnapshot")},0),!1===n.onOk.call(this,t)&&(t.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,n.onCancel&&this.on("cancel",function(t){!1===n.onCancel.call(this,t)&&(t.data.hide=!1)});var p=this,g=function(t){var e,n=p._.contents;for(e in n)for(var i in n[e])if(t.call(this,n[e][i]))return};this.on("ok",function(i){g(function(t){if(t.validate){var e=t.validate(this),n="string"==typeof e||!1===e;return n&&(i.data.hide=!1,i.stop()),T.call(t,!n,"string"==typeof e?e:void 0),n}})},this,null,0),this.on("cancel",function(e){g(function(t){if(t.isChanged())return o.config.dialog_noConfirmCancel||confirm(o.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(t){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),t.data.preventDefault()},this),this.changeFocus=r;var m=this._.element;for(o.focusManager.add(m,1),this.on("show",function(){m.on("keydown",a,this),CKEDITOR.env.gecko&&m.on("keypress",s,this)}),this.on("hide",function(){m.removeListener("keydown",a),CKEDITOR.env.gecko&&m.removeListener("keypress",s),g(function(t){y.apply(t)})}),this.on("iframeAdded",function(t){new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown",a,this,null,0)}),this.on("show",function(){e();var t=1<p._.pageCount;o.config.dialog_startupFocusTab&&t?(p._.tabBarMode=!0,p._.tabs[p._.currentTabId][0].focus(),p._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=t?-1:this._.focusList.length-1,n.onFocus?(t=n.onFocus.call(this))&&t.focus():r(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var t=this.getElement(),e=t.getFirst();e.remove(),e.appendTo(t)},this),C(this),D(this),new CKEDITOR.dom.text(n.title,CKEDITOR.document).appendTo(this.parts.title),d=0;d<n.contents.length;d++)(h=n.contents[d])&&this.addPage(h);for(this.parts.tabs.on("click",function(t){var e=t.data.getTarget();e.hasClass("cke_dialog_tab")&&(e=e.$.id,this.selectPage(e.substring(4,e.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1)),t.data.preventDefault())},this),d=[],h=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:n.buttons},d).getChild(),this.parts.footer.setHtml(d.join("")),d=0;d<h.length;d++)this._.buttons[h[d].id]=h[d]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(t,e){this._.contentSize&&this._.contentSize.width==t&&this._.contentSize.height==e||(CKEDITOR.dialog.fire("resize",{dialog:this,width:t,height:e},this._.editor),this.fire("resize",{width:t,height:e},this._.editor),this.parts.contents.setStyles({width:t+"px",height:e+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:t,height:e})},getSize:function(){var t=this._.element.getFirst();return{width:t.$.offsetWidth||0,height:t.$.offsetHeight||0}},move:function(t,e,n){var i=this._.element.getFirst(),o="rtl"==this._.editor.lang.dir,r="fixed"==i.getComputedStyle("position");CKEDITOR.env.ie&&i.setStyle("zoom","100%"),r&&this._.position&&this._.position.x==t&&this._.position.y==e||(this._.position={x:t,y:e},r||(t+=(r=CKEDITOR.document.getWindow().getScrollPosition()).x,e+=r.y),o&&(r=this.getSize(),t=CKEDITOR.document.getWindow().getViewPaneSize().width-r.width-t),(e={top:(0<e?e:0)+"px"})[o?"right":"left"]=(0<t?t:0)+"px",i.setStyles(e),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var t=this._.element,e=this.definition;for(var n in t.getParent()&&t.getParent().equals(CKEDITOR.document.getBody())?t.setStyle("display","block"):t.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||e.width||e.minWidth,this._.contentSize&&this._.contentSize.height||e.height||e.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?((CKEDITOR.dialog._.currentTop=this)._.parentDialog=null,u(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),t.on("keydown",L),t.on("keyup",P),this._.hasFocus=!1,e.contents)if(e.contents[n]){t=e.contents[n];var i=this._.tabs[t.id],o=t.requiredContent,r=0;if(i){for(var a in this._.contents[t.id]){var s=this._.contents[t.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),r++))}!r||o&&!this._.editor.activeFilter.check(o)?i[0].addClass("cke_dialog_tab_disabled"):i[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),l(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(t){t.setInitValue&&t.setInitValue()})},100,this)},layout:function(){var t=this.parts.dialog,e=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),i=(n.width-e.width)/2,o=(n.height-e.height)/2;CKEDITOR.env.ie6Compat||(e.height+(0<o?o:0)>n.height||e.width+(0<i?i:0)>n.width?t.setStyle("position","absolute"):t.setStyle("position","fixed")),this.move(this._.moved?this._.position.x:i,this._.moved?this._.position.y:o)},foreach:function(t){for(var e in this._.contents)for(var n in this._.contents[e])t.call(this,this._.contents[e][n]);return this},reset:(t=function(t){t.reset&&t.reset(1)},function(){return this.foreach(t),this}),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var t=this._.element;for(t.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),B(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var e=this._.parentDialog.getElement().getFirst();e.setStyle("z-index",parseInt(e.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else o(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,t.removeListener("keydown",L),t.removeListener("keyup",P);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(t){t.resetInitValue&&t.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(t){if(!t.requiredContent||this._.editor.filter.check(t.requiredContent)){for(var e=[],n=t.label?' title="'+CKEDITOR.tools.htmlEncode(t.label)+'"':"",i=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:t.elements,expand:!!t.expand,padding:t.padding,style:t.style||"width: 100%;"},e),o=this._.contents[t.id]={},r=i.getChild(),a=0;i=r.shift();)i.notAllowed||"hbox"==i.type||"vbox"==i.type||a++,"function"==typeof(o[i.id]=i).getChild&&r.push.apply(r,i.getChild());a||(t.hidden=!0),(e=CKEDITOR.dom.element.createFromHtml(e.join(""))).setAttribute("role","tabpanel"),i=CKEDITOR.env,o="cke_"+t.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,t.hidden?' style="display:none"':"",' id="',o,'"',i.gecko&&!i.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',t.label,"</a>"].join("")),e.setAttribute("aria-labelledby",o),this._.tabs[t.id]=[n,e],this._.tabIdList.push(t.id),!t.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),e.setAttribute("name",t.id),e.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),t.accessKey&&(F(this,this,"CTRL+"+t.accessKey,$,M),this._.accessKeyMap["CTRL+"+t.accessKey]=t.id)}},selectPage:function(t){if(this._.currentTabId!=t&&!this._.tabs[t][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:t,currentPage:this._.currentTabId})){for(var e in this._.tabs){var n=this._.tabs[e][0],i=this._.tabs[e][1];e!=t&&(n.removeClass("cke_dialog_tab_selected"),i.hide()),i.setAttribute("aria-hidden",e!=t)}var o=this._.tabs[t];o[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(r(o[1]),o[1].show(),setTimeout(function(){r(o[1],1)},0)):o[1].show(),this._.currentTabId=t,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,t)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var e=this._.tabs[t]&&this._.tabs[t][0];e&&1!=this._.pageCount&&e.isVisible()&&(t==this._.currentTabId&&this.selectPage(E.call(this)),e.hide(),this._.pageCount--,this.updateStyle())},showPage:function(t){(t=this._.tabs[t]&&this._.tabs[t][0])&&(t.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(t,e){var n=this._.contents[t];return n&&n[e]},getValueOf:function(t,e){return this.getContentElement(t,e).getValue()},setValueOf:function(t,e,n){return this.getContentElement(t,e).setValue(n)},getButton:function(t){return this._.buttons[t]},click:function(t){return this._.buttons[t].click()},disableButton:function(t){return this._.buttons[t].disable()},enableButton:function(t){return this._.buttons[t].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(t,e){if(void 0===e)e=this._.focusList.length,this._.focusList.push(new i(this,t,e));else{this._.focusList.splice(e,0,new i(this,t,e));for(var n=e+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(t){if(this.state!=t){if((this.state=t)==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var e=this.getParentEditor().lang.dir,n={attributes:{"class":"cke_dialog_spinner"},styles:{"float":"rtl"==e?"right":"left"}};n.styles["margin-"+("rtl"==e?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else t==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",t)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(t,e){this._.dialogDefinitions[t]&&"function"!=typeof e||(this._.dialogDefinitions[t]=e)},exists:function(t){return!!this._.dialogDefinitions[t]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(t,e,n){return!((t=t.config.removeDialogTabs)&&t.match(new RegExp("(?:^|;)"+e+":"+n+"(?:$|;)","i")))},okButton:(s=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:t.lang.common.ok,"class":"cke_dialog_ui_button_ok",onClick:function(t){!1!==(t=t.data.dialog).fire("ok",{hide:!0}).hide&&t.hide()}},e,!0)},s.type="button",s.override=function(e){return CKEDITOR.tools.extend(function(t){return s(t,e)},{type:"button"},!0)},s),cancelButton:(n=function(t,e){return e=e||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:t.lang.common.cancel,"class":"cke_dialog_ui_button_cancel",onClick:function(t){!1!==(t=t.data.dialog).fire("cancel",{hide:!0}).hide&&t.hide()}},e,!0)},n.type="button",n.override=function(e){return CKEDITOR.tools.extend(function(t){return n(t,e)},{type:"button"},!0)},n),addUIElement:function(t,e){this._.uiElementBuilders[t]=e}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var I={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},f=function(t,e,n){for(var i,o=0;i=t[o];o++)if(i.id==e||n&&i[n]&&(i=f(i[n],e,n)))return i;return null},p=function(t,e,n,i,o){if(n){for(var r,a=0;r=t[a];a++){if(r.id==n)return t.splice(a,0,e),e;if(i&&r[i]&&(r=p(r[i],e,n,i,!0)))return r}if(o)return null}return t.push(e),e},g=function(t,e,n){for(var i,o=0;i=t[o];o++){if(i.id==e)return t.splice(o,1);if(n&&i[n]&&(i=g(i[n],e,n)))return i}return null},O=function(t,e){this.dialog=t;for(var n,i=e.contents,o=0;n=i[o];o++)i[o]=n&&new a(t,n);CKEDITOR.tools.extend(this,e)};O.prototype={getContents:function(t){return f(this.contents,t)},getButton:function(t){return f(this.buttons,t)},addContents:function(t,e){return p(this.contents,t,e)},addButton:function(t,e){return p(this.buttons,t,e)},removeContents:function(t){g(this.contents,t)},removeButton:function(t){g(this.buttons,t)}},a.prototype={get:function(t){return f(this.elements,t,"children")},add:function(t,e){return p(this.elements,t,e,"children")},remove:function(t){g(this.elements,t,"children")}};var m,R,e,k,_,w,K,x,S,A={},N={},L=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=N[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keydown&&e.keydown.call(e.uiElement,e.dialog,e.key),t.data.preventDefault())},P=function(t){var e=t.data.$.ctrlKey||t.data.$.metaKey,n=t.data.$.altKey,i=t.data.$.shiftKey,o=String.fromCharCode(t.data.$.keyCode);(e=N[(e?"CTRL+":"")+(n?"ALT+":"")+(i?"SHIFT+":"")+o])&&e.length&&((e=e[e.length-1]).keyup&&(e.keyup.call(e.uiElement,e.dialog,e.key),t.data.preventDefault()))},F=function(t,e,n,i,o){(N[n]||(N[n]=[])).push({uiElement:t,dialog:e,key:n,keyup:o||t.accessKeyUp,keydown:i||t.accessKeyDown})},B=function(t){for(var e in N){for(var n=N[e],i=n.length-1;0<=i;i--)n[i].dialog!=t&&n[i].uiElement!=t||n.splice(i,1);0===n.length&&delete N[e]}},M=function(t,e){t._.accessKeyMap[e]&&t.selectPage(t._.accessKeyMap[e])},$=function(){};CKEDITOR.ui.dialog={uiElement:function(n,i,t,e,o,r,a){if(!(arguments.length<4)){var s=(e.call?e(i):e)||"div",l=["<",s," "],c=(o&&o.call?o(i):o)||{},u=(r&&r.call?r(i):r)||{},d=(a&&a.call?a.call(this,n,i):a)||"",h=this.domId=u.id||CKEDITOR.tools.getNextId()+"_uiElement";i.requiredContent&&!n.getParentEditor().filter.check(i.requiredContent)&&(c.display="none",this.notAllowed=!0),u.id=h;var f={};i.type&&(f["cke_dialog_ui_"+i.type]=1),i.className&&(f[i.className]=1),i.disabled&&(f.cke_disabled=1);var p=u["class"]&&u["class"].split?u["class"].split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in u["class"]=p.join(" "),i.title&&(u.title=i.title),f=(i.style||"").split(";"),i.align&&(p=i.align,c["margin-left"]="left"==p?0:"auto",c["margin-right"]="right"==p?0:"auto"),c)f.push(h+":"+c[h]);for(i.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(u.style=(u.style?u.style+"; ":"")+f.join("; ")),u)l.push(h+'="'+CKEDITOR.tools.htmlEncode(u[h])+'" ');l.push(">",d,"</",s,">"),t.push(l.join("")),(this._||(this._={})).dialog=n,"boolean"==typeof i.isChanged&&(this.isChanged=function(){return i.isChanged}),"function"==typeof i.isChanged&&(this.isChanged=i.isChanged),"function"==typeof i.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(t){e.call(this,i.setValue.call(this,t))}})),"function"==typeof i.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(t){return function(){return i.getValue.call(this,t.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(i),this.accessKeyUp&&this.accessKeyDown&&i.accessKey&&F(this,n,"CTRL+"+i.accessKey);var g=this;n.on("load",function(){var t=g.getInputElement();if(t){var e=g.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?"cke_dialog_ui_focused":"";t.on("focus",function(){n._.tabBarMode=!1,n._.hasFocus=!0,g.fire("focus"),e&&this.addClass(e)}),t.on("blur",function(){g.fire("blur"),e&&this.removeClass(e)})}}),CKEDITOR.tools.extend(this,i),this.keyboardFocusable&&(this.tabIndex=i.tabIndex||0,this.focusIndex=n._.focusList.push(this)-1,this.on("focus",function(){n._.currentFocusIndex=g.focusIndex}))}},hbox:function(t,e,i,n,o){if(!(arguments.length<4)){this._||(this._={});var r,a=this._.children=e,s=o&&o.widths||null,l=o&&o.height||null,c={role:"presentation"};o&&o.align&&(c.align=o.align),CKEDITOR.ui.dialog.uiElement.call(this,t,o||{type:"hbox"},n,"table",{},c,function(){var t=['<tbody><tr class="cke_dialog_ui_hbox">'];for(r=0;r<i.length;r++){var e="cke_dialog_ui_hbox_child",n=[];0===r&&(e="cke_dialog_ui_hbox_first"),r==i.length-1&&(e="cke_dialog_ui_hbox_last"),t.push('<td class="',e,'" role="presentation" '),s?s[r]&&n.push("width:"+d(s[r])):n.push("width:"+Math.floor(100/i.length)+"%"),l&&n.push("height:"+d(l)),o&&void 0!==o.padding&&n.push("padding:"+d(o.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[r].align&&n.push("text-align:"+a[r].align),0<n.length&&t.push('style="'+n.join("; ")+'" '),t.push(">",i[r],"</td>")}return t.push("</tr></tbody>"),t.join("")})}},vbox:function(i,t,o,e,r){if(!(arguments.length<3)){this._||(this._={});var a=this._.children=t,s=r&&r.width||null,l=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,i,r||{type:"vbox"},e,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),r&&r.expand&&t.push("height:100%;"),t.push("width:"+d(s||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==i.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var e=0;e<o.length;e++){var n=[];t.push('<tr><td role="presentation" '),s&&n.push("width:"+d(s||"100%")),l?n.push("height:"+d(l[e])):r&&r.expand&&n.push("height:"+Math.floor(100/o.length)+"%"),r&&void 0!==r.padding&&n.push("padding:"+d(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[e].align&&n.push("text-align:"+a[e].align),0<n.length&&t.push('style="',n.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',o[e],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(t,e){return this.getInputElement().setValue(t),!e&&this.fire("change",{value:t}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var t=this.getInputElement();(t=t.getParent())&&-1==t.$.className.search("cke_dialog_page_contents"););return t&&(t=t.getAttribute("name"),this._.dialog._.currentTabId!=t&&this._.dialog.selectPage(t)),this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(t){var e,n,i=/^on([A-Z]\w+)/,o=function(t,e,n,i){e.on("load",function(){t.getInputElement().on(n,i,t)})};for(n in t)(e=n.match(i))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,t[n]):o(this,this._.dialog,e[1].toLowerCase(),t[n]));return this},eventProcessors:{onLoad:function(t,e){t.on("load",e,this)},onShow:function(t,e){t.on("show",e,this)},onHide:function(t,e){t.on("hide",e,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var t=this.getElement();this.getInputElement().setAttribute("disabled","true"),t.addClass("cke_disabled")},enable:function(){var t=this.getElement();this.getInputElement().removeAttribute("disabled"),t.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(t){return arguments.length<1?this._.children.concat():(t.splice||(t=[t]),t.length<2?this._.children[t[0]]:this._.children[t[0]]&&this._.children[t[0]].getChild?this._.children[t[0]].getChild(t.slice(1,t.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,e={build:function(t,e,n){for(var i,o=e.children,r=[],a=[],s=0;s<o.length&&(i=o[s]);s++){var l=[];r.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[i.type].build(t,i,l))}return new CKEDITOR.ui.dialog[e.type](t,a,r,n,e)}},CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e),CKEDITOR.dialogCommand=function(t,e){this.dialogName=t,CKEDITOR.tools.extend(this,e,!0)},CKEDITOR.dialogCommand.prototype={exec:function(t){var e=this.tabId;t.openDialog(this.dialogName,function(t){e&&t.selectPage(e)})},canUndo:!1,editorFocus:1},k=/^([a]|[^a])+$/,_=/^\d*$/,w=/^\d*(?:\.\d+)?$/,K=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,x=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,S=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/,CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var t,e,n=this&&this.getValue?this.getValue():a[0],i=CKEDITOR.VALIDATE_AND,o=[];for(e=0;e<a.length&&"function"==typeof a[e];e++)o.push(a[e]);e<a.length&&"string"==typeof a[e]&&(t=a[e],e++),e<a.length&&"number"==typeof a[e]&&(i=a[e]);var r=i==CKEDITOR.VALIDATE_AND;for(e=0;e<o.length;e++)r=i==CKEDITOR.VALIDATE_AND?r&&o[e](n):r||o[e](n);return!!r||t}},regex:function(e,n){return function(t){return t=this&&this.getValue?this.getValue():t,!!e.test(t)||n}},notEmpty:function(t){return this.regex(k,t)},integer:function(t){return this.regex(_,t)},number:function(t){return this.regex(w,t)},cssLength:function(t){return this.functions(function(t){return x.test(CKEDITOR.tools.trim(t))},t)},htmlLength:function(t){return this.functions(function(t){return K.test(CKEDITOR.tools.trim(t))},t)},inlineStyle:function(t){return this.functions(function(t){return S.test(CKEDITOR.tools.trim(t))},t)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(t){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var e;e=CKEDITOR.dialog._.currentTop;)e.hide();for(var n in A)A[n].remove();A={}}for(var i in t=t.editor._.storedDialogs)t[i].destroy()}),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(t,e){var n=null,i=CKEDITOR.dialog._.dialogDefinitions[t];if(null===CKEDITOR.dialog._.currentTop&&u(this),"function"==typeof i)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[t]||(n[t]=new CKEDITOR.dialog(this,t)),e&&e.call(n,n),n.show();else{if("failed"==i)throw o(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+t+'" failed when loading definition.');"string"==typeof i&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[t]&&(CKEDITOR.dialog._.dialogDefinitions[t]="failed"),this.openDialog(t,e)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(t){var e=t.addCommand("about",new CKEDITOR.dialogCommand("about"));e.modes={wysiwyg:1,source:1},e.canUndo=!1,e.readOnly=1,t.ui.addButton&&t.ui.addButton("About",{label:t.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var n=this;e.addCommand("a11yHelp",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en",CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){e.lang.a11yhelp=n.langEntries[t],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}}),
function(){function a(t){var e=this.att;void 0!==(t=t&&t.hasAttribute(e)&&t.getAttribute(e)||"")&&this.setValue(t)}function s(){for(var t,e=0;e<arguments.length;e++)if(arguments[e]instanceof CKEDITOR.dom.element){t=arguments[e];break}if(t){e=this.att;var n=this.getValue();n?t.setAttribute(e,n):t.removeAttribute(e,n)}}var l={id:1,dir:1,classes:1,styles:1};CKEDITOR.plugins.add("dialogadvtab",{requires:"dialog",allowedContent:function(t){t||(t=l);var e=[];t.id&&e.push("id"),t.dir&&e.push("dir");var n="";return e.length&&(n+="["+e.join(",")+"]"),t.classes&&(n+="(*)"),t.styles&&(n+="{*}"),n},createAdvancedTab:function(o,t,e){t||(t=l);var n=o.lang.common,i={id:"advanced",label:n.advancedTab,title:n.advancedTab,elements:[{type:"vbox",padding:1,children:[]}]},r=[];return(t.id||t.dir)&&(t.id&&r.push({id:"advId",att:"id",type:"text",requiredContent:e?e+"[id]":null,label:n.id,setup:a,commit:s}),t.dir&&r.push({id:"advLangDir",att:"dir",type:"select",requiredContent:e?e+"[dir]":null,label:n.langDir,"default":"",style:"width:100%",items:[[n.notSet,""],[n.langDirLTR,"ltr"],[n.langDirRTL,"rtl"]],setup:a,commit:s}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),(t.styles||t.classes)&&(r=[],t.styles&&r.push({id:"advStyles",att:"style",type:"text",requiredContent:e?e+"{cke-xyz}":null,label:n.styles,"default":"",validate:CKEDITOR.dialog.validate.inlineStyle(n.invalidInlineStyle),onChange:function(){},getStyle:function(t,e){var n=this.getValue().match(new RegExp("(?:^|;)\\s*"+t+"\\s*:\\s*([^;]*)","i"));return n?n[1]:e},updateStyle:function(t,e){var n=this.getValue(),i=o.document.createElement("span");i.setAttribute("style",n),i.setStyle(t,e),n=CKEDITOR.tools.normalizeCssText(i.getAttribute("style")),this.setValue(n,1)},setup:a,commit:s}),t.classes&&r.push({type:"hbox",widths:["45%","55%"],children:[{id:"advCSSClasses",att:"class",type:"text",requiredContent:e?e+"(cke-xyz)":null,label:n.cssClasses,"default":"",setup:a,commit:s}]}),i.elements[0].children.push({type:"hbox",widths:["50%","50%"],children:[].concat(r)})),i}})}(),CKEDITOR.plugins.add("basicstyles",{init:function(r){var a=0,t=function(t,e,n,i){if(i){i=new CKEDITOR.style(i);var o=s[n];o.unshift(i),r.attachStyleStateChange(i,function(t){!r.readOnly&&r.getCommand(n).setState(t)}),r.addCommand(n,new CKEDITOR.styleCommand(i,{contentForms:o})),r.ui.addButton&&r.ui.addButton(t,{label:e,command:n,toolbar:"basicstyles,"+(a+=10)})}},s={bold:["strong","b",["span",function(t){return"bold"==(t=t.styles["font-weight"])||700<=+t}]],italic:["em","i",["span",function(t){return"italic"==t.styles["font-style"]}]],underline:["u",["span",function(t){return"underline"==t.styles["text-decoration"]}]],strike:["s","strike",["span",function(t){return"line-through"==t.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},e=r.config,n=r.lang.basicstyles;t("Bold",n.bold,"bold",e.coreStyles_bold),t("Italic",n.italic,"italic",e.coreStyles_italic),t("Underline",n.underline,"underline",e.coreStyles_underline),t("Strike",n.strike,"strike",e.coreStyles_strike),t("Subscript",n.subscript,"subscript",e.coreStyles_subscript),t("Superscript",n.superscript,"superscript",e.coreStyles_superscript),r.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){function f(t,e,n,i){if(!t.isReadOnly()&&!t.equals(n.editable())){CKEDITOR.dom.element.setMarker(i,t,"bidi_processed",1),i=t;for(var o=n.editable();(i=i.getParent())&&!i.equals(o);)if(i.getCustomData("bidi_processed"))return t.removeStyle("direction"),void t.removeAttribute("dir");((i="useComputedState"in n.config?n.config.useComputedState:1)?t.getComputedStyle("direction"):t.getStyle("direction")||t.hasAttribute("dir"))!=e&&(t.removeStyle("direction"),i?(t.removeAttribute("dir"),e!=t.getComputedStyle("direction")&&t.setAttribute("dir",e)):t.setAttribute("dir",e),n.forceNextSelectionCheck())}}function p(t,e,n){var i=t.getCommonAncestor(!1,!0);if((t=t.clone()).enlarge(n==CKEDITOR.ENTER_BR?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),t.checkBoundaryOfElement(i,CKEDITOR.START)&&t.checkBoundaryOfElement(i,CKEDITOR.END)){for(var o;i&&i.type==CKEDITOR.NODE_ELEMENT&&(o=i.getParent())&&1==o.getChildCount()&&!(i.getName()in e);)i=o;return i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in e&&i}}function n(h){return{context:"p",allowedContent:{"h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td":{propertiesOnly:!0,attributes:"dir"}},requiredContent:"p[dir]",refresh:function(t,e){var n,i;if(!(i=void 0===(i=t.config.useComputedState)||i)){n=e.lastElement;for(var o=t.editable();n&&!(n.getName()in a||n.equals(o));){var r=n.getParent();if(!r)break;n=r}}(n=n||e.block||e.blockLimit).equals(t.editable())&&(o=t.getSelection().getRanges()[0].getEnclosedNode())&&o.type==CKEDITOR.NODE_ELEMENT&&(n=o),n&&(i=i?n.getComputedStyle("direction"):n.getStyle("direction")||n.getAttribute("dir"),t.getCommand("bidirtl").setState("rtl"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),t.getCommand("bidiltr").setState("ltr"==i?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)),(i=(e.block||e.blockLimit||t.editable()).getDirection(1))!=(t._.selDir||t.lang.dir)&&(t._.selDir=i,t.fire("contentDirChanged",i))},exec:function(t){var e=t.getSelection(),i=t.config.enterMode;if((a=e.getRanges())&&a.length){for(var n,o={},r=e.createBookmarks(),a=a.createIterator(),s=0;n=a.getNextRange(1);){var l=n.getEnclosedNode();l&&(!l||l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in m)||(l=p(n,g,i)),l&&f(l,h,t,o);var c=new CKEDITOR.dom.walker(n),u=r[s].startNode,d=r[s++].endNode;for(c.evaluator=function(t){var e,n=i==CKEDITOR.ENTER_P?"p":"div";return(e=!!t&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in g)&&((n=t.is(n))&&(n=!!(n=t.getParent())&&n.type==CKEDITOR.NODE_ELEMENT),e=!(n&&t.getParent().is("blockquote"))),!!(e&&t.getPosition(u)&CKEDITOR.POSITION_FOLLOWING&&(t.getPosition(d)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_CONTAINS)==CKEDITOR.POSITION_PRECEDING)};l=c.next();)f(l,h,t,o);for((n=n.createIterator()).enlargeBr=i!=CKEDITOR.ENTER_BR;l=n.getNextParagraph(i==CKEDITOR.ENTER_P?"p":"div");)f(l,h,t,o)}CKEDITOR.dom.element.clearAllMarkers(o),t.forceNextSelectionCheck(),e.selectBookmarks(r),t.focus()}}}}function t(o){var r=o==e.setAttribute,a=o==e.removeAttribute,s=/\bdirection\s*:\s*(.*?)\s*(:?$|;)/;return function(t,e){if(!this.isReadOnly()){var n;if(n=t==(r||a?"dir":"direction")||"style"==t&&(a||s.test(e))){t:{for(var i=(n=this).getDocument().getBody().getParent();n;){if(n.equals(i)){n=!1;break t}n=n.getParent()}n=!0}n=!n}if(n&&(n=this.getDirection(1),i=o.apply(this,arguments),n!=this.getDirection(1)))return this.getDocument().fire("dirChanged",this),i}return o.apply(this,arguments)}}var g={table:1,ul:1,ol:1,blockquote:1,div:1},m={},a={};CKEDITOR.tools.extend(m,g,{tr:1,p:1,div:1,li:1}),CKEDITOR.tools.extend(a,m,{td:1}),CKEDITOR.plugins.add("bidi",{init:function(r){function t(t,e,n,i,o){r.addCommand(n,new CKEDITOR.command(r,i)),r.ui.addButton&&r.ui.addButton(t,{label:e,command:n,toolbar:"bidi,"+o})}if(!r.blockless){var e=r.lang.bidi;t("BidiLtr",e.ltr,"bidiltr",n("ltr"),10),t("BidiRtl",e.rtl,"bidirtl",n("rtl"),20),r.on("contentDom",function(){r.document.on("dirChanged",function(t){r.fire("dirChanged",{node:t.data,dir:t.data.getDirection(1)})})}),r.on("contentDirChanged",function(t){t=(r.lang.dir!=t.data?"add":"remove")+"Class";var e=r.ui.space(r.config.toolbarLocation);e&&e[t]("cke_mixed_dir_content")})}}});for(var e=CKEDITOR.dom.element.prototype,i=["setStyle","removeStyle","setAttribute","removeAttribute"],o=0;o<i.length;o++)e[i[o]]=CKEDITOR.tools.override(e[i[o]],t)}(),I={exec:function(t){var e=t.getCommand("blockquote").state,n=t.getSelection(),i=n&&n.getRanges()[0];if(i){var o=n.createBookmarks();if(CKEDITOR.env.ie){var r,a=o[0].startNode,s=o[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(r=a;r=r.getNext();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){a.move(r,!0);break}if(s&&"blockquote"==s.getParent().getName())for(r=s;r=r.getPrevious();)if(r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()){s.move(r);break}}if((l=i.createIterator()).enlargeBr=t.config.enterMode!=CKEDITOR.ENTER_BR,e==CKEDITOR.TRISTATE_OFF){for(a=[];e=l.getNextParagraph();)a.push(e);for(a.length<1&&(e=t.document.createElement(t.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=o.shift(),i.insertNode(e),e.append(new CKEDITOR.dom.text("\ufeff",t.document)),i.moveToBookmark(s),i.selectNodeContents(e),i.collapse(!0),s=i.createBookmark(),a.push(e),o.unshift(s)),r=a[0].getParent(),i=[],s=0;s<a.length;s++)e=a[s],r=r.getCommonAncestor(e.getParent());for(e={table:1,tbody:1,tr:1,ol:1,ul:1};e[r.getName()];)r=r.getParent();for(s=null;0<a.length;){for(e=a.shift();!e.getParent().equals(r);)e=e.getParent();e.equals(s)||i.push(e),s=e}for(;0<i.length;)if("blockquote"==(e=i.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document);e.getFirst();)s.append(e.getFirst().remove()),a.push(s.getLast());s.replace(e)}else a.push(e);for((i=t.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)e=a.shift(),i.append(e)}else if(e==CKEDITOR.TRISTATE_ON){for(s=[],r={};e=l.getNextParagraph();){for(a=i=null;e.getParent();){if("blockquote"==e.getParent().getName()){i=e.getParent(),a=e;break}e=e.getParent()}i&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(r,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(r),e=[],a=[],r={};0<s.length;)i=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(i):l.remove().insertBefore(i),i.getCustomData("blockquote_processed")||(a.push(i),CKEDITOR.dom.element.setMarker(r,i,"blockquote_processed",!0)),e.push(l);for(CKEDITOR.dom.element.clearAllMarkers(r),s=a.length-1;0<=s;s--){t:{for(var l=0,c=(r=i=a[s]).getChildCount(),u=void 0;l<c&&(u=r.getChild(l));l++)if(u.type==CKEDITOR.NODE_ELEMENT&&u.isBlockBoundary()){r=!1;break t}r=!0}r&&i.remove()}if(t.config.enterMode==CKEDITOR.ENTER_BR)for(i=!0;e.length;)if("div"==(l=e.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(t.document),!i||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(t.document.createElement("br")),i=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);i&&s.append(t.document.createElement("br")),s.replace(l),i=!1}}n.selectBookmarks(o),t.focus()}},refresh:function(t,e){this.setState(t.elementPath(e.block||e.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"},CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",I),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}}),function(){function t(t,e){CKEDITOR.tools.extend(this,e,{editor:t,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:t._.notificationArea}),e.type||(this.type="info"),this.element=this._createElement(),t.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function e(t){var e=this;this.editor=t,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),t.on("destroy",function(){e._removeListeners(),e.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(r){function n(t){var e=new CKEDITOR.dom.element("div");e.setStyles({position:"fixed","margin-left":"-9999px"}),e.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),e.setText(t),CKEDITOR.document.getBody().append(e),setTimeout(function(){e.remove()},100)}r._.notificationArea=new e(r),r.showNotification=function(t,e,n){var i,o;return"progress"==e?i=n:o=n,(t=new CKEDITOR.plugins.notification(r,{message:t,type:e,progress:i,duration:o})).show(),t},r.on("key",function(t){if(27==t.data.keyCode){var e=r._.notificationArea.notifications;e.length&&(n(r.lang.notification.closed),e[e.length-1].hide(),t.cancel())}})}}),t.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(t){var e=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:t})&&(e=!1);var n=this.element,i=n.findOne(".cke_notification_message"),o=n.findOne(".cke_notification_progress"),r=t.type;n.removeAttribute("role"),t.progress&&"progress"!=this.type&&(r="progress"),r&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=r,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||o?"progress"!=this.type&&o&&o.remove():(o=this._createProgressElement()).insertBefore(i)),void 0!==t.message&&(this.message=t.message,i.setHtml(this.message)),void 0!==t.progress&&(this.progress=t.progress,o&&o.setStyle("width",this._getPercentageProgress())),e&&t.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=t.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var t,e,n=this,i=this.editor.lang.common.close;return(t=new CKEDITOR.dom.element("div")).addClass("cke_notification"),t.addClass(this._getClass()),t.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&t.append(this._createProgressElement()),(e=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),e.setHtml(this.message),t.append(e),e=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+i+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),t.append(e),e.on("click",function(){n.editor.focus(),n.hide()}),t},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var t=new CKEDITOR.dom.element("span");return t.addClass("cke_notification_progress"),t.setStyle("width",this._getPercentageProgress()),t},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var t,e=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?t=this.duration:"info"!=this.type&&"success"!=this.type||(t="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),t&&(e._hideTimeoutId=setTimeout(function(){e.hide()},t))}},e.prototype={add:function(t){this.notifications.push(t),this.element.append(t.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(t){var e=CKEDITOR.tools.indexOf(this.notifications,t);e<0||(this.notifications.splice(e,1),t.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var t=this.editor,e=t.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+t.name),n.setStyle("z-index",e.baseFloatZIndex-2),n},_attachListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.on("scroll",this._uiBuffer.input),t.on("resize",this._uiBuffer.input),e.on("change",this._changeBuffer.input),e.on("floatingSpaceLayout",this._layout,this,null,20),e.on("blur",this._layout,this,null,20)},_removeListeners:function(){var t=CKEDITOR.document.getWindow(),e=this.editor;t.removeListener("scroll",this._uiBuffer.input),t.removeListener("resize",this._uiBuffer.input),e.removeListener("change",this._changeBuffer.input),e.removeListener("floatingSpaceLayout",this._layout),e.removeListener("blur",this._layout)},_layout:function(){function t(){o.setStyle("left",g(m+a.width-c-u))}var e,n,i,o=this.element,r=this.editor,a=r.ui.contentsElement.getClientRect(),s=r.ui.contentsElement.getDocumentPosition(),l=o.getClientRect(),c=this._notificationWidth,u=this._notificationMargin,d=(i=CKEDITOR.document.getWindow()).getScrollPosition(),h=i.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),g=CKEDITOR.tools.cssLength;c&&u||(i=this.element.getChild(0),c=this._notificationWidth=i.getClientRect().width,u=this._notificationMargin=parseInt(i.getComputedStyle("margin-left"),10)+parseInt(i.getComputedStyle("margin-right"),10)),r.toolbar&&(n=(e=r.ui.space("top")).getClientRect()),e&&e.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?o.setStyles({position:"fixed",top:g(n.bottom)}):0<a.top?o.setStyles({position:"absolute",top:g(s.y)}):s.y+a.height-l.height>d.y?o.setStyles({position:"fixed",top:0}):o.setStyles({position:"absolute",top:g(s.y+a.height-l.height)});var m="fixed"==o.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<c+u?s.x+c+u>d.x+h.width?t():o.setStyle("left",g(m)):s.x+c+u>d.x+h.width?o.setStyle("left",g(m)):s.x+a.width/2+c/2+u>d.x+h.width?o.setStyle("left",g(m-s.x+d.x+h.width-c-u)):a.left+a.width-c-u<0?t():a.left+a.width/2-c/2<0?o.setStyle("left",g(m-s.x+d.x)):o.setStyle("left",g(m+a.width/2-c/2-u/2))}},CKEDITOR.plugins.notification=t}(),function(){var t='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=(t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var v=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),T=CKEDITOR.addTemplate("button",t);CKEDITOR.plugins.add("button",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(t){return new CKEDITOR.ui.button(t)}},CKEDITOR.ui.button.prototype={render:function(i,t){function e(){var t=i.mode;t&&(t=this.modes[t]?void 0!==a[t]?a[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=i.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var n,o,r,a=null,s=CKEDITOR.env,l=this._.id=CKEDITOR.tools.getNextId(),c="",u=this.command;this._.editor=i;var d,h={id:l,button:this,editor:i,focus:function(){CKEDITOR.document.getById(l).focus()},execute:function(){this.button.click(i)},attach:function(t){this.button.attach(t)}},f=CKEDITOR.tools.addFunction(function(t){if(h.onkey)return t=new CKEDITOR.dom.event(t),!1!==h.onkey(h,t.getKeystroke())}),p=CKEDITOR.tools.addFunction(function(t){var e;return h.onfocus&&(e=!1!==h.onfocus(h,new CKEDITOR.dom.event(t))),e}),g=0;h.clickFn=n=CKEDITOR.tools.addFunction(function(){g&&(i.unlockSelection(1),g=0),h.execute(),s.iOS&&i.focus()}),this.modes?(a={},i.on("beforeModeUnload",function(){i.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(a[i.mode]=this._.state)},this),i.on("activeFilterChange",e,this),i.on("mode",e,this),!this.readOnly&&i.on("readOnly",e,this)):u&&(u=i.getCommand(u))&&(u.on("state",function(){this.setState(u.state)},this),c+=u.state==CKEDITOR.TRISTATE_ON?"on":u.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&i.on("contentDirChanged",function(t){var e=CKEDITOR.document.getById(this._.id),n=e.getFirst();(t=t.data)!=i.lang.dir?e.addClass("cke_"+t):e.removeClass("cke_ltr").removeClass("cke_rtl"),n.setAttribute("style",CKEDITOR.skin.getIconStyle(d,"rtl"==t,this.icon,this.iconOffset))},this),u?(o=i.getCommandKeystroke(u))&&(r=CKEDITOR.tools.keystrokeToString(i.lang.common.keyboard,o)):c+="off",o=this.name||this.command;var m=null,E=this.icon;return d=o,this.icon&&!/\./.test(this.icon)?(d=this.icon,E=null):(this.icon&&(m=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(m=this.iconHiDpi)),m?(CKEDITOR.skin.addIcon(m,m),E=null):m=d,c={id:l,name:o,iconName:d,label:this.label,cls:(this.hasArrow?"cke_button_expandable ":"")+(this.className||""),state:c,ariaDisabled:"disabled"==c?"true":"false",title:this.title+(r?" ("+r.display+")":""),ariaShortcut:r?i.lang.common.keyboardShortcut+" "+r.aria:"",titleJs:s.gecko&&!s.hc?"":(this.title||"").replace("'",""),hasArrow:"string"==typeof this.hasArrow&&this.hasArrow||(this.hasArrow?"true":"false"),keydownFn:f,focusFn:p,clickFn:n,style:CKEDITOR.skin.getIconStyle(m,"rtl"==i.lang.dir,E,this.iconOffset),arrowHtml:this.hasArrow?v.output():""},T.output(c,t),this.onRender&&this.onRender(),h},setState:function(t){if(this._.state==t)return!1;this._.state=t;var e=CKEDITOR.document.getById(this._.id);return!!e&&(e.setState(t,"cke_button"),e.setAttribute("aria-disabled",t==CKEDITOR.TRISTATE_DISABLED),this.hasArrow?e.setAttribute("aria-expanded",t==CKEDITOR.TRISTATE_ON):t===CKEDITOR.TRISTATE_ON?e.setAttribute("aria-pressed",!0):e.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(t){if(this._.feature)return this._.feature;var e=this;return this.allowedContent||this.requiredContent||!this.command||(e=t.getCommand(this.command)||e),this._.feature=e}},CKEDITOR.ui.prototype.addButton=function(t,e){this.add(t,CKEDITOR.UI_BUTTON,e)}}(),function(){function D(s){function t(){for(var t=l(),e=CKEDITOR.tools.clone(s.config.toolbarGroups)||u(s),n=0;n<e.length;n++){var i=e[n];if("/"!=i){"string"==typeof i&&(i=e[n]={name:i});var o,r=i.groups;if(r)for(var a=0;a<r.length;a++)(o=t[o=r[a]])&&c(i,o);(o=t[i.name])&&c(i,o)}}return e}function l(){var t,e,n,i={};for(t in s.ui.items)e=(n=(n=(e=s.ui.items[t]).toolbar||"others").split(","))[0],n=parseInt(n[1]||-1,10),i[e]||(i[e]=[]),i[e].push({name:t,order:n});for(e in i)i[e]=i[e].sort(function(t,e){return t.order==e.order?0:e.order<0?-1:t.order<0?1:t.order<e.order?-1:1});return i}function c(t,e){if(e.length){t.items?t.items.push(s.ui.create("-")):t.items=[];for(var n;n=e.shift();)n="string"==typeof n?n:n.name,i&&-1!=CKEDITOR.tools.indexOf(i,n)||(n=s.ui.create(n))&&s.addFeature(n)&&t.items.push(n)}}function e(t){var e,n,i,o=[];for(e=0;e<t.length;++e)i={},"/"==(n=t[e])?o.push(n):CKEDITOR.tools.isArray(n)?(c(i,CKEDITOR.tools.clone(n)),o.push(i)):n.items&&(c(i,CKEDITOR.tools.clone(n.items)),i.name=n.name,o.push(i));return o}var i=(i=s.config.removeButtons)&&i.split(","),n=s.config.toolbar;return"string"==typeof n&&(n=s.config["toolbar_"+n]),s.toolbar=n?e(n):t()}function u(t){return t._.toolbarGroups||(t._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var I=function(){this.toolbars=[],this.focusCommandExecuted=!1};I.prototype.focus=function(){for(var t,e=0;t=this.toolbars[e++];)for(var n,i=0;n=t.items[i++];)if(n.focus)return void n.focus()};var t={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(t){t.toolbox&&(t.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){t.toolbox.focus()},100):t.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(b){var a,C=function(t,e){var n,i=(o="rtl"==b.lang.dir)?37:39,o=o?39:37,r=void 0===(r=b.config.toolbarGroupCycling)||r;switch(e){case 9:case CKEDITOR.SHIFT+9:for(;!n||!n.items.length;)if((n=9==e?(n?n.next:t.toolbar.next)||b.toolbox.toolbars[0]:(n?n.previous:t.toolbar.previous)||b.toolbox.toolbars[b.toolbox.toolbars.length-1]).items.length)for(t=n.items[a?n.items.length-1:0];t&&!t.focus;)(t=a?t.previous:t.next)||(n=0);return t&&t.focus(),!1;case i:for(n=t;!(n=n.next)&&r&&(n=t.toolbar.items[0]),n&&!n.focus;);return n?n.focus():C(t,9),!1;case 40:return t.button&&t.button.hasArrow?t.execute():C(t,40==e?i:o),!1;case o:case 38:for(n=t;!(n=n.previous)&&r&&(n=t.toolbar.items[t.toolbar.items.length-1]),n&&!n.focus;);return n?n.focus():(a=1,C(t,CKEDITOR.SHIFT+9),a=0),!1;case 27:return b.focus(),!1;case 13:case 32:return t.execute(),!1}return!0};b.on("uiSpace",function(t){if(t.data.space==b.config.toolbarLocation){t.removeListener(),b.toolbox=new I;var e,n,i=['<span id="',o=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',b.lang.toolbar.toolbars,"</span>",'<span id="'+b.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',o,'" onmousedown="return false;">'],o=!1!==b.config.toolbarStartupExpanded;b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&i.push('<span class="cke_toolbox_main"'+(o?">":' style="display:none">'));for(var r=b.toolbox.toolbars,a=D(b),s=a.length,l=0;l<s;l++){var c,u,d,h=0,f=a[l],p="/"!==f&&("/"===a[l+1]||l==s-1);if(f)if(e&&(i.push("</span>"),n=e=0),"/"===f)i.push('<span class="cke_toolbar_break"></span>');else{d=f.items||f;for(var g=0;g<d.length;g++){var m,E=d[g];if(E){var v=function(t){t=t.render(b,i),0<(T=h.items.push(t)-1)&&(t.previous=h.items[T-1],t.previous.next=t),t.toolbar=h,t.onkey=C,t.onfocus=function(){b.toolbox.focusCommandExecuted||b.focus()}};if(E.type==CKEDITOR.UI_SEPARATOR)n=e&&E;else{if(m=!1!==E.canGroup,!h){c=CKEDITOR.tools.getNextId(),h={id:c,items:[]},u=f.name&&(b.lang.toolbar.toolbarGroups[f.name]||f.name),i.push('<span id="',c,'" class="cke_toolbar'+(p?' cke_toolbar_last"':'"'),u?' aria-labelledby="'+c+'_label"':"",' role="toolbar">'),u&&i.push('<span id="',c,'_label" class="cke_voice_label">',u,"</span>"),i.push('<span class="cke_toolbar_start"></span>');var T=r.push(h)-1;0<T&&(h.previous=r[T-1],h.previous.next=h)}m?e||(i.push('<span class="cke_toolgroup" role="presentation">'),e=1):e&&(i.push("</span>"),e=0),n&&(v(n),n=0),v(E)}}}e&&(i.push("</span>"),n=e=0),h&&i.push('<span class="cke_toolbar_end"></span></span>')}}if(b.config.toolbarCanCollapse&&i.push("</span>"),b.config.toolbarCanCollapse&&b.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var y=CKEDITOR.tools.addFunction(function(){b.execCommand("toolbarCollapse")});b.on("destroy",function(){CKEDITOR.tools.removeFunction(y)}),b.addCommand("toolbarCollapse",{readOnly:1,exec:function(t){var e=t.ui.space("toolbar_collapser"),n=e.getPrevious(),i=t.ui.space("contents"),o=n.getParent(),r=parseInt(i.$.style.height,10),a=o.$.offsetHeight,s=e.hasClass("cke_toolbox_collapser_min");s?(n.show(),e.removeClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarCollapse)):(n.hide(),e.addClass("cke_toolbox_collapser_min"),e.setAttribute("title",t.lang.toolbar.toolbarExpand)),e.getFirst().setText(s?"\u25b2":"\u25c0"),i.setStyle("height",r-(o.$.offsetHeight-a)+"px"),t.fire("resize",{outerHeight:t.container.$.offsetHeight,contentsHeight:i.$.offsetHeight,outerWidth:t.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),b.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),i.push('<a title="'+(o?b.lang.toolbar.toolbarCollapse:b.lang.toolbar.toolbarExpand)+'" id="'+b.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),o||i.push(" cke_toolbox_collapser_min"),i.push('" onclick="CKEDITOR.tools.callFunction('+y+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}i.push("</span>"),t.data.html+=i.join("")}}),b.on("destroy",function(){if(this.toolbox){var t,e,n,i,o=0;for(t=this.toolbox.toolbars;o<t.length;o++)for(n=t[o].items,e=0;e<n.length;e++)(i=n[e]).clickFn&&CKEDITOR.tools.removeFunction(i.clickFn),i.keyDownFn&&CKEDITOR.tools.removeFunction(i.keyDownFn)}}),b.on("uiReady",function(){var t=b.ui.space("toolbox");t&&b.focusManager.add(t,1)}),b.addCommand("toolbarFocus",t),b.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),b.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),b.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(t,e){return e.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(t,e,n){var i=u(this.editor),o=0===e,r={name:t};if(n){if(n=CKEDITOR.tools.search(i,function(t){return t.name==n}))return!n.groups&&(n.groups=[]),e&&0<=(e=CKEDITOR.tools.indexOf(n.groups,e))?void n.groups.splice(e+1,0,t):void(o?n.groups.splice(0,0,t):n.groups.push(t));e=null}e&&(e=CKEDITOR.tools.indexOf(i,function(t){return t.name==e})),o?i.splice(0,0,t):"number"==typeof e?i.splice(e+1,0,r):i.push(t)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function v(t,e,n){return e.type||(e.type="auto"),!(n&&!1===t.fire("beforePaste",e)||!e.dataValue&&e.dataTransfer.isEmpty())&&(e.dataValue||(e.dataValue=""),CKEDITOR.env.gecko&&"drop"==e.method&&t.toolbox&&t.once("afterPaste",function(){t.toolbox.focus()}),t.fire("paste",e))}function e(h){function t(){var t,e=h.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var n=function(t){h.getSelection().isCollapsed()||(h.readOnly&&"cut"==t.name||p.initPasteDataTransfer(t,h),t.data.preventDefault())};e.on("copy",n),e.on("cut",n),e.on("cut",function(){h.readOnly||h.extractSelectedHtml()},null,null,999)}e.on(p.mainPasteEvent,function(t){"beforepaste"==p.mainPasteEvent&&g||u(t)}),"beforepaste"==p.mainPasteEvent&&(e.on("paste",function(t){m||(i(),t.data.preventDefault(),u(t),r("paste"))}),e.on("contextmenu",o,null,null,0),e.on("beforepaste",function(t){!t.data||t.data.$.ctrlKey||t.data.$.shiftKey||o()},null,null,0)),e.on("beforecut",function(){!g&&a(h)}),e.attachListener(CKEDITOR.env.ie?e:h.document.getDocumentElement(),"mouseup",function(){t=setTimeout(function(){d()},0)}),h.on("destroy",function(){clearTimeout(t)}),e.on("keyup",d)}function e(t){return{type:t,canUndo:"cut"==t,startDisabled:!0,fakeKeystroke:"cut"==t?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var t;"cut"==this.type&&a();var e=this.type;if(CKEDITOR.env.ie)t=r(e);else try{t=h.document.$.execCommand(e,!1,null)}catch(n){t=!1}return t||h.showNotification(h.lang.clipboard[this.type+"Error"]),t}}}function n(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(n,t){function e(t,e){e=void 0===e||e,t?(t.method="paste",t.dataTransfer||(t.dataTransfer=p.initPasteDataTransfer()),v(n,t,e)):o&&!n._.forcePasteDialog&&n.showNotification(s,"info",n.config.clipboard_notificationDuration),n._.forcePasteDialog=!1,n.fire("afterCommandExec",{name:"paste",command:i,returnValue:!!t})}var i=this,o="undefined"==typeof(t=null!=t?t:{}).notification||t.notification,r=t.type,a=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,n.getCommandKeystroke(this)),s="string"==typeof o?o:n.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+a.aria+'">'+a.display+"</kbd>");a="string"==typeof t?t:t.dataValue;r&&!0!==n.config.forcePasteAsPlainText&&"allow-word"!==n.config.forcePasteAsPlainText?n._.nextPasteType=r:delete n._.nextPasteType,"string"==typeof a?e({dataValue:a}):n.getClipboardData(e)}}}function i(){m=1,setTimeout(function(){m=0},100)}function o(){g=1,setTimeout(function(){g=0},10)}function r(t){var e=h.document,n=e.getBody(),i=!1,o=function(){i=!0};return n.on(t,o),7<CKEDITOR.env.version?e.$.execCommand(t):e.$.selection.createRange().execCommand(t),n.removeListener(t,o),i}function a(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var t,e,n,i=h.getSelection();i.getType()==CKEDITOR.SELECTION_ELEMENT&&(
t=i.getSelectedElement())&&(e=i.getRanges()[0],(n=h.document.createText("")).insertBefore(t),e.setStartBefore(n),e.setEndAfter(t),i.selectRanges([e]),setTimeout(function(){t.getParent()&&(n.remove(),i.selectElement(t))},0))}}function s(t,e){var n,i=h.document,o=h.editable(),r=function(t){t.cancel()};if(!i.getById("cke_pastebin")){var a=h.getSelection(),s=a.createBookmarks();CKEDITOR.env.ie&&a.root.fire("selectionchange");var l=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!o.is("body")||CKEDITOR.env.ie?"div":"body",i);l.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;i=i.getWindow();CKEDITOR.env.webkit?(o.append(l),l.addClass("cke_editable"),o.is("body")||(c=(c="static"!=o.getComputedStyle("position")?o:CKEDITOR.dom.element.get(o.$.offsetParent)).getDocumentPosition().y)):o.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(l),l.setStyles({position:"absolute",top:i.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,i.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&l.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=l.getParent().isReadOnly())?(l.setOpacity(0),l.setAttribute("contenteditable",!0)):l.setStyle("ltr"==h.config.contentsLangDirection?"left":"right","-10000px"),h.on("selectionChange",r,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(n=o.once("blur",r,null,null,-100)),c&&l.focus(),(c=new CKEDITOR.dom.range(l)).selectNodeContents(l);var u=c.select();CKEDITOR.env.ie&&(n=o.once("blur",function(){h.lockSelection(u)}));var d=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var t;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=d),n&&n.removeListener(),CKEDITOR.env.ie&&o.focus(),a.selectBookmarks(s),l.remove(),CKEDITOR.env.webkit&&(t=l.getFirst())&&t.is&&t.hasClass("Apple-style-span")&&(l=t),h.removeListener("selectionChange",r),e(l.getHtml())},0)}}function l(){if("paste"==p.mainPasteEvent)return h.fire("beforePaste",{type:"auto",method:"paste"}),!1;h.focus(),i();var t=h.focusManager;return t.lock(),h.editable().fire(p.mainPasteEvent)&&!r("paste")?(t.unlock(),!1):(t.unlock(),!0)}function c(t){if("wysiwyg"==h.mode)switch(t.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:t=h.editable(),i(),"paste"==p.mainPasteEvent&&t.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:h.fire("saveSnapshot"),setTimeout(function(){h.fire("saveSnapshot")},50)}}function u(t){var e={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(t)};e.dataTransfer.cacheData();var n=!1!==h.fire("beforePaste",e);n&&p.canClipboardApiBeTrusted(e.dataTransfer,h)?(t.data.preventDefault(),setTimeout(function(){v(h,e)},0)):s(t,function(t){e.dataValue=t.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),n&&v(h,e)})}function d(){if("wysiwyg"==h.mode){var t=f("paste");h.getCommand("cut").setState(f("cut")),h.getCommand("copy").setState(f("copy")),h.getCommand("paste").setState(t),h.fire("pasteState",t)}}function f(t){if(E&&t in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==t)return CKEDITOR.TRISTATE_OFF;var e=(t=h.getSelection()).getRanges();return t.getType()==CKEDITOR.SELECTION_NONE||1==e.length&&e[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,g=0,m=0,E=0;!function(){if(h.on("key",c),h.on("contentDom",t),h.on("selectionChange",function(t){E=t.data.selection.getRanges()[0].checkReadOnly(),d()}),h.contextMenu){h.contextMenu.addListener(function(t,e){return E=e.getRanges()[0].checkReadOnly(),{cut:f("cut"),copy:f("copy"),paste:f("paste")}});var e=null;h.on("menuShow",function(){e&&(e.removeListener(),e=null);var t=h.contextMenu.findItemByCommandName("paste");t&&t.element&&(e=t.element.on("touchend",function(){h._.forcePasteDialog=!0}))})}h.ui.addButton&&h.once("instanceReady",function(){h._.pasteButtons&&CKEDITOR.tools.array.forEach(h._.pasteButtons,function(t){(t=h.ui.get(t))&&(t=CKEDITOR.document.getById(t._.id))&&t.on("touchend",function(){h._.forcePasteDialog=!0})})})}(),function(){function t(t,e,n,i,o){var r=h.lang.clipboard[e];h.addCommand(e,n),h.ui.addButton&&h.ui.addButton(t,{label:r,command:e,toolbar:"clipboard,"+i}),h.addMenuItems&&h.addMenuItem(e,{label:r,command:e,group:"clipboard",order:o})}t("Cut","cut",e("cut"),10,1),t("Copy","copy",e("copy"),20,4),t("Paste","paste",n(),30,8),h._.pasteButtons||(h._.pasteButtons=[]),h._.pasteButtons.push("Paste")}(),h.getClipboardData=function(t,e){function n(t){t.removeListener(),t.cancel(),e(t.data)}function i(t){t.removeListener(),t.cancel(),e({type:r,dataValue:t.data.dataValue,dataTransfer:t.data.dataTransfer,method:"paste"})}var o=!1,r="auto";e||(e=t,t=null),h.on("beforePaste",function(t){t.removeListener(),o=!0,r=t.data.type},null,null,1e3),h.on("paste",n,null,null,0),!1===l()&&(h.removeListener("paste",n),h._.forcePasteDialog&&o&&h.fire("pasteDialog")?(h.on("pasteDialogCommit",i),h.on("dialogHide",function(t){t.removeListener(),t.data.removeListener("pasteDialogCommit",i),t.data._.committed||e(null)})):e(null))}}function c(t){if(CKEDITOR.env.webkit){if(!t.match(/^[^<]*$/g)&&!t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!t.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}function u(t,e){function n(t){return CKEDITOR.tools.repeat("</p><p>",~~(t/2))+(1==t%2?"<br>":"")}return(e=(e=e.replace(/(?!\u3000)\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(t){return t.toLowerCase()})).match(/^[^<]$/)?e:(CKEDITOR.env.webkit&&-1<e.indexOf("<div>")&&((e=e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(e="<p>"+e.replace(/(<div>(<br>|)<\/div>)+/g,function(t){return n(t.split("</div><div>").length+1)})+"</p>"),e=(e=e.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(e=e.replace(/^<br><br>$/,"<br>")),-1<e.indexOf("<br><br>")&&(e="<p>"+e.replace(/(<br>){2,}/g,function(t){return n(t.length/4)})+"</p>")),i(t,e))}function n(e){function n(){var t,e={};for(t in CKEDITOR.dtd)"$"!=t.charAt(0)&&"div"!=t&&"span"!=t&&(e[t]=1);return e}var i={};return{get:function(t){return"plain-text"==t?i.plainText||(i.plainText=new CKEDITOR.filter(e,"br")):"semantic-content"==t?((t=i.semanticContent)||((t=new CKEDITOR.filter(e,{})).allow({$1:{elements:n(),attributes:!0,styles:!1,classes:!1}}),t=i.semanticContent=t),t):t?new CKEDITOR.filter(e,t):null}}}function d(t,e,n){e=CKEDITOR.htmlParser.fragment.fromHtml(e);var i=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(e,!0,!1,t.activeEnterMode),e.writeHtml(i),i.getHtml()}function i(t,e){return t.enterMode==CKEDITOR.ENTER_BR?e=e.replace(/(<\/p><p>)+/g,function(t){return CKEDITOR.tools.repeat("<br>",t.length/7*2)}).replace(/<\/?p>/g,""):t.enterMode==CKEDITOR.ENTER_DIV&&(e=e.replace(/<(\/)?p>/g,"<$1div>")),e}function o(t){t.data.preventDefault(),t.data.$.dataTransfer.dropEffect="none"}function a(l){var c=CKEDITOR.plugins.clipboard;l.on("contentDom",function(){function o(t,e,n){e.select(),v(l,{dataTransfer:n,method:"drop"},1),n.sourceEditor.fire("saveSnapshot"),n.sourceEditor.editable().extractHtmlFromRange(t),n.sourceEditor.getSelection().selectRanges([t]),n.sourceEditor.fire("saveSnapshot")}function r(t,e){t.select(),v(l,{dataTransfer:e,method:"drop"},1),c.resetDragDataTransfer()}function i(t,e,n){var i={$:t.data.$,target:t.data.getTarget()};e&&(i.dragRange=e),n&&(i.dropRange=n),!1===l.fire(t.name,i)&&t.data.preventDefault()}function e(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t.getChildCount()}var t=l.editable(),n=CKEDITOR.plugins.clipboard.getDropTarget(l),a=l.ui.space("top"),s=l.ui.space("bottom");c.preventDefaultDropOnElement(a),c.preventDefaultDropOnElement(s),t.attachListener(n,"dragstart",i),t.attachListener(l,"dragstart",c.resetDragDataTransfer,c,null,1),t.attachListener(l,"dragstart",function(t){c.initDragDataTransfer(t,l)},null,null,2),t.attachListener(l,"dragstart",function(){var t=c.dragRange=l.getSelection().getRanges()[0];CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(c.dragStartContainerChildCount=t?e(t.startContainer):null,c.dragEndContainerChildCount=t?e(t.endContainer):null)},null,null,100),t.attachListener(n,"dragend",i),t.attachListener(l,"dragend",c.initDragDataTransfer,c,null,1),t.attachListener(l,"dragend",c.resetDragDataTransfer,c,null,100),t.attachListener(n,"dragover",function(t){if(CKEDITOR.env.edge)t.data.preventDefault();else{var e=t.data.getTarget();e&&e.is&&e.is("html")?t.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&t.data.$.dataTransfer.types.contains("Files")&&t.data.preventDefault()}}),t.attachListener(n,"drop",function(t){if(!t.data.$.defaultPrevented&&(t.data.preventDefault(),!(e=t.data.getTarget()).isReadOnly()||e.type==CKEDITOR.NODE_ELEMENT&&e.is("html"))){var e=c.getRangeAtDropPosition(t,l),n=c.dragRange;e&&i(t,n,e)}},null,null,9999),t.attachListener(l,"drop",c.initDragDataTransfer,c,null,1),t.attachListener(l,"drop",function(t){if(t=t.data){var e=t.dropRange,n=t.dragRange,i=t.dataTransfer;i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){c.internalDrop(n,e,i,l)},0):i.getTransferType(l)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?o(n,e,i):r(e,i)}},null,null,9999)})}var g;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(s){var t,l=n(s);if(s.config.forcePasteAsPlainText?t="plain-text":s.config.pasteFilter?t=s.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in s.config||(t="semantic-content"),s.pasteFilter=l.get(t),e(s),a(s),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),CKEDITOR.env.gecko){var o,r=["image/png","image/jpeg","image/gif"];s.on("paste",function(t){var e=t.data,n=e.dataTransfer;if(!e.dataValue&&"paste"==e.method&&n&&1==n.getFilesCount()&&o!=n.id&&(n=n.getFile(0),-1!=CKEDITOR.tools.indexOf(r,n.type))){var i=new FileReader;i.addEventListener("load",function(){t.data.dataValue='<img src="'+i.result+'" />',s.fire("paste",t.data)},!1),i.addEventListener("abort",function(){s.fire("paste",t.data)},!1),i.addEventListener("error",function(){s.fire("paste",t.data)},!1),i.readAsDataURL(n),o=e.dataTransfer.id,t.stop()}},null,null,1)}s.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var e=t.data.dataTransfer,n=e.getData("text/html");n?(t.data.dataValue=n,t.data.type="html"):(n=e.getData("text/plain"))&&(t.data.dataValue=s.editable().transformPlainTextToHtml(n),t.data.type="text")}},null,null,1),s.on("paste",function(n){var t=n.data.dataValue,i=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=n.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(t,e){return e.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(n.data.startsWithEOL=1,n.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var e,o,r=new CKEDITOR.dom.element("div");for(r.setHtml(t);1==r.getChildCount()&&(e=r.getFirst())&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasClass("cke_editable")||e.hasClass("cke_contents"));)r=o=e;o&&(t=o.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,e){return e.toLowerCase()in i?(n.data.preSniffing="html","<"+e):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,e){return e in i?(n.data.endsWithEOL=1,"</"+e+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),n.data.dataValue=t},null,null,3),s.on("paste",function(t){t=t.data;var e,n=s._.nextPasteType||t.type,i=t.dataValue,o=s.config.clipboard_defaultContentType||"html",r=t.dataTransfer.getTransferType(s)==CKEDITOR.DATA_TRANSFER_EXTERNAL,a=!0===s.config.forcePasteAsPlainText;e="html"==n||"html"==t.preSniffing?"html":c(i),delete s._.nextPasteType,"htmlifiedtext"==e&&(i=u(s.config,i)),"text"==n&&"html"==e?i=d(s,i,l.get("plain-text")):(r&&s.pasteFilter&&!t.dontFilter||a)&&(i=d(s,i,s.pasteFilter)),t.startsWithEOL&&(i='<br data-cke-eol="1">'+i),t.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==n&&(n="html"==e||"html"==o?"html":"text"),t.type=n,t.dataValue=i,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),s.on("paste",function(t){(t=t.data).dataValue&&(s.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){s.fire("afterPaste")},0))},null,null,1e3),s.on("pasteDialog",function(t){setTimeout(function(){s.openDialog("paste",t.data)},0)})}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(t,e,n){t.ui.addButton&&(t.ui.addButton(e,n),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push(e))},canClipboardApiBeTrusted:function(t,e){return!!(t.getTransferType(e)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!t.isEmpty()||CKEDITOR.env.gecko&&(t.getData("text/html")||t.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(t){var e=t.editable();return CKEDITOR.env.ie&&CKEDITOR.env.version<9||e.isInline()?e:t.document},fixSplitNodesAfterDrop:function(t,o,e,n){function i(t,e,n){var i=t;if(i.type==CKEDITOR.NODE_TEXT&&(i=t.getParent()),i.equals(e)&&n!=e.getChildCount())return t=o.startContainer.getChild(o.startOffset-1),e=o.startContainer.getChild(o.startOffset),t&&t.type==CKEDITOR.NODE_TEXT&&e&&e.type==CKEDITOR.NODE_TEXT&&(n=t.getLength(),t.setText(t.getText()+e.getText()),e.remove(),o.setStart(t,n),o.collapse(!0)),!0}var r=o.startContainer;"number"==typeof n&&"number"==typeof e&&r.type==CKEDITOR.NODE_ELEMENT&&(i(t.startContainer,r,e)||i(t.endContainer,r,n))},isDropRangeAffectedByDragRange:function(t,e){var n=e.startContainer,i=e.endOffset;return!!(t.endContainer.equals(n)&&t.endOffset<=i||t.startContainer.getParent().equals(n)&&t.startContainer.getIndex()<i||t.endContainer.getParent().equals(n)&&t.endContainer.getIndex()<i)},internalDrop:function(t,e,n,i){var o,r,a=CKEDITOR.plugins.clipboard,s=i.editable();i.fire("saveSnapshot"),i.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&CKEDITOR.env.version<10&&this.fixSplitNodesAfterDrop(t,e,a.dragStartContainerChildCount,a.dragEndContainerChildCount),(r=this.isDropRangeAffectedByDragRange(t,e))||(o=t.createBookmark(!1)),a=e.clone().createBookmark(!1),r&&(o=t.createBookmark(!1)),t=o.startNode,e=o.endNode,r=a.startNode,e&&t.getPosition(r)&CKEDITOR.POSITION_PRECEDING&&e.getPosition(r)&CKEDITOR.POSITION_FOLLOWING&&r.insertBefore(t),(t=i.createRange()).moveToBookmark(o),s.extractHtmlFromRange(t,1),(e=i.createRange()).moveToBookmark(a),v(i,{dataTransfer:n,method:"drop",range:e},1),i.fire("unlockSnapshot")},getRangeAtDropPosition:function(t,e){var n=t.data.$,i=n.clientX,o=n.clientY,r=e.getSelection(!0).getRanges()[0],a=e.createRange();if(t.data.testRange)return t.data.testRange;if(document.caretRangeFromPoint&&e.document.$.caretRangeFromPoint(i,o))n=e.document.$.caretRangeFromPoint(i,o),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&r&&e.editable().hasFocus)return r;if(!document.body.createTextRange)return null;e.focus(),n=e.document.getBody().$.createTextRange();try{for(var s=!1,l=0;l<20&&!s;l++){if(!s)try{n.moveToPoint(i,o-l),s=!0}catch(g){}if(!s)try{n.moveToPoint(i,o+l),s=!0}catch(f){}}if(s){var c="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+c+'">\u200b</span>');var u=e.document.getById(c);a.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START),u.remove()}else{var d=e.document.$.elementFromPoint(i,o),h=new CKEDITOR.dom.element(d);if(h.equals(e.editable())||"html"==h.getName())return r&&r.startContainer&&!r.startContainer.equals(e.editable())?r:null;i<h.getClientRect().left?a.setStartAt(h,CKEDITOR.POSITION_AFTER_START):a.setStartAt(h,CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(p){return null}}return a},initDragDataTransfer:function(t,e){var n=t.data.$?t.data.$.dataTransfer:null,i=new this.dataTransfer(n,e);"dragstart"===t.name&&i.storeId(),n?this.dragData&&i.id==this.dragData.id?i=this.dragData:this.dragData=i:this.dragData?i=this.dragData:this.dragData=i,t.data.dataTransfer=i},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(t,e){if(this.isCustomCopyCutSupported){if(t&&t.data&&t.data.$){var n=t.data.$.clipboardData,i=new this.dataTransfer(n,e);return"copy"!==t.name&&"cut"!==t.name||i.storeId(),this.copyCutData&&i.id==this.copyCutData.id?(i=this.copyCutData).$=n:this.copyCutData=i,i}return new this.dataTransfer(null,e)}return new this.dataTransfer(CKEDITOR.env.edge&&t&&t.data.$&&t.data.$.clipboardData||null,e)},preventDefaultDropOnElement:function(t){t&&t.on("dragover",o)}},g=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(t,e){t&&(this.$=t),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(t){return"text"==(t=t.toLowerCase())||"text/plain"==t?"Text":"url"==t?"URL":t}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(g),this.id||(this.id="Text"==g?"":"cke-"+CKEDITOR.tools.getUniqueId()),e&&(this.sourceEditor=e,this.setData("text/html",e.getSelectedHtml(1)),"Text"==g||this.getData("text/plain")||this.setData("text/plain",e.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(t,e){if(null==(i="text/html"==(t=this._.normalizeType(t))&&e?this._.nativeHtmlCache:this._.data[t])||""===i){if(this._.fallbackDataTransfer.isRequired())i=this._.fallbackDataTransfer.getData(t,e);else try{i=this.$.getData(t)||""}catch(o){i=""}"text/html"!=t||e||(i=this._stripHtml(i))}if("Text"==t&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==i.substring(0,7)&&(i=""),"string"==typeof i)var n=i.indexOf("</html>"),i=-1!==n?i.substring(0,n+7):i;return i},setData:function(t,e){if("text/html"==(t=this._.normalizeType(t))?(this._.data[t]=this._stripHtml(e),this._.nativeHtmlCache=e):this._.data[t]=e,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==t||"Text"==t)if("Text"==g&&"Text"==t&&(this.id=e),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(t,e);else try{this.$.setData(t,e)}catch(n){}},storeId:function(){"Text"!==g&&this.setData(g,this.id)},getTransferType:function(t){return this.sourceEditor?this.sourceEditor==t?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function t(t){t=i._.normalizeType(t);var e=i.getData(t);"text/html"==t&&(i._.nativeHtmlCache=i.getData(t,!0),e=i._stripHtml(e)),e&&(i._.data[t]=e)}if(this.$){var e,n,i=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(e=0;e<this.$.types.length;e++)t(this.$.types[e])}else t("Text"),t("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(e=0;e<this.$.files.length;e++)this._.files.push(this.$.files[e]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(t){return this._.files.length?this._.files[t]:this.$&&this.$.files&&this.$.files.length?this.$.files[t]:0===t?this._getImageFromClipboard():void 0},isEmpty:function(){var t,e={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(t){e[t]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)e[this.$.types[n]]=1}else e.Text=1,e.URL=1;for(t in"Text"!=g&&(e[g]=0),e)if(e[t]&&""!==this.getData(t))return!1;return!0},_getImageFromClipboard:function(){var t;if(this.$&&this.$.items&&this.$.items[0])try{if((t=this.$.items[0].getAsFile())&&t.type)return t}catch(e){}},_stripHtml:function(t){if(t&&t.length){t=t.replace(this._.metaRegExp,"");var e=this._.bodyRegExp.exec(t);e&&e.length&&(t=(t=e[1]).replace(this._.fragmentRegExp,""))}return t}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(t){this._dataTransfer=t,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer,e=this._dataTransfer.$;if(null===t._isCustomMimeTypeSupported){if(!e)return!1;if(t._isCustomMimeTypeSupported=!1,CKEDITOR.env.edge&&17<=CKEDITOR.env.version)return!0;try{e.setData("cke/mimetypetest","cke test value"),t._isCustomMimeTypeSupported="cke test value"===e.getData("cke/mimetypetest"),e.clearData("cke/mimetypetest")}catch(n){}}return!t._isCustomMimeTypeSupported},getData:function(t,e){var n=this._getData(this._customDataFallbackType,!0);if(e)return n;n=this._extractDataComment(n);var i=null;return null!==(i=t===this._customDataFallbackType?n.content:n.data&&n.data[t]?n.data[t]:this._getData(t,!0))?i:""},setData:function(t,e){(o=t===this._customDataFallbackType)&&(e=this._applyDataComment(e,this._getFallbackTypeData()));var n=e,i=this._dataTransfer.$;try{i.setData(t,n),o&&(this._dataTransfer._.nativeHtmlCache=n)}catch(a){if(this._isUnsupportedMimeTypeError(a)){o=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(o._customTypes,t)&&o._customTypes.push(t);var o=this._getFallbackTypeContent(),r=this._getFallbackTypeData();r[t]=n;try{n=this._applyDataComment(o,r),i.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(s){n=""}}}return n},_getData:function(t,e){var n=this._dataTransfer._.data;if(!e&&n[t])return n[t];try{return this._dataTransfer.$.getData(t)}catch(i){return null}},_getFallbackTypeContent:function(){var t=this._dataTransfer._.data[this._customDataFallbackType];return t||(t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),t},_getFallbackTypeData:function(){var t=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(t,function(t){void 0!==n[t]?e[t]=n[t]:void 0!==e[t]&&(e[t]=e[t])},this),e},_isUnsupportedMimeTypeError:function(t){return t.message&&-1!==t.message.search(/element not found/gi)},_extractDataComment:function(t){var e,n={data:null,content:t||""};t&&16<t.length&&((e=/\x3c!--cke-data:(.*?)--\x3e/g.exec(t))&&e[1]&&(n.data=JSON.parse(decodeURIComponent(e[1])),n.content=t.replace(e[0],"")));return n},_applyDataComment:function(t,e){var n="";return e&&CKEDITOR.tools.objectKeys(e).length&&(n="<!--cke-data:"+encodeURIComponent(JSON.stringify(e))+"-->"),n+(t&&t.length?t:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,CKEDITOR.plugins.add("panelbutton",{requires:"button",onLoad:function(){function n(t){var e=this._;e.state!=CKEDITOR.TRISTATE_DISABLED&&(this.createPanel(t),e.on?e.panel.hide():e.panel.showBlock(this._.id,this.document.getById(this._.id),4))}CKEDITOR.ui.panelButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){var e=t.panel||{};delete t.panel,this.base(t),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.block={attributes:e.attributes},e.toolbarRelated=!0,this.hasArrow="listbox",this.click=n,this._={panelDefinition:e}},statics:{handler:{create:function(t){return new CKEDITOR.ui.panelButton(t)}}},proto:{createPanel:function(e){var n=this._;if(!n.panel){var t=this._.panelDefinition,i=this._.panelDefinition.block,o=t.parent||CKEDITOR.document.getBody(),r=this._.panel=new CKEDITOR.ui.floatPanel(e,o,t),a=(t=r.addBlock(n.id,i),this);r.onShow=function(){a.className&&this.element.addClass(a.className+"_panel"),a.setState(CKEDITOR.TRISTATE_ON),n.on=1,a.editorFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){a.className&&this.element.getFirst().removeClass(a.className+"_panel"),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),n.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1),a.document.getById(n.id).focus()},this.onBlock&&this.onBlock(r,t),t.onHide=function(){n.on=0,a.setState(CKEDITOR.TRISTATE_OFF)}}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANELBUTTON,CKEDITOR.ui.panelButton.handler)}}),CKEDITOR.UI_PANELBUTTON="panelbutton",function(){CKEDITOR.plugins.add("panel",{beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(t,e){e&&CKEDITOR.tools.extend(this,e),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=t,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(t){return new CKEDITOR.ui.panel(t)}};var o=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),r=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),a=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(t,e){var n={editorId:t.id,id:this.id,langCode:t.langCode,dir:t.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":t.config.baseFloatZIndex+1};if(this.getHolderElement=function(){if(!(e=this._.holder)){if(this.isFramed){var t=(e=this.document.getById(this.id+"_frame")).getParent(),e=e.getFrameDocument();CKEDITOR.env.iOS&&t.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),t=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),e.write(a.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+t+");"},n))),e.getWindow().$.CKEDITOR=CKEDITOR,e.on("keydown",function(t){var e=t.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");("input"!==t.data.getTarget().getName()||37!==e&&39!==e)&&(this._.onKeyDown&&!1===this._.onKeyDown(e)?"input"===t.data.getTarget().getName()&&32===e||t.data.preventDefault():(27==e||e==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(e)&&t.data.preventDefault())},this),(e=e.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(t)}else e=this.document.getById(this.id);this._.holder=e}return e},this.isFramed){var i=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";n.frame=r.output({id:this.id+"_frame",src:i})}return i=o.output(n),e&&e.push(i),i},addBlock:function(t,e){return e=this._.blocks[t]=e instanceof CKEDITOR.ui.panel.block?e:new CKEDITOR.ui.panel.block(this.getHolderElement(),e),this._.currentBlock||this.showBlock(t),e},getBlock:function(t){return this._.blocks[t]},showBlock:function(t){t=this._.blocks[t];var e=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return e&&e.hide(),this._.currentBlock=t,CKEDITOR.fire("ariaWidget",n),t._.focusIndex=-1,this._.onKeyDown=t.onKeyDown&&CKEDITOR.tools.bind(t.onKeyDown,t),t.show(),t},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(t,e){this.element=t.append(t.getDocument().createElement("div",{attributes:{tabindex:-1,"class":"cke_panel_block"},styles:{display:"none"}})),e&&CKEDITOR.tools.extend(this,e),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(t){-1!=t&&(t=this._.getItems().getItem(this._.focusIndex=t),CKEDITOR.env.webkit&&t.getDocument().getWindow().focus(),t.focus(),this.onMark&&this.onMark(t))},markFirstDisplayed:function(t){for(var e,n,i=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"none"==t.getStyle("display")},o=this._.getItems(),r=o.count()-1;0<=r;r--)if((e=o.getItem(r)).getAscendant(i)||(n=e,this._.focusIndex=r),"true"==e.getAttribute("aria-selected")){n=e,this._.focusIndex=r;break}n&&(t&&t(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.find("a,input")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(t,e){switch(o=this.keys[t]){case"next":for(var n,i=this._.focusIndex,o=this._.getItems();n=o.getItem(++i);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}return!n&&!e&&(this._.focusIndex=-1,this.onKeyDown(t,1));case"prev":for(i=this._.focusIndex,o=this._.getItems();0<i&&(n=o.getItem(--i));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=i,n.focus(!0);break}n=null}return!n&&!e&&(this._.focusIndex=o.count(),this.onKeyDown(t,1));case"click":case"mouseup":return(n=0<=(i=this._.focusIndex)&&this._.getItems().getItem(i))&&(n.$[o]?n.$[o]():n.$["on"+o]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function c(t,e,n,i,o){o=CKEDITOR.tools.genKey(e.getUniqueId(),n.getUniqueId(),t.lang.dir,t.uiColor||"",i.css||"",o||"");var r=a[o];return r||((r=a[o]=new CKEDITOR.ui.panel(e,i)).element=n.append(CKEDITOR.dom.element.createFromHtml(r.render(t),e)),r.element.setStyles({display:"none",position:"absolute"})),r}var a={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,e,n,i){function o(){l.hide()}n.forceIFrame=1,n.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(e=CKEDITOR.document.getById("cke_"+t.name));var r=e.getDocument(),a=(i=c(t,r,e,n,i||0)).element,s=a.getFirst(),l=this;a.disableContextMenu(),this.element=a,this._={editor:t,panel:i,parentElement:e,definition:n,document:r,iframe:s,children:[],dir:t.lang.dir,showBlockParams:null,markFirst:void 0===n.markFirst||n.markFirst},t.on("mode",o),t.on("resize",o),r.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(t,e){return this._.panel.addBlock(t,e)},addListBlock:function(t,e){return this._.panel.addListBlock(t,e)},getBlock:function(t){return this._.panel.getBlock(t)},showBlock:function(t,e,n,i,o,s){var l=this._.panel,c=l.showBlock(t);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var r=this._.editor.editable();this._.returnFocus=r.hasFocus?r:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var u=this.element,a=(r=this._.iframe,r=CKEDITOR.env.ie&&!CKEDITOR.env.edge?r:new CKEDITOR.dom.window(r.$.contentWindow),u.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=e.getDocumentPosition(a),f=(a=d?d.getDocumentPosition(a):{x:0,y:0},"rtl"==this._.dir),p=h.x+(i||0)-a.x,g=h.y+(o||0)-a.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=e.$.offsetWidth-1):p+=e.$.offsetWidth,3!=n&&4!=n||(g+=e.$.offsetHeight-1),this._.panel._.offsetParentId=e.getId(),u.setStyles({top:g+"px",left:0,display:""}),u.setOpacity(0),u.getFirst(
).removeStyle("width"),this._.editor.focusManager.add(r),this._.blurSet||(CKEDITOR.event.useCapture=!0,r.on("blur",function(t){function e(){delete this._.returnFocus,this.hide()}this.allowBlur()&&t.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(e,0,this)):e.call(this))},this),r.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(r.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),r.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),l.onEscape=CKEDITOR.tools.bind(function(t){if(this.onEscape&&!1===this.onEscape(t))return!1},this),CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.tools.bind(function(){if((n=u).removeStyle("width"),c.autoSize){var t=c.element.getDocument();t=(CKEDITOR.env.webkit||CKEDITOR.env.edge?c.element:t.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",t+10+"px"),t=c.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<t&&(t+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",t+"px"),l._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=u.$.offsetWidth),u.setStyle("left",p+"px");t=l.element.getWindow();var e,n=u.$.getBoundingClientRect(),i=(t=t.getViewPaneSize(),n.width||n.right-n.left),o=n.height||n.bottom-n.top,r=f?n.right:t.width-n.left,a=f?t.width-n.right:n.left;f?r<i&&(p=i<a?p+i:t.width>i?p-n.left:p-n.right+t.width):r<i&&(p=i<a?p-i:t.width>i?p-n.right+t.width:p-n.left),i=n.top,t.height-n.top<o&&(g=o<i?g-o:t.height>o?g-n.bottom+t.height:g-n.top),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&("html"==(t=n=new CKEDITOR.dom.element(u.$.offsetParent)).getName()&&(t=t.getDocument().getBody()),"rtl"==t.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*u.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(e=(n=u.getFirst()).getCustomData("activePanel"))&&e.onHide&&e.onHide.call(this,1),n.setCustomData("activePanel",this),u.setStyles({top:g+"px",left:p+"px"}),u.setOpacity(1),s&&s()},this);l.isLoaded?t():l.onLoad=t,CKEDITOR.tools.setTimeout(function(){var t=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),c.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=t),this.allowBlur(!0),this._.markFirst&&(CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()},0):c.markFirstDisplayed?c.markFirstDisplayed():c._.markFirstDisplayed()),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var t=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,t))},focus:function(){if(CKEDITOR.env.webkit){var t=CKEDITOR.document.getActive();t&&!t.equals(this._.iframe)&&t.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var t=this._.iframe.getFrameDocument().getActive();t&&t.is("a")&&(this._.lastFocused=t)},hide:function(t){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(t=t&&this._.returnFocus)&&(CKEDITOR.env.webkit&&t.type&&t.getWindow().$.focus(),t.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(t){var e=this._.panel;return void 0!==t&&(e.allowBlur=t),e.allowBlur},showAsChild:function(t,e,n,i,o,r){this._.activeChild==t&&t._.panel._.offsetParentId==n.getId()||(this.hideChild(),t.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=t,this._.focused=!1,t.showBlock(e,n,i,o,r),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){t.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(t){var e=this._.activeChild;e&&(delete e.onHide,delete this._.activeChild,e.hide(),t&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var t,e=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(t in a){var n=a[t];e?n.destroy():n.element.hide()}e&&(a={})})}(),CKEDITOR.plugins.add("colorbutton",{requires:"panelbutton,floatpanel",init:function(d){function t(t,r,e,n,i){var a,o=new CKEDITOR.style(f["colorButton_"+r+"Style"]),s=CKEDITOR.tools.getNextId()+"_colorBox";i=i||{},d.ui.add(t,CKEDITOR.UI_PANELBUTTON,{label:e,title:e,modes:{wysiwyg:1},editorFocus:0,toolbar:"colors,"+n,allowedContent:o,requiredContent:o,contentTransformations:i.contentTransformations,panel:{css:CKEDITOR.skin.getPath("editor"),attributes:{role:"listbox","aria-label":p.panelTitle}},onBlock:function(t,e){(a=e).autoSize=!0,e.element.addClass("cke_colorblock"),e.element.setHtml(l(t,r,s)),e.element.getDocument().getBody().setStyle("overflow","hidden"),CKEDITOR.ui.fire("ready",this);var n=e.keys,i="rtl"==d.lang.dir;n[i?37:39]="next",n[40]="next",n[9]="next",n[i?39:37]="prev",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]="click"},refresh:function(){d.activeFilter.check(o)||this.setState(CKEDITOR.TRISTATE_DISABLED)},onOpen:function(){var t=(n=d.getSelection())&&n.getStartElement(),e=d.elementPath(t);if(e){for(t=e.block||e.blockLimit||d.document.getBody();e=t&&t.getComputedStyle("back"==r?"background-color":"color")||"transparent","back"==r&&"transparent"==e&&t&&(t=t.getParent()););if(e&&"transparent"!=e||(e="#ffffff"),!1!==f.colorButton_enableAutomatic&&this._.panel._.iframe.getFrameDocument().getById(s).setStyle("background-color",e),t=n&&n.getRanges()[0]){var n=new CKEDITOR.dom.walker(t),i=t.collapsed?t.startContainer:n.next();for(t="";i;){if(i.type!==CKEDITOR.NODE_ELEMENT&&(i=i.getParent()),i=c(i.getComputedStyle("back"==r?"background-color":"color")),(t=t||i)!==i){t="";break}i=n.next()}for(n=t,t=a._.getItems(),i=0;i<t.count();i++){var o=t.getItem(i);o.removeAttribute("aria-selected"),n&&n==c(o.getAttribute("data-value"))&&o.setAttribute("aria-selected",!0)}}return e}}})}function l(t,e,n){t=[];var i=f.colorButton_colors.split(","),o=f.colorButton_colorsPerRow||6,r=d.plugins.colordialog&&!1!==f.colorButton_enableMore,a=i.length+(r?2:1),s=CKEDITOR.tools.addFunction(function(t,n){function e(t){var e=f["colorButton_"+n+"Style"];d.removeStyle(new CKEDITOR.style(e,{color:"inherit"})),e.childRule="back"==n?function(t){return h(t)}:function(t){return!(t.is("a")||t.getElementsByTag("a").count())||h(t)},d.focus(),t&&d.applyStyle(new CKEDITOR.style(e,{color:t})),d.fire("saveSnapshot")}if(d.focus(),d.fire("saveSnapshot"),"?"!=t)return e(t);d.getColorFromDialog(function(t){if(t)return e(t)})});for(!1!==f.colorButton_enableAutomatic&&t.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',p.auto,'" onclick="CKEDITOR.tools.callFunction(',s,",null,'",e,"');return false;\" href=\"javascript:void('",p.auto,'\')" role="option" aria-posinset="1" aria-setsize="',a,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="'+o+'" align="center"><span class="cke_colorbox" id="',n,'"></span>',p.auto,"</td></tr></table></a>"),t.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'),n=0;n<i.length;n++){0==n%o&&t.push("</tr><tr>");var l=i[n].split("/"),c=l[0],u=l[1]||c;l[1]?l=c:(c="#"+c.replace(/^(.)(.)(.)$/,"$1$1$2$2$3$3"),l=d.lang.colorbutton.colors[u]||u),t.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',l,'" onclick="CKEDITOR.tools.callFunction(',s,",'",c,"','",e,"'); return false;\" href=\"javascript:void('",l,'\')" data-value="'+u+'" role="option" aria-posinset="',n+2,'" aria-setsize="',a,'"><span class="cke_colorbox" style="background-color:#',u,'"></span></a></td>')}return r&&t.push('</tr><tr><td colspan="'+o+'" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',p.more,'" onclick="CKEDITOR.tools.callFunction(',s,",'?','",e,"');return false;\" href=\"javascript:void('",p.more,"')\"",' role="option" aria-posinset="',a,'" aria-setsize="',a,'">',p.more,"</a></td>"),t.push("</tr></table>"),t.join("")}function h(t){return"false"==t.getAttribute("contentEditable")||t.getAttribute("data-nostyle")}function c(t){return CKEDITOR.tools.normalizeHex("#"+CKEDITOR.tools.convertRgbToHex(t||"")).replace(/#/g,"")}var f=d.config,p=d.lang.colorbutton;if(!CKEDITOR.env.hc){t("TextColor","fore",p.textColorTitle,10,{contentTransformations:[[{element:"font",check:"span{color}",left:function(t){return!!t.attributes.color},right:function(t){t.name="span",t.attributes.color&&(t.styles.color=t.attributes.color),delete t.attributes.color}}]]});var e={},n=d.config.colorButton_normalizeBackground;(void 0===n||n)&&(e.contentTransformations=[[{element:"span",left:function(t){var e=CKEDITOR.tools;return!("span"!=t.name||!t.styles||!t.styles.background)&&((t=e.style.parse.background(t.styles.background)).color&&1===e.objectKeys(t).length)},right:function(t){var e=new CKEDITOR.style(d.config.colorButton_backStyle,{color:t.styles.background}).getDefinition();return t.name=e.element,t.styles=e.styles,t.attributes=e.attributes||{},t}}]]),t("BGColor","back",p.bgColorTitle,20,e)}}}),CKEDITOR.config.colorButton_colors="1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000",CKEDITOR.config.colorButton_foreStyle={element:"span",styles:{color:"#(color)"},overrides:[{element:"font",attributes:{color:null}}]},CKEDITOR.config.colorButton_backStyle={element:"span",styles:{"background-color":"#(color)"}},CKEDITOR.plugins.colordialog={requires:"dialog",init:function(t){var e=new CKEDITOR.dialogCommand("colordialog");e.editorFocus=!1,t.addCommand("colordialog",e),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),t.getColorFromDialog=function(e,n){var i,o,r;i=function(t){o(this),t="ok"==t.name?this.getValueOf("picker","selectedColor"):null,/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(t)&&(t="#"+t),e.call(n,t)},o=function(t){t.removeListener("ok",i),t.removeListener("cancel",i)},r=function(t){t.on("ok",i),t.on("cancel",i)},t.execCommand("colordialog"),t._.storedDialogs&&t._.storedDialogs.colordialog?r(t._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(t){if("colordialog"==t.data.name){var e=t.data.definition;t.removeListener(),e.onLoad=CKEDITOR.tools.override(e.onLoad,function(t){return function(){r(this),"function"==typeof(e.onLoad=t)&&t.call(this)}})}})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog),function(){CKEDITOR.plugins.add("templates",{requires:"dialog",init:function(t){CKEDITOR.dialog.add("templates",CKEDITOR.getUrl(this.path+"dialogs/templates.js")),t.addCommand("templates",new CKEDITOR.dialogCommand("templates")),t.ui.addButton&&t.ui.addButton("Templates",{label:t.lang.templates.button,command:"templates",toolbar:"doctools,10"})}});var n={},r={};CKEDITOR.addTemplates=function(t,e){n[t]=e},CKEDITOR.getTemplates=function(t){return n[t]},CKEDITOR.loadTemplates=function(t,e){for(var n=[],i=0,o=t.length;i<o;i++)r[t[i]]||(n.push(t[i]),r[t[i]]=1);n.length?CKEDITOR.scriptLoader.load(n,e):setTimeout(e,0)}}(),CKEDITOR.config.templates_files=[CKEDITOR.getUrl("plugins/templates/templates/default.js")],CKEDITOR.config.templates_replaceContent=!0,CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(t){for(var e=t.config.menu_groups.split(","),n=t._.menuGroups={},i=t._.menuItems={},o=0;o<e.length;o++)n[e[o]]=o+1;t.addMenuGroup=function(t,e){n[t]=e||100},t.addMenuItem=function(t,e){n[e.group]&&(i[t]=new CKEDITOR.menuItem(this,t,e))},t.addMenuItems=function(t){for(var e in t)this.addMenuItem(e,t[e])},t.getMenuItem=function(t){return i[t]},t.removeMenuItem=function(t){delete i[t]}}}),function(){function f(t){t.sort(function(t,e){return t.group<e.group?-1:t.group>e.group?1:t.order<e.order?-1:t.order>e.order?1:0})}var t='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');t=t+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var p=CKEDITOR.addTemplate("menuItem",t+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),g=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),m=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(t,e){e=this._.definition=e||{},this.id=CKEDITOR.tools.getNextId(),this.editor=t,this.items=[],this._.listeners=[],this._.level=e.level||1;var n=CKEDITOR.tools.extend({},e.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),i=n.block.attributes=n.attributes||{};!i.role&&(i.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var t=this.editor.getSelection(),e=t&&t.getStartElement(),n=this.editor.elementPath(),i=this._.listeners;this.removeAll();for(var o=0;o<i.length;o++){var r=i[o](e,t,n);if(r)for(var a in r){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=r[a],this.add(s))}}},onClick:function(t){this.hide(),t.onClick?t.onClick():t.command&&this.editor.execCommand(t.command)},onEscape:function(t){var e=this.parent;return e?e._.panel.hideChild(1):27==t&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(t){var e=this._.subMenu,n=this.items[t];if(n=n.getItems&&n.getItems()){for(var i in e?e.removeAll():((e=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,e._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var o=this.editor.getMenuItem(i);o&&(o.state=n[i],e.add(o))}var r=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(t));setTimeout(function(){e.show(r,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(t){t.order||(t.order=this.items.length),this.items.push(t)},removeAll:function(){this.items=[]},show:function(t,e,n,i){if(this.parent||(this._.onShow(),this.items.length)){e=e||("rtl"==this.editor.lang.dir?2:1);var o=this.items,r=this.editor,a=this._.panel,s=this._.element;if(!a)(a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(t){if(!1===this._.onEscape(t))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==r.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(t){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,r.config.menu_subMenuDelay||400,this,[t])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(t){var e=this.items[t];e.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):e.getItems?this._.showSubMenu(t):this._.onClick(e)},this);f(o);for(var l=['<div class="cke_menu'+((l=r.elementPath())&&l.direction()!=r.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],c=o.length,u=c&&o[0].group,d=0;d<c;d++){var h=o[d];u!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),u=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,t,e,n,i):a.showBlock(this.id,t,e,n,i),r.fire("menuShow",[a])}},addListener:function(t){this._.listeners.push(t)},hide:function(t){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(t)},findItemByCommandName:function(e){var t=CKEDITOR.tools.array.filter(this.items,function(t){return e===t.command});return t.length?{item:t=t[0],element:this._.element.findOne("."+t.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(t,e,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+e}),this.group=t._.menuGroups[this.group],this.editor=t,this.name=e},proto:{render:function(t,e,n){var i,o,r=t.id+String(e),a="undefined"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,s="",l=this.editor,c=a==CKEDITOR.TRISTATE_ON?"on":a==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(s=' aria-checked="'+(a==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var u=this.getItems,d="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",h=this.name;this.icon&&!/\./.test(this.icon)&&(h=this.icon),this.command&&(i=l.getCommand(this.command),(i=l.getCommandKeystroke(i))&&(o=CKEDITOR.tools.keystrokeToString(l.lang.common.keyboard,i))),t={id:r,name:this.name,iconName:h,label:this.label,cls:this.className||"",state:c,hasPopup:u?"true":"false",disabled:a==CKEDITOR.TRISTATE_DISABLED,title:this.label+(o?" ("+o.display+")":""),ariaShortcut:o?l.lang.common.keyboardShortcut+" "+o.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:t._.itemOverFn,moveOutFn:t._.itemOutFn,clickFn:t._.itemClickFn,index:e,iconStyle:CKEDITOR.skin.getIconStyle(h,"rtl"==this.editor.lang.dir,h==this.icon?null:this.icon,this.iconOffset),shortcutHtml:o?m.output({shortcut:o.display}):"",arrowHtml:u?g.output({label:d}):"",role:this.role?this.role:"menuitem",ariaChecked:s},p.output(t,n)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(t){this.base.call(this,t,{panel:{css:t.config.contextmenu_contentsCss,className:"cke_menu_panel",attributes:{"aria-label":t.lang.contextmenu.options}}})},proto:{addTarget:function(t,a){function e(){l=!1}var s,l;if(t.on("contextmenu",function(t){t=t.data;var e=CKEDITOR.env.webkit?s:CKEDITOR.env.mac?t.$.metaKey:t.$.ctrlKey;if(!(a&&e||(t.preventDefault(),l))){if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){e=this.editor;(n=new CKEDITOR.dom.elementPath(t.getTarget(),e.editable()).contains(function(t){return t.hasAttribute("contenteditable")},!0))&&"false"==n.getAttribute("contenteditable")&&e.getSelection().fake(n)}var n=t.getTarget().getDocument(),i=t.getTarget().getDocument().getDocumentElement(),o=(e=!n.equals(CKEDITOR.document),n=n.getWindow().getScrollPosition(),e?t.$.clientX:t.$.pageX||n.x+t.$.clientX),r=e?t.$.clientY:t.$.pageY||n.y+t.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,o,r)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n=function(){s=0};t.on("keydown",function(t){s=CKEDITOR.env.mac?t.data.$.metaKey:t.data.$.ctrlKey}),t.on("keyup",n),t.on("contextmenu",n)}CKEDITOR.env.gecko&&!CKEDITOR.env.mac&&(t.on("keydown",function(t){t.data.$.shiftKey&&121===t.data.$.keyCode&&(l=!0)},null,null,0),t.on("keyup",e),t.on("contextmenu",e))},open:function(t,e,n,i){!1!==this.editor.config.enableContextMenu&&this.editor.getSelection().getType()!==CKEDITOR.SELECTION_NONE&&(this.editor.focus(),t=t||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(t,e,n,i))}}})},beforeInit:function(t){var e=t.contextMenu=new CKEDITOR.plugins.contextMenu(t);t.on("contentDom",function(){e.addTarget(t.editable(),!1!==t.config.browserContextMenuOnCtrl)}),t.addCommand("contextMenu",{exec:function(t){var e,n=0,i=0;(e=(e=(e=t.getSelection().getRanges())[e.length-1].getClientRects(t.editable().isInline()))[e.length-1])&&(n=e["rtl"===t.lang.dir?"left":"right"],i=e.bottom),t.contextMenu.open(t.document.getBody().getParent(),null,n,i)}}),t.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),t.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function s(t,e,n,i){var o=new CKEDITOR.dom.walker(t);if(!(t=t.startContainer.getAscendant(e,!0)||t.endContainer.getAscendant(e,!0))||(n(t),!i))for(;(t=o.next())&&(!(t=t.getAscendant(e,!0))||(n(t),!i)););}function l(e,t){var n={ul:"ol",ol:"ul"};return-1!==h(t,function(t){return t.element===e||t.element===n[e]})}function t(t){this.styles=null,this.sticky=!1,this.editor=t,this.filter=new CKEDITOR.filter(t,t.config.copyFormatting_allowRules),!0===t.config.copyFormatting_allowRules&&(this.filter.disabled=!0),t.config.copyFormatting_disallowRules&&this.filter.disallow(t.config.copyFormatting_disallowRules)}var h=CKEDITOR.tools.indexOf,i=CKEDITOR.tools.getMouseButton,e=!1;CKEDITOR.plugins.add("copyformatting",{lang:"az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",icons:"copyformatting",hidpi:!0,init:function(a){var s=CKEDITOR.plugins.copyformatting;s._addScreenReaderContainer(),e||(CKEDITOR.document.appendStyleSheet(this.path+"styles/copyformatting.css"),e=!0),a.addContentsCss&&a.addContentsCss(this.path+"styles/copyformatting.css"),a.copyFormatting=new s.state(a),a.addCommand("copyFormatting",s.commands.copyFormatting),a.addCommand("applyFormatting",s.commands.applyFormatting),a.ui.addButton("CopyFormatting",{label:a.lang.copyformatting.label,command:"copyFormatting",toolbar:"cleanup,0"}),a.on("contentDom",function(){var n=a.editable(),t=n.isInline()?n:a.document,e=a.ui.get("CopyFormatting");n.attachListener(t,"mouseup",function(t){i(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&a.execCommand("applyFormatting")}),n.attachListener(CKEDITOR.document,"mouseup",function(t){var e=a.getCommand("copyFormatting");i(t)!==CKEDITOR.MOUSE_BUTTON_LEFT||e.state!==CKEDITOR.TRISTATE_ON||n.contains(t.data.getTarget())||a.execCommand("copyFormatting")}),e&&(t=CKEDITOR.document.getById(e._.id),n.attachListener(t,"dblclick",function(){a.execCommand("copyFormatting",{sticky:!0})}),n.attachListener(t,"mouseup",function(t){t.data.stopPropagation()}))}),a.config.copyFormatting_keystrokeCopy&&a.setKeystroke(a.config.copyFormatting_keystrokeCopy,"copyFormatting"),a.on("key",function(t){var e=a.getCommand("copyFormatting");(t=t.data.domEvent).getKeystroke&&27===t.getKeystroke()&&e.state===CKEDITOR.TRISTATE_ON&&a.execCommand("copyFormatting")}),a.copyFormatting.on("extractFormatting",function(t){var e=t.data.element;return e.contains(a.editable())||e.equals(a.editable())?t.cancel():(e=s._convertElementToStyleDef(e),a.copyFormatting.filter.check(new CKEDITOR.style(e),!0,!0)?void(t.data.styleDef=e):t.cancel())}),a.copyFormatting.on("applyFormatting",function(t){if(!t.data.preventFormatStripping){var e,n,i=t.data.range,o=s._extractStylesFromRange(a,i),r=s._determineContext(i);if(a.copyFormatting._isContextAllowed(r))for(n=0;n<o.length;n++)r=o[n],e=i.createBookmark(),-1===h(s.preservedElements,r.element)?CKEDITOR.env.webkit&&!CKEDITOR.env.chrome?o[n].removeFromRange(t.data.range,t.editor):o[n].remove(t.editor):l(r.element,t.data.styles)&&s._removeStylesFromElementInRange(i,r.element),i.moveToBookmark(e)}}),a.copyFormatting.on("applyFormatting",function(t){var e=CKEDITOR.plugins.copyformatting,n=e._determineContext(t.data.range);"list"===n&&a.copyFormatting._isContextAllowed("list")?e._applyStylesToListContext(t.editor,t.data.range,t.data.styles):"table"===n&&a.copyFormatting._isContextAllowed("table")?e._applyStylesToTableContext(t.editor,t.data.range,t.data.styles):a.copyFormatting._isContextAllowed("text")&&e._applyStylesToTextContext(t.editor,t.data.range,t.data.styles)},null,null,999)}}),t.prototype._isContextAllowed=function(t){var e=this.editor.config.copyFormatting_allowedContexts;return!0===e||-1!==h(e,t)},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.plugins.copyformatting={state:t,inlineBoundary:"h1 h2 h3 h4 h5 h6 p div".split(" "),excludedAttributes:["id","style","href","data-cke-saved-href","dir"],elementsForInlineTransform:["li"],excludedElementsFromInlineTransform:["table","thead","tbody","ul","ol"],excludedAttributesFromInlineTransform:["value","type"],preservedElements:"ul ol li td th tr thead tbody table".split(" "),breakOnElements:["ul","ol","table"],_initialKeystrokePasteCommand:null,commands:{copyFormatting:{exec:function(t,e){var n=CKEDITOR.plugins.copyformatting,i=t.copyFormatting,o=!!e&&"keystrokeHandler"==e.from,r=!!e&&(e.sticky||o),a=n._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(this.state===CKEDITOR.TRISTATE_ON)return i.styles=null,i.sticky=!1,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n._putScreenReaderMessage(t,"canceled"),n._detachPasteKeystrokeHandler(t),this.setState(CKEDITOR.TRISTATE_OFF);i.styles=n._extractStylesFromElement(t,t.elementPath().lastElement),this.setState(CKEDITOR.TRISTATE_ON),o||(a.addClass("cke_copyformatting_active"),s.addClass("cke_copyformatting_tableresize_cursor"),t.config.copyFormatting_outerCursor&&s.addClass("cke_copyformatting_disabled")),i.sticky=r,n._putScreenReaderMessage(t,"copied"),n._attachPasteKeystrokeHandler(t)}},applyFormatting:{editorFocus:!(CKEDITOR.env.ie&&!CKEDITOR.env.edge),exec:function(t,e){var n=t.getCommand("copyFormatting"),i=!!e&&"keystrokeHandler"==e.from,o=CKEDITOR.plugins.copyformatting,r=t.copyFormatting,a=o._getCursorContainer(t),s=CKEDITOR.document.getDocumentElement();if(i||n.state===CKEDITOR.TRISTATE_ON){if(i&&!r.styles)return o._putScreenReaderMessage(t,"failed"),o._detachPasteKeystrokeHandler(t),!1;i=o._applyFormat(t,r.styles),r.sticky||(r.styles=null,a.removeClass("cke_copyformatting_active"),s.removeClass("cke_copyformatting_disabled"),s.removeClass("cke_copyformatting_tableresize_cursor"),n.setState(CKEDITOR.TRISTATE_OFF),o._detachPasteKeystrokeHandler(t)),o._putScreenReaderMessage(t,i?"applied":"canceled")}}}},_getCursorContainer:function(t){return t.elementMode===CKEDITOR.ELEMENT_MODE_INLINE?t.editable():t.editable().getParent()},_convertElementToStyleDef:function(t){var e=CKEDITOR.tools,n=t.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes);e=e.parseCssText(t.getAttribute("style"),!0,!0);return{element:t.getName(),type:CKEDITOR.STYLE_INLINE,attributes:n,styles:e}},_extractStylesFromElement:function(t,e){var n={},i=[];do{if(e.type===CKEDITOR.NODE_ELEMENT&&!e.hasAttribute("data-cke-bookmark")&&(n.element=e,t.copyFormatting.fire("extractFormatting",n,t)&&n.styleDef&&i.push(new CKEDITOR.style(n.styleDef)),e.getName&&-1!==h(CKEDITOR.plugins.copyformatting.breakOnElements,e.getName())))break}while((e=e.getParent())&&e.type===CKEDITOR.NODE_ELEMENT);return i},_extractStylesFromRange:function(t,e){for(var n,i=[],o=new CKEDITOR.dom.walker(e);n=o.next();)i=i.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(t,n));return i},_removeStylesFromElementInRange:function(t,e){for(var n,i=-1!==h(["ol","ul","table"],e),o=new CKEDITOR.dom.walker(t);(n=o.next())&&(!(n=n.getAscendant(e,!0))||(n.removeAttributes(n.getAttributes()),!i)););},_getSelectedWordOffset:function(t){function c(t,e){return t[e?"getPrevious":"getNext"](function(t){return t.type!==CKEDITOR.NODE_COMMENT})}function u(t){return t.type==CKEDITOR.NODE_ELEMENT?(t=t.getHtml().replace(/<span.*?>&nbsp;<\/span>/g,"")).replace(/<.*?>/g,""):t.getText()}function d(t,e){var n,i,o=t,r=/\s/g,a="p br ol ul li td th div caption body".split(" "),s=!1,l=!1;do{for(n=c(o,e);!n&&o.getParent();){if(o=o.getParent(),-1!==h(a,o.getName())){l=s=!0;break}n=c(o,e)}if(n&&n.getName&&-1!==h(a,n.getName())){s=!0;break}o=n}while(o&&o.getStyle&&("none"==o.getStyle("display")||!o.getText()));for(o||(o=t);o.type!==CKEDITOR.NODE_TEXT;)o=!s||e||l?o.getChild(0):o.getChild(o.getChildCount()-1);for(a=u(o);null!=(l=r.exec(a))&&(i=l.index,e););if("number"!=typeof i&&!s)return d(o,e);if(s)e?i=0:i=(l=(r=/([\.\b]*$)/).exec(a))?l.index:a.length;else if(e&&(i+=1)>a.length)return d(o);return{node:o,offset:i}}var e,n,i,o,r,a=/\b\w+\b/gi;for(e=u(i=o=r=t.startContainer);null!=(n=a.exec(e));)if(n.index+n[0].length>=t.startOffset)return t=n.index,a=n.index+n[0].length,0===n.index&&(o=(n=d(i,!0)).node,t=n.offset),a>=e.length&&(r=(e=d(i)).node,a=e.offset),{startNode:o,startOffset:t,endNode:r,endOffset:a};return null},_filterStyles:function(t){var e,n,i=CKEDITOR.tools.isEmpty,o=[];for(n=0;n<t.length;n++)e=t[n]._.definition,-1!==CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary,e.element)&&(e.element=t[n].element="span"),"span"===e.element&&i(e.attributes)&&i(e.styles)||o.push(t[n]);return o},_determineContext:function(i){function t(t){var e,n=new CKEDITOR.dom.walker(i);if(i.startContainer.getAscendant(t,!0)||i.endContainer.getAscendant(t,!0))return!0;for(;e=n.next();)if(e.getAscendant(t,!0))return!0}return t({ul:1,ol:1})?"list":t("table")?"table":"text"},_applyStylesToTextContext:function(t,e,n){var i,o,r=CKEDITOR.plugins.copyformatting,a=r.excludedAttributesFromInlineTransform;for(CKEDITOR.env.webkit&&!CKEDITOR.env.chrome&&t.getSelection().selectRanges([e]),i=0;i<n.length;i++)if(e=n[i],-1===h(r.excludedElementsFromInlineTransform,e.element)){if(-1!==h(r.elementsForInlineTransform,e.element))for(e.element=e._.definition.element="span",o=0;o<a.length;o++)e._.definition.attributes[a[o]]&&delete e._.definition.attributes[a[o]];e.apply(t)}},_applyStylesToListContext:function(t,e,n){var i,o,r;for(r=0;r<n.length;r++)i=n[r],o=e.createBookmark(),"ol"===i.element||"ul"===i.element?s(e,{ul:1,ol:1},function(t){var e=i;t.getName()!==e.element&&t.renameNode(e.element),e.applyToObject(t)},!0):"li"===i.element?s(e,"li",function(t){i.applyToObject(t)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[i]),e.moveToBookmark(o)},_applyStylesToTableContext:function(t,e,n){function i(t,e){t.getName()!==e.element&&((e=e.getDefinition()).element=t.getName(),e=new CKEDITOR.style(e)),e.applyToObject(t)}var o,r,a;for(a=0;a<n.length;a++)o=n[a],r=e.createBookmark(),-1!==h(["table","tr"],o.element)?s(e,o.element,function(t){o.applyToObject(t)}):-1!==h(["td","th"],o.element)?s(e,{td:1,th:1},function(t){i(t,o)}):-1!==h(["thead","tbody"],o.element)?s(e,{thead:1,tbody:1},function(t){i(t,o)}):CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t,e,[o]),e.moveToBookmark(r)},_applyFormat:function(t,e){var n,i,o=t.getSelection().getRanges()[0],r=CKEDITOR.plugins.copyformatting;if(!o)return!1;if(o.collapsed){if(i=t.getSelection().createBookmarks(),!(n=r._getSelectedWordOffset(o)))return;(o=t.createRange()).setStart(n.startNode,n.startOffset),o.setEnd(n.endNode,n.endOffset),o.select()}return e=r._filterStyles(e),!!t.copyFormatting.fire("applyFormatting",{styles:e,range:o,preventFormatStripping:!1},t)&&(i&&t.getSelection().selectBookmarks(i),!0)},_putScreenReaderMessage:function(t,e){var n=this._getScreenReaderContainer();n&&n.setText(t.lang.copyformatting.notification[e])},_addScreenReaderContainer:function(){return this._getScreenReaderContainer()?this._getScreenReaderContainer():CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?void 0:CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)},_getScreenReaderContainer:function(){if(!CKEDITOR.env.ie6Compat&&!CKEDITOR.env.ie7Compat
)return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")},_attachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&(this._initialKeystrokePasteCommand=t.keystrokeHandler.keystrokes[e],t.setKeystroke(e,"applyFormatting"))},_detachPasteKeystrokeHandler:function(t){var e=t.config.copyFormatting_keystrokePaste;e&&t.setKeystroke(e,this._initialKeystrokePasteCommand||!1)}},CKEDITOR.config.copyFormatting_outerCursor=!0,CKEDITOR.config.copyFormatting_allowRules="b s u i em strong span p div td th ol ul li(*)[*]{*}",CKEDITOR.config.copyFormatting_disallowRules="*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)",CKEDITOR.config.copyFormatting_allowedContexts=!0,CKEDITOR.config.copyFormatting_keystrokeCopy=CKEDITOR.CTRL+CKEDITOR.SHIFT+67,CKEDITOR.config.copyFormatting_keystrokePaste=CKEDITOR.CTRL+CKEDITOR.SHIFT+86}(),CKEDITOR.plugins.add("div",{requires:"dialog",init:function(e){if(!e.blockless){var t=e.lang.div,n="div(*)";CKEDITOR.dialog.isTabEnabled(e,"editdiv","advanced")&&(n+=";div[dir,id,lang,title]{*}"),e.addCommand("creatediv",new CKEDITOR.dialogCommand("creatediv",{allowedContent:n,requiredContent:"div",contextSensitive:!0,contentTransformations:[["div: alignmentToStyle"]],refresh:function(t,e){this.setState("div"in(t.config.div_wrapTable?e.root:e.blockLimit).getDtd()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})),e.addCommand("editdiv",new CKEDITOR.dialogCommand("editdiv",{requiredContent:"div"})),e.addCommand("removediv",{requiredContent:"div",exec:function(e){function t(t){(t=CKEDITOR.plugins.div.getSurroundDiv(e,t))&&!t.data("cke-div-added")&&(a.push(t),t.data("cke-div-added"))}for(var n,i=e.getSelection(),o=i&&i.getRanges(),r=i.createBookmarks(),a=[],s=0;s<o.length;s++)(n=o[s]).collapsed?t(i.getStartElement()):((n=new CKEDITOR.dom.walker(n)).evaluator=t,n.lastForward());for(s=0;s<a.length;s++)a[s].remove(!0);i.selectBookmarks(r)}}),e.ui.addButton&&e.ui.addButton("CreateDiv",{label:t.toolbar,command:"creatediv",toolbar:"blocks,50"}),e.addMenuItems&&(e.addMenuItems({editdiv:{label:t.edit,command:"editdiv",group:"div",order:1},removediv:{label:t.remove,command:"removediv",group:"div",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){return!t||t.isReadOnly()?null:CKEDITOR.plugins.div.getSurroundDiv(e)?{editdiv:CKEDITOR.TRISTATE_OFF,removediv:CKEDITOR.TRISTATE_OFF}:null})),CKEDITOR.dialog.add("creatediv",this.path+"dialogs/div.js"),CKEDITOR.dialog.add("editdiv",this.path+"dialogs/div.js")}}}),CKEDITOR.plugins.div={getSurroundDiv:function(t,e){var n=t.elementPath(e);return t.elementPath(n.blockLimit).contains(function(t){return t.is("div")&&!t.isReadOnly()},1)}},CKEDITOR.plugins.add("resize",{init:function(o){function e(t){var e=l.width,n=l.height,i=e+(t.data.$.screenX-s.x)*("rtl"==a?-1:1);t=n+(t.data.$.screenY-s.y),u&&(e=Math.max(r.resize_minWidth,Math.min(i,r.resize_maxWidth))),d&&(n=Math.max(r.resize_minHeight,Math.min(t,r.resize_maxHeight))),o.resize(u?e:null,n)}function n(){CKEDITOR.document.removeListener("mousemove",e),CKEDITOR.document.removeListener("mouseup",n),o.document&&(o.document.removeListener("mousemove",e),o.document.removeListener("mouseup",n))}var r=o.config,i=o.ui.spaceId("resizer"),a=o.element?o.element.getDirection(1):"ltr";if(!r.resize_dir&&(r.resize_dir="vertical"),void 0===r.resize_maxWidth&&(r.resize_maxWidth=3e3),void 0===r.resize_maxHeight&&(r.resize_maxHeight=3e3),void 0===r.resize_minWidth&&(r.resize_minWidth=750),void 0===r.resize_minHeight&&(r.resize_minHeight=250),!1!==r.resize_enabled){var s,l,c=null,u=("both"==r.resize_dir||"horizontal"==r.resize_dir)&&r.resize_minWidth!=r.resize_maxWidth,d=("both"==r.resize_dir||"vertical"==r.resize_dir)&&r.resize_minHeight!=r.resize_maxHeight,h=CKEDITOR.tools.addFunction(function(t){c||(c=o.getResizable()),l={width:c.$.offsetWidth||0,height:c.$.offsetHeight||0},s={x:t.screenX,y:t.screenY},r.resize_minWidth>l.width&&(r.resize_minWidth=l.width),r.resize_minHeight>l.height&&(r.resize_minHeight=l.height),CKEDITOR.document.on("mousemove",e),CKEDITOR.document.on("mouseup",n),o.document&&(o.document.on("mousemove",e),o.document.on("mouseup",n)),t.preventDefault&&t.preventDefault()});o.on("destroy",function(){CKEDITOR.tools.removeFunction(h)}),o.on("uiSpace",function(t){if("bottom"==t.data.space){var e="";u&&!d&&(e=" cke_resizer_horizontal"),!u&&d&&(e=" cke_resizer_vertical");var n='<span id="'+i+'" class="cke_resizer'+e+" cke_resizer_"+a+'" title="'+CKEDITOR.tools.htmlEncode(o.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event)">'+("ltr"==a?"\u25e2":"\u25e3")+"</span>";"ltr"==a&&"ltr"==e?t.data.html+=n:t.data.html=n+t.data.html}},o,null,100),o.on("maximize",function(t){o.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),function(){function n(h,t){function o(t){var e;(t=g.list[t]).equals(h.editable())||"true"==t.getAttribute("contenteditable")?((e=h.createRange()).selectNodeContents(t),e=e.select()):(e=h.getSelection()).selectElement(t),CKEDITOR.env.ie&&h.fire("selectionChange",{selection:e,path:new CKEDITOR.dom.elementPath(t)}),h.focus()}function e(){f&&f.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete g.list}var f,p=h.ui.spaceId("path"),g=h._.elementsPath,m=g.idBase;t.html+='<span id="'+p+'_label" class="cke_voice_label">'+h.lang.elementspath.eleLabel+'</span><span id="'+p+'" class="cke_path" role="group" aria-labelledby="'+p+'_label"><span class="cke_path_empty">&nbsp;</span></span>',h.on("uiReady",function(){var t=h.ui.space("path");t&&h.focusManager.add(t,1)}),g.onClick=o;var E=CKEDITOR.tools.addFunction(o),v=CKEDITOR.tools.addFunction(function(t,e){var n,i=g.idBase;switch(e=new CKEDITOR.dom.event(e),n="rtl"==h.lang.dir,e.getKeystroke()){case n?39:37:case 9:return(n=CKEDITOR.document.getById(i+(t+1)))||(n=CKEDITOR.document.getById(i+"0")),n.focus(),!1;case n?37:39:case CKEDITOR.SHIFT+9:return(n=CKEDITOR.document.getById(i+(t-1)))||(n=CKEDITOR.document.getById(i+(g.list.length-1))),n.focus(),!1;case 27:return h.focus(),!1;case 13:case 32:return o(t),!1}return!0});h.on("selectionChange",function(t){for(var e=[],n=g.list=[],i=[],o=g.filters,r=!0,a=t.data.path.elements,s=a.length;s--;){var l=a[s],c=0;t=l.data("cke-display-name")?l.data("cke-display-name"):l.data("cke-real-element-type")?l.data("cke-real-element-type"):l.getName(),(r=l.hasAttribute("contenteditable")?"true"==l.getAttribute("contenteditable"):r)||l.hasAttribute("contenteditable")||(c=1);for(var u=0;u<o.length;u++){var d=o[u](l,t);if(!1===d){c=1;break}t=d||t}c||(n.unshift(l),i.unshift(t))}for(n=n.length,o=0;o<n;o++)t=i[o],r=h.lang.elementspath.eleTitle.replace(/%1/,t),t=T.output({id:m+o,label:r,text:t,jsTitle:"javascript:void('"+t+"')",index:o,keyDownFn:v,clickFn:E}),e.unshift(t);f||(f=CKEDITOR.document.getById(p)),(i=f).setHtml(e.join("")+'<span class="cke_path_empty">&nbsp;</span>'),h.fire("elementsPathUpdate",{space:i})}),h.on("readOnly",e),h.on("contentDomUnload",e),h.addCommand("elementsPathFocus",i.toolbarFocus),h.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var i={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(t){(t=CKEDITOR.document.getById(t._.elementsPath.idBase+"0"))&&t.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},t="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');var T=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+t+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(e){e._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},e.on("uiSpace",function(t){"bottom"==t.data.space&&n(e,t.data)})}})}(),function(){function e(t,e,n){if(n=t.config.forceEnterMode||n,"wysiwyg"==t.mode){e||(e=t.activeEnterMode);var i=t.elementPath();i&&!i.isContextFor("p")&&(e=CKEDITOR.ENTER_BR,n=1),t.fire("saveSnapshot"),e==CKEDITOR.ENTER_BR?v(t,e,null,n):c(t,e,null,n),t.fire("saveSnapshot")}}function m(t){for(var e=(t=t.getSelection().getRanges(!0)).length-1;0<e;e--)t[e].deleteContents();return t[0]}function E(t){var e=t.startContainer.getAscendant(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&"true"==t.getAttribute("contenteditable")},!0);return t.root.equals(e)?t:((e=new CKEDITOR.dom.range(e)).moveToRange(t),e)}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var t,v,c,T,y=CKEDITOR.dom.walker.whitespaces(),b=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(t,e,n,i){function o(t){var e;return t!==CKEDITOR.ENTER_BR&&-1!==CKEDITOR.tools.indexOf(["td","th"],c.lastElement.getName())&&1===c.lastElement.getChildCount()&&((e=(t=c.lastElement.getChild(0).clone(!0)).getBogus())&&e.remove(),!t.getText().length)}if(n=n||m(t)){var r,a=(n=E(n)).document,s=n.checkStartOfBlock(),l=n.checkEndOfBlock(),c=t.elementPath(n.startContainer),u=c.block,d=e==CKEDITOR.ENTER_DIV?"div":"p";if(s&&l){if(u&&(u.is("li")||u.getParent().is("li"))){u.is("li")||(u=u.getParent()),r=(n=u.getParent()).getParent(),i=!u.hasPrevious();l=!u.hasNext(),s=(d=t.getSelection()).createBookmarks();var h=u.getDirection(1),f=u.getAttribute("class"),p=u.getAttribute("style"),g=r.getDirection(1)!=h;if(t=t.enterMode!=CKEDITOR.ENTER_BR||g||p||f,r.is("li"))i||l?(i&&l&&n.remove(),u[l?"insertAfter":"insertBefore"](r)):u.breakParent(r);else{if(t)c.block.is("li")?(r=a.createElement(e==CKEDITOR.ENTER_P?"p":"div"),g&&r.setAttribute("dir",h),p&&r.setAttribute("style",p),f&&r.setAttribute("class",f),u.moveChildren(r)):r=c.block,i||l?r[i?"insertBefore":"insertAfter"](n):(u.breakParent(n),r.insertAfter(n));else if(u.appendBogus(!0),i||l)for(;a=u[i?"getFirst":"getLast"]();)a[i?"insertBefore":"insertAfter"](n);else for(u.breakParent(n);a=u.getLast();)a.insertAfter(n);u.remove()}return void d.selectBookmarks(s)}if(u&&u.getParent().is("blockquote"))return u.breakParent(u.getParent()),u.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getPrevious().remove(),u.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||u.getNext().remove(),n.moveToElementEditStart(u),void n.select()}else if(u&&u.is("pre")&&!l)return void v(t,e,n,i);if(p=n.splitBlock(d)){if(t=p.previousBlock,u=p.nextBlock,s=p.wasStartOfBlock,l=p.wasEndOfBlock,u?(h=u.getParent()).is("li")&&(u.breakParent(h),u.move(u.getNext(),1)):t&&(h=t.getParent())&&h.is("li")&&(t.breakParent(h),h=t.getNext(),n.moveToElementEditStart(h),t.move(t.getPrevious())),s||l)if(o(e))n.moveToElementEditStart(n.getTouchedStartNode());else{if(t?(t.is("li")||!T.test(t.getName())&&!t.is("pre"))&&(r=t.clone()):u&&(r=u.clone()),r?i&&!r.is("li")&&r.renameNode(d):h&&h.is("li")?r=h:(r=a.createElement(d),t&&(f=t.getDirection())&&r.setAttribute("dir",f)),a=p.elementPath)for(e=0,i=a.elements.length;e<i&&(!(d=a.elements[e]).equals(a.block)&&!d.equals(a.blockLimit));e++)CKEDITOR.dtd.$removeEmpty[d.getName()]&&(d=d.clone(),r.moveChildren(d),r.append(d));r.appendBogus(),r.getParent()||n.insertNode(r),r.is("li")&&r.removeAttribute("value"),!CKEDITOR.env.ie||!s||l&&t.getChildCount()||(n.moveToElementEditStart(l?t:r),n.select()),n.moveToElementEditStart(s&&!l?u:r)}else u.is("li")&&((r=n.clone()).selectNodeContents(u),(r=new CKEDITOR.dom.walker(r)).evaluator=function(t){return!(b(t)||y(t)||t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in CKEDITOR.dtd.$inline&&!(t.getName()in CKEDITOR.dtd.$empty))},(h=r.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?a.createElement("br"):a.createText("\xa0")).insertBefore(h)),u&&n.moveToElementEditStart(u);n.select(),n.scrollIntoView()}}},enterBr:function(t,e,n,i){if(n=n||m(t)){var o=n.document,r=n.checkEndOfBlock(),a=new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),s=a.block,l=s&&a.block.getName();i||"li"!=l?(!i&&r&&T.test(l)?(r=s.getDirection())?((o=o.createElement("div")).setAttribute("dir",r),o.insertAfter(s),n.setStart(o,0)):(o.createElement("br").insertAfter(s),CKEDITOR.env.gecko&&o.createText("").insertAfter(s),n.setStartAt(s.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(t="pre"==l&&CKEDITOR.env.ie&&CKEDITOR.env.version<8?o.createText("\r"):o.createElement("br"),n.deleteContents(),n.insertNode(t),CKEDITOR.env.needsBrFiller?(o.createText("\ufeff").insertAfter(t),r&&(s||a.blockLimit).appendBogus(),t.getNext().$.nodeValue="",n.setStartAt(t.getNext(),CKEDITOR.POSITION_AFTER_START)):n.setStartAt(t,CKEDITOR.POSITION_AFTER_END)),n.collapse(!0),n.select(),n.scrollIntoView()):c(t,e,n,i)}}},t=CKEDITOR.plugins.enterkey,v=t.enterBr,c=t.enterBlock,T=/^h[1-6]$/}(),function(){function c(t,i){var o={},r=[],a={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(t=(t=t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(t,e){var n=i?"&"+e+";":a[e];return o[n]=i?a[e]:"&"+e+";",r.push(n),""})).replace(/,$/,""),!i&&t){t=t.split(",");var e,n=document.createElement("div");for(n.innerHTML="&"+t.join(";&")+";",e=n.innerHTML,n=null,n=0;n<e.length;n++){var s=e.charAt(n);o[s]="&"+t[n]+";",r.push(s)}}return o.regex=r.join(i?"|":""),o}CKEDITOR.plugins.add("entities",{afterInit:function(t){function e(t){return s[t]}function n(t){return"force"!=i.entities_processNumerical&&r[t]?r[t]:"&#"+t.charCodeAt(0)+";"}var i=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var o=[];!1!==i.basicEntities&&o.push("nbsp,gt,lt,amp"),i.entities&&(o.length&&o.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),i.entities_latin&&o.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),i.entities_greek&&o.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),i.entities_additional&&o.push(i.entities_additional));var r=c(o.join(",")),a=r.regex?"["+r.regex+"]":"a^";delete r.regex,i.entities&&i.entities_processNumerical&&(a="[^ -~]|"+a);a=new RegExp(a,"g");var s=c("nbsp,gt,lt,amp,shy",!0),l=new RegExp(s.regex,"g");t.addRules({text:function(t){return t.replace(l,e).replace(a,n)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(t,e,n,i){n=n||"70%","string"==typeof(e=e||"80%")&&1<e.length&&"%"==e.substr(e.length-1,1)&&(e=parseInt(window.screen.width*parseInt(e,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),e<640&&(e=640),n<420&&(n=420);var o=parseInt((window.screen.height-n)/2,10),r=parseInt((window.screen.width-e)/2,10);i=(i||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+e+",height="+n+",top="+o+",left="+r;var a=window.open("",null,i,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(r,o),a.resizeTo(e,n)),a.focus(),a.location.href=t}catch(s){window.open(t,null,i,!0)}return!0}}),function(){function t(t){this.editor=t,this.loaders=[]}function o(t,e,n){var i=t.config.fileTools_defaultFileName;this.editor=t,this.lang=t.lang,"string"==typeof e?(this.data=e,this.file=r(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=e,this.total=this.file.size,this.loaded=0),n?this.fileName=n:this.file.name?this.fileName=this.file.name:(t=this.file.type.split("/"),i&&(t[0]=i),this.fileName=t.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function r(t){var e=t.match(s)[1];t=t.replace(s,""),t=atob(t);var n,i,o,r,a=[];for(n=0;n<t.length;n+=512){for(i=t.slice(n,n+512),o=Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);i=new Uint8Array(o),a.push(i)}return new Blob(a,{type:e})}CKEDITOR.plugins.add("filetools",{beforeInit:function(s){s.uploadRepository=new t(s),s.on("fileUploadRequest",function(t){var e=t.data.fileLoader;e.xhr.open("POST",e.uploadUrl,!0),t.data.requestData.upload={file:e.file,name:e.fileName}},null,null,5),s.on("fileUploadRequest",function(t){var e=t.data.fileLoader,n=new FormData;t=t.data.requestData;var i,o,r=s.config.fileTools_requestHeaders;for(o in t){var a=t[o];"object"==typeof a&&a.file?n.append(o,a.file,a.name):n.append(o,a)}if(n.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),r)for(i in r)e.xhr.setRequestHeader(i,r[i]);e.xhr.send(n)},null,null,999),s.on("fileUploadResponse",function(t){var e=t.data.fileLoader,n=e.xhr,i=t.data;try{var o=JSON.parse(n.responseText);if(o.error&&o.error.message&&(i.message=o.error.message),o.uploaded)for(var r in o)i[r]=o[r];else t.cancel()}catch(a){i.message=e.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:n.responseText}),t.cancel()}},null,null,999)}}),t.prototype={create:function(t,e,n){n=n||o;var i=this.loaders.length;return(t=new n(this.editor,t,e)).id=i,this.loaders[i]=t,this.fire("instanceCreated",t),t},isFinished:function(){for(var t=0;t<this.loaders.length;++t)if(!this.loaders[t].isFinished())return!1;return!0}},o.prototype={loadAndUpload:function(e,n){var i=this;this.once("loaded",function(t){t.cancel(),i.once("update",function(t){t.cancel()},null,null,0),i.upload(e,n)},null,null,0),this.load()},load:function(){var e=this,t=this.reader=new FileReader;e.changeStatus("loading"),this.abort=function(){e.reader.abort()},t.onabort=function(){e.changeStatus("abort")},t.onerror=function(){e.message=e.lang.filetools.loadError,e.changeStatus("error")},t.onprogress=function(t){e.loaded=t.loaded,e.update()},t.onload=function(){e.loaded=e.total,e.data=t.result,e.changeStatus("loaded")},t.readAsDataURL(this.file)},upload:function(t,e){var n=e||{};t?(this.uploadUrl=t,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function t(){"error"!=r.status&&(r.message=r.lang.filetools.networkError,r.changeStatus("error"))}function e(){"abort"!=r.status&&r.changeStatus("abort")}var r=this,a=this.xhr;r.abort=function(){a.abort(),e()},a.onerror=t,a.onabort=e,a.upload?(a.upload.onprogress=function(t){t.lengthComputable&&(r.uploadTotal||(r.uploadTotal=t.total),r.uploaded=t.loaded,r.update())},a.upload.onerror=t,a.upload.onabort=e):(r.uploadTotal=r.total,r.update()),a.onload=function(){if(r.update(),"abort"!=r.status)if(r.uploaded=r.uploadTotal,a.status<200||299<a.status)r.message=r.lang.filetools["httpError"+a.status],r.message||(r.message=r.lang.filetools.httpError.replace("%1",a.status)),r.changeStatus("error");else{for(var t={fileLoader:r},e=["message","fileName","url"],n=r.editor.fire("fileUploadResponse",t),i=0;i<e.length;i++){var o=e[i];"string"==typeof t[o]&&(r[o]=t[o])}r.responseData=t,delete r.responseData.fileLoader,!1===n?r.changeStatus("error"):r.changeStatus("uploaded")}}},changeStatus:function(t){"error"!=(this.status=t)&&"abort"!=t&&"loaded"!=t&&"uploaded"!=t||(this.abort=function(){}),this.fire(t),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.event.implementOn(o.prototype);var s=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:t,fileLoader:o,getUploadUrl:function(t,e){var n=CKEDITOR.tools.capitalize;return e&&t[e+"UploadUrl"]?t[e+"UploadUrl"]:t.uploadUrl?t.uploadUrl:e&&t["filebrowser"+n(e,1)+"UploadUrl"]?t["filebrowser"+n(e,1)+"UploadUrl"]+"&responseType=json":t.filebrowserUploadUrl?t.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(t,e){return!!t.type.match(e)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function o(t,e){var n=[];if(!e)return t;for(var i in e)n.push(i+"="+encodeURIComponent(e[i]));return t+(-1!=t.indexOf("?")?"&":"?")+n.join("&")}function l(t){return!t.match(/command=QuickUpload/)||t.match(/(\?|&)responseType=json/)?t:o(t,{responseType:"json"})}function c(t){return(t+="").charAt(0).toUpperCase()+t.substr(1)}function u(){var t=(n=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var e=t.config["filebrowser"+c(n.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",n=t.config["filebrowser"+c(n.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),i=o(this.filebrowser.url,i),t.popup(i,e,n,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function d(t){var e=new CKEDITOR.dom.element(t.$.form);e&&((t=e.$.elements.ckCsrfToken)?t=new CKEDITOR.dom.element(t):((t=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),e.append(t)),t.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function h(){var t=this.getDialog();return t.getParentEditor()._.filebrowserSe=this,!(!t.getContentElement(this["for"][0],this["for"][1]).getInputElement().$.value||!t.getContentElement(this["for"][0],this["for"][1]).getAction())}function f(t,e,n){var i=n.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),e.action=o(n.url,i),e.filebrowser=n}function p(o,t,e,n){if(n&&n.length)for(var i,r=n.length;r--;)if("hbox"!=(i=n[r]).type&&"vbox"!=i.type&&"fieldset"!=i.type||p(o,t,e,i.children),i.filebrowser)if("string"==typeof i.filebrowser&&(i.filebrowser={action:"fileButton"==i.type?"QuickUpload":"Browse",target:i.filebrowser}),"Browse"==i.filebrowser.action){var a=i.filebrowser.url;void 0===a&&(void 0===(a=o.config["filebrowser"+c(t)+"BrowseUrl"])&&(a=o.config.filebrowserBrowseUrl)),a&&(i.onClick=u,i.filebrowser.url=a,i.hidden=!1)}else if("QuickUpload"==i.filebrowser.action&&i["for"]&&(void 0===(a=i.filebrowser.url)&&(void 0===(a=o.config["filebrowser"+c(t)+"UploadUrl"])&&(a=o.config.filebrowserUploadUrl)),a)){var s=i.onClick;i.onClick=function(t){var e=t.sender,n=e.getDialog().getContentElement(this["for"][0],this["for"][1]).getInputElement(),i=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!s||!1!==s.call(e,t))&&(!!h.call(e,t)&&("form"!==o.config.filebrowserUploadMethod&&i?((t=o.uploadRepository.create(n.$.files[0])).on("uploaded",function(t){var e=t.sender.responseData;m.call(t.sender.editor,e.url,e.message)}),t.on("error",g.bind(this)),t.on("abort",g.bind(this)),t.loadAndUpload(l(a)),"xhr"):(d(n),!0)))},i.filebrowser.url=a,i.hidden=!1,f(o,e.getContents(i["for"][0]).get(i["for"][1]),i.filebrowser)}}function g(t){var e={};try{e=JSON.parse(t.sender.xhr.response)||{}}catch(n){}this.enable(),alert(e.error?e.error.message:t.sender.message)}function r(t,e,n){if(-1===n.indexOf(";"))return(t=t.getContents(e).get(n).filebrowser)&&t.url;n=n.split(";");for(var i=0;i<n.length;i++)if(r(t,e,n[i]))return!0;return!1}function m(t,e){var n=this._.filebrowserSe.getDialog(),i=this._.filebrowserSe["for"],o=this._.filebrowserSe.filebrowser.onSelect;i&&n.getContentElement(i[0],i[1]).reset(),"function"==typeof e&&!1===e.call(this._.filebrowserSe)||o&&!1===o.call(this._.filebrowserSe,t,e)||("string"==typeof e&&e&&alert(e),t&&(n=(i=this._.filebrowserSe).getDialog(),i=i.filebrowser.target||null)&&(i=i.split(":"),(o=n.getContentElement(i[0],i[1]))&&(o.setValue(t),n.selectPage(i[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(t){t._.filebrowserFn=CKEDITOR.tools.addFunction(m,t),t.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(t){if(t.editor.plugins.filebrowser)for(var e,n=t.data.definition,i=0;i<n.contents.length;++i)(e=n.contents[i])&&(p(t.editor,t.data.name,n,e.elements),e.hidden&&e.filebrowser&&(e.hidden=!r(n,e.id,e.filebrowser)))})}(),CKEDITOR.plugins.add("find",{requires:"dialog",init:function(t){var e=t.addCommand("find",new CKEDITOR.dialogCommand("find")),n=t.addCommand("replace",new CKEDITOR.dialogCommand("find",{tabId:"replace"}));e.canUndo=!1,e.readOnly=1,n.canUndo=!1,t.ui.addButton&&(t.ui.addButton("Find",{label:t.lang.find.find,command:"find",toolbar:"find,10"}),t.ui.addButton("Replace",{label:t.lang.find.replace,command:"replace",toolbar:"find,20"})),CKEDITOR.dialog.add("find",this.path+"dialogs/find.js")}}),CKEDITOR.config.find_highlight={element:"span",styles:{"background-color":"#004",color:"#fff"}},function(){function o(t,e){var n=r.exec(t),i=r.exec(e);if(n){if(!n[2]&&"px"==i[2])return i[1];if("px"==n[2]&&!i[2])return i[1]+"px"}return e}var a=CKEDITOR.htmlParser.cssStyle,s=CKEDITOR.tools.cssLength,r=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,e={elements:{$:function(t){var e=t.attributes;if((e=(e=(e=e&&e["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(e)))&&e.children[0])&&t.attributes["data-cke-resizable"]){var n=new a(t).rules;t=e.attributes;var i=n.width;n=n.height;i&&(t.width=o(t.width,i)),n&&(t.height=o(t.height,n))}return e}}};CKEDITOR.plugins.add("fakeobjects",{init:function(t){t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(t){(t=(t=t.dataProcessor)&&t.htmlFilter)&&t.addRules(e,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(t,e,n,i){var o=(o=this.lang.fakeobjects)[n]||o.unknown;return e={"class":e,"data-cke-realelement":encodeURIComponent(t.getOuterHtml()),"data-cke-real-node-type":t.type,alt:o,title:o,align:t.getAttribute("align")||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,n=new a,i=t.getAttribute("width"),t=t.getAttribute("height"),i&&(n.rules.width=s(i)),t&&(n.rules.height=s(t)),n.populate(e)),this.document.createElement("img",{attributes:e})},CKEDITOR.editor.prototype.createFakeParserElement=function(t,e,n,i){var o,r=(r=this.lang.fakeobjects)[n]||r.unknown;return o=new CKEDITOR.htmlParser.basicWriter,t.writeHtml(o),o=o.getHtml(),e={"class":e,"data-cke-realelement":encodeURIComponent(o),"data-cke-real-node-type":t.type,alt:r,title:r,align:t.attributes.align||""},CKEDITOR.env.hc||(e.src=CKEDITOR.tools.transparentImageData),n&&(e["data-cke-real-element-type"]=n),i&&(e["data-cke-resizable"]=i,i=t.attributes,t=new a,n=i.width,i=i.height,void 0!==n&&(t.rules.width=s(n)),void 0!==i&&(t.rules.height=s(i)),t.populate(e)),new CKEDITOR.htmlParser.element("img",e)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var e=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var n=t.getStyle("width");t=t.getStyle("height"),n&&e.setAttribute("width",o(e.getAttribute("width"),n)),t&&e.setAttribute("height",o(e.getAttribute("height"),t))}return e}}(),function(){function i(t){return"application/x-shockwave-flash"==(t=t.attributes).type||e.test(t.src||"")}function o(t,e){return t.createFakeParserElement(e,"cke_flash","flash",!0)}var e=/\.swf(?:$|\?)/i;CKEDITOR.plugins.add("flash",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_flash{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e="object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";CKEDITOR.dialog.isTabEnabled(t,"flash","properties")&&(e+=";object[align]; embed[allowscriptaccess,quality,scale,wmode]"),CKEDITOR.dialog.isTabEnabled(t,"flash","advanced")&&(e+=";object[id]{*}; embed[bgcolor]{*}(*)"),t.addCommand("flash",new CKEDITOR.dialogCommand("flash",{allowedContent:e,requiredContent:"embed"})),t.ui.addButton&&t.ui.addButton("Flash",{label:t.lang.common.flash,command:"flash",toolbar:"insert,20"}),CKEDITOR.dialog.add("flash",this.path+"dialogs/flash.js"),t.addMenuItems&&t.addMenuItems({flash:{label:t.lang.flash.properties,command:"flash",group:"flash"}}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"flash"==e.data("cke-real-element-type")&&(t.data.dialog="flash")}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&!t.isReadOnly()&&"flash"==t.data("cke-real-element-type"))return{flash:CKEDITOR.TRISTATE_OFF}})},afterInit:function(n){var t=n.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{"cke:object":function(t){var e=t.attributes;if(e.classid&&String(e.classid).toLowerCase()||i(t))return o(n,t);for(e=0;e<t.children.length;e++)if("cke:embed"==t.children[e].name){if(!i(t.children[e]))break;return o(n,t)}return null},"cke:embed":function(t){return i(t)?o(n,t):null}}},5)}})}(),CKEDITOR.tools.extend(CKEDITOR.config,{flashEmbedTagOnly:!1,flashAddEmbedTag:!0,flashConvertOnEdit:!1}),function(){function e(g){var m=g.config,t=g.fire("uiSpace",{space:"top",html:""}).html,E=function(){function n(t,e,n){v.setStyle(e,y(n)),v.setStyle("position",t)}function i(t){var e=r.getDocumentPosition();switch(t){case"top":n("absolute","top",e.y-c-h);break;case"pin":n("fixed","top",p);break;case"bottom":n("absolute","top",e.y+(s.height||s.bottom-s.top)+h)}o=t}var o,r,a,s,l,c,u,d=m.floatSpaceDockedOffsetX||0,h=m.floatSpaceDockedOffsetY||0,f=m.floatSpacePinnedOffsetX||0,p=m.floatSpacePinnedOffsetY||0;return function(t){if(r=g.editable()){var e=t&&"focus"==t.name;e&&v.show(),g.fire("floatingSpaceLayout",{show:e}),v.removeStyle("left"),v.removeStyle("right"),a=v.getClientRect(),s=r.getClientRect(),l=T.getViewPaneSize(),c=a.height,u="pageXOffset"in T.$?T.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,o?(c+h<=s.top?i("top"):c+h>l.height-s.bottom?i("pin"):i("bottom"),t=l.width/2,t=m.floatSpacePreferRight?"right":0<s.left&&s.right<l.width&&s.width>a.width?"rtl"==m.contentsLangDirection?"right":"left":t-s.left>s.right-t?"left":"right",a.width>l.width?(t="left",e=0):(e="left"==t?0<s.left?s.left:0:s.right<l.width?l.width-s.right:0)+a.width>l.width&&(t="left"==t?"right":"left",e=0),v.setStyle(t,y(("pin"==o?f:d)+e+("pin"==o?0:"left"==t?u:-u)))):(i(o="pin"),E(t))}}}();if(t){var e=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(g.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(g.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),v=CKEDITOR.document.getBody(
).append(CKEDITOR.dom.element.createFromHtml(e.output({content:t,id:g.id,langDir:g.lang.dir,langCode:g.langCode,name:g.name,style:"display:none;z-index:"+(m.baseFloatZIndex-1),topId:g.ui.spaceId("top"),voiceLabel:g.title}))),n=CKEDITOR.tools.eventsBuffer(500,E),i=CKEDITOR.tools.eventsBuffer(100,E);v.unselectable(),v.on("mousedown",function(t){(t=t.data).getTarget().hasAscendant("a",1)||t.preventDefault()}),g.on("focus",function(t){E(t),g.on("change",n.input),T.on("scroll",i.input),T.on("resize",i.input)}),g.on("blur",function(){v.hide(),g.removeListener("change",n.input),T.removeListener("scroll",i.input),T.removeListener("resize",i.input)}),g.on("destroy",function(){T.removeListener("scroll",i.input),T.removeListener("resize",i.input),v.clearCustomData(),v.remove()}),g.focusManager.hasFocus&&v.show(),g.focusManager.add(v,1)}}var T=CKEDITOR.document.getWindow(),y=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),o=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),r=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(t,e){return this.addBlock(t,new CKEDITOR.ui.listBlock(this.getHolderElement(),e))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(t,e){var n=(e=e||{}).attributes||(e.attributes={});(this.multiSelect=!!e.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(t){var e=this.toggle(t);this.onClick&&this.onClick(t,e)},this)),this._.click}},proto:{add:function(t,e,n){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),t={id:this._.items[t]=i,val:CKEDITOR.tools.htmlEncodeAttr(t).replace(r,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(n||t),text:e||t},this._.pendingList.push(o.output(t))},startGroup:function(t){this._.close();var e=CKEDITOR.tools.getNextId();this._.groups[t]=e,this._.pendingHtml.push(n.output({id:e,label:t}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(t){var e=this.isMarked(t);return e?this.unmark(t):this.mark(t),!e},hideGroup:function(t){var e=(t=this.element.getDocument().getById(this._.groups[t]))&&t.getNext();t&&(t.setStyle("display","none"),e&&"ul"==e.getName()&&e.setStyle("display","none"))},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle("display","none")},showAll:function(){var t,e=this._.items,n=this._.groups,i=this.element.getDocument();for(t in e)i.getById(e[t]).setStyle("display","");for(var o in n)t=(e=i.getById(n[o])).getNext(),e.setStyle("display",""),t&&"ul"==t.getName()&&t.setStyle("display","")},mark:function(t){this.multiSelect||this.unmarkAll(),t=this._.items[t];var e=this.element.getDocument().getById(t);e.addClass("cke_selected"),this.element.getDocument().getById(t+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(e)},markFirstDisplayed:function(){var t=this;this._.markFirstDisplayed(function(){t.multiSelect||t.unmarkAll()})},unmark:function(t){var e=this.element.getDocument();t=this._.items[t];var n=e.getById(t);n.removeClass("cke_selected"),e.getById(t+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var t,e=this._.items,n=this.element.getDocument();for(t in e){var i=e[t];n.getById(i).removeClass("cke_selected"),n.getById(i+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")},focus:function(t){this._.focusIndex=-1;var e,n=this.element.getElementsByTag("a"),i=-1;if(t){for(e=this.element.getDocument().getById(this._.items[t]).getFirst();t=n.getItem(++i);)if(t.equals(e)){this._.focusIndex=i;break}}else this.element.focus();e&&setTimeout(function(){e.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var t='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="listbox"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(t+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(t+=' onblur="this.style.cssText = this.style.cssText;"');t=t+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var d=CKEDITOR.addTemplate("combo",t);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(t){CKEDITOR.tools.extend(this,t,{canGroup:!1,title:t.label,modes:{wysiwyg:1},editorFocus:1}),t=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=t.parent&&t.parent.getDocument()||CKEDITOR.document,t.className="cke_combopanel",t.block={multiSelect:t.multiSelect,attributes:t.attributes},t.toolbarRelated=!0,this._={panelDefinition:t,items:{},listeners:[]}},proto:{renderHtml:function(t){var e=[];return this.render(t,e),e.join("")},render:function(i,t){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[i.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;i.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var n=CKEDITOR.env,o="cke_"+this.id,r=CKEDITOR.tools.addFunction(function(t){u&&(i.unlockSelection(1),u=0),s.execute(t)},this),a=this,s={id:o,combo:this,focus:function(){CKEDITOR.document.getById(o).getChild(1).focus()},execute:function(t){var e=a._;if(e.state!=CKEDITOR.TRISTATE_DISABLED)if(a.createPanel(i),e.on)e.panel.hide();else{a.commit();var n=a.getValue();n?e.list.mark(n):e.list.unmarkAll(),e.panel.showBlock(a.id,new CKEDITOR.dom.element(t),4)}},clickFn:r};this._.listeners.push(i.on("activeFilterChange",e,this)),this._.listeners.push(i.on("mode",e,this)),this._.listeners.push(i.on("selectionChange",e,this)),!this.readOnly&&this._.listeners.push(i.on("readOnly",e,this));var l=CKEDITOR.tools.addFunction(function(t,e){var n=(t=new CKEDITOR.dom.event(t)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(r,e);break;default:s.onkey(s,n)}t.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){s.onfocus&&s.onfocus()}),u=0;return s.keyDownFn=l,n={id:o,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:n.gecko&&!n.hc?"":(this.title||"").replace("'",""),keydownFn:l,focusFn:c,clickFn:r},d.output(n,t),this.onRender&&this.onRender(),s},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition,n=this._.panelDefinition.block,i=t.parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,i,t),a=(t=r.addListBlock(this.id,n),this);r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},t.onClick=function(t,e){a.onClick&&a.onClick.call(a,t,e),r.hide()},this._.panel=r,this._.list=t,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(t,e){this._.value=t;var n=this.document.getById("cke_"+this.id+"_text");n&&(t||e?n.removeClass("cke_combo_inlinelabel"):(e=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==e?e:t))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(t){this._.list.mark(t)},hideItem:function(t){this._.list.hideItem(t)},hideGroup:function(t){this._.list.hideGroup(t)},showAll:function(){this._.list.showAll()},add:function(t,e,n){this._.items[t]=n||t,this._.list.add(t,e,n)},startGroup:function(t){this._.list.startGroup(t)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(t){if(this._.state!=t){var e=this.document.getById("cke_"+this.id);e.setState(t,"cke_combo"),t==CKEDITOR.TRISTATE_DISABLED?e.setAttribute("aria-disabled",!0):e.removeAttribute("aria-disabled"),this._.state=t}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))},destroy:function(){CKEDITOR.tools.array.forEach(this._.listeners,function(t){t.removeListener()}),this._.listeners=[]}},statics:{handler:{create:function(t){return new CKEDITOR.ui.richCombo(t)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(t,e){this.add(t,CKEDITOR.UI_RICHCOMBO,e)}}(),function(){function n(l,t,e,n,i,r,o,a){var s=l.config,c=new CKEDITOR.style(o),u=i.split(";");i=[];for(var d={},h=0;h<u.length;h++){if(f=u[h]){var f=f.split("/"),p={},g=u[h]=f[0];p[e]=i[h]=f[1]||g,d[g]=new CKEDITOR.style(o,p),d[g]._.definition.name=g}else u.splice(h--,1)}l.ui.addRichCombo(t,{label:n.label,title:n.panelTitle,toolbar:"styles,"+a,defaultValue:"cke-default",allowedContent:c,requiredContent:c,contentTransformations:"span"===o.element?[[{element:"font",check:"span",left:function(t){return!!t.attributes.size||!!t.attributes.align||!!t.attributes.face},right:function(t){var e=" x-small small medium large x-large xx-large 48px".split(" ");t.name="span",t.attributes.size&&(t.styles["font-size"]=e[t.attributes.size],delete t.attributes.size),t.attributes.align&&(t.styles["text-align"]=t.attributes.align,delete t.attributes.align),t.attributes.face&&(t.styles["font-family"]=t.attributes.face,delete t.attributes.face)}}]]:null,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){var t;t="("+l.lang.common.optionDefault+")",this.startGroup(n.panelTitle),this.add(this.defaultValue,t,t);for(var e=0;e<u.length;e++)t=u[e],this.add(t,d[t].buildPreview(),t)},onClick:function(t){l.focus(),l.fire("saveSnapshot");var e,n,i,o,r,a=this.getValue(),s=d[t];if(a&&t!=a)if(e=d[a],(a=l.getSelection().getRanges()[0]).collapsed){if(i=(n=l.elementPath()).contains(function(t){return e.checkElementRemovable(t)})){if(o=a.checkBoundaryOfElement(i,CKEDITOR.START),r=a.checkBoundaryOfElement(i,CKEDITOR.END),o&&r){for(o=a.createBookmark();n=i.getFirst();)n.insertBefore(i);i.remove(),a.moveToBookmark(o)}else o||r?a.moveToPosition(i,o?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_END):(a.splitElement(i),a.moveToPosition(i,CKEDITOR.POSITION_AFTER_END)),m(a,n.elements.slice(),i);l.getSelection().selectRanges([a])}}else l.removeStyle(e);t===this.defaultValue?e&&l.removeStyle(e):l.applyStyle(s),l.fire("saveSnapshot")},onRender:function(){l.on("selectionChange",function(t){var e=this.getValue();t=t.data.path.elements;for(var n,i=0;i<t.length;i++)for(var o in n=t[i],d)if(d[o].checkElementMatch(n,!0,l))return void(o!=e&&this.setValue(o));this.setValue("",r)},this)},refresh:function(){l.activeFilter.check(c)||this.setState(CKEDITOR.TRISTATE_DISABLED)}})}function m(t,e,n){var i=e.pop();if(i){if(n)return m(t,e,i.equals(n)?null:n);n=i.clone(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START),m(t,e)}}CKEDITOR.plugins.add("font",{requires:"richcombo",init:function(t){var e=t.config;n(t,"Font","family",t.lang.font,e.font_names,e.font_defaultLabel,e.font_style,30),n(t,"FontSize","size",t.lang.font.fontSize,e.fontSize_sizes,e.fontSize_defaultLabel,e.fontSize_style,40)}})}(),CKEDITOR.config.font_names="Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif",CKEDITOR.config.font_defaultLabel="",CKEDITOR.config.font_style={element:"span",styles:{"font-family":"#(family)"},overrides:[{element:"font",attributes:{face:null}}]},CKEDITOR.config.fontSize_sizes="8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px",CKEDITOR.config.fontSize_defaultLabel="",CKEDITOR.config.fontSize_style={element:"span",styles:{"font-size":"#(size)"},overrides:[{element:"font",attributes:{size:null}}]},CKEDITOR.plugins.add("forms",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"),CKEDITOR.addCss("img.cke_hidden{background-image: url("+CKEDITOR.getUrl(this.path+"images/hiddenfield.gif")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")},init:function(o){var r=o.lang,a=0,i={email:1,password:1,search:1,tel:1,text:1,url:1},s={checkbox:"input[type,name,checked,required]",radio:"input[type,name,checked,required]",textfield:"input[type,name,value,size,maxlength,required]",textarea:"textarea[cols,rows,name,required]",select:"select[name,size,multiple,required]; option[value,selected]",button:"input[type,name,value]",form:"form[action,name,id,enctype,target,method]",hiddenfield:"input[type,name,value]",imagebutton:"input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"},l={checkbox:"input",radio:"input",textfield:"input",textarea:"textarea",select:"select",button:"input",form:"form",hiddenfield:"input",imagebutton:"input"},t=function(t,e,n){var i={allowedContent:s[e],requiredContent:l[e]};"form"==e&&(i.context="form"),o.addCommand(e,new CKEDITOR.dialogCommand(e,i)),o.ui.addButton&&o.ui.addButton(t,{label:r.common[t.charAt(0).toLowerCase()+t.slice(1)],command:e,toolbar:"forms,"+(a+=10)}),CKEDITOR.dialog.add(e,n)},e=this.path+"dialogs/";!o.blockless&&t("Form","form",e+"form.js"),t("Checkbox","checkbox",e+"checkbox.js"),t("Radio","radio",e+"radio.js"),t("TextField","textfield",e+"textfield.js"),t("Textarea","textarea",e+"textarea.js"),t("Select","select",e+"select.js"),t("Button","button",e+"button.js");var c=o.plugins.image;c&&!o.plugins.image2&&t("ImageButton","imagebutton",CKEDITOR.plugins.getPath("image")+"dialogs/image.js"),t("HiddenField","hiddenfield",e+"hiddenfield.js"),o.addMenuItems&&(t={checkbox:{label:r.forms.checkboxAndRadio.checkboxTitle,command:"checkbox",group:"checkbox"},radio:{label:r.forms.checkboxAndRadio.radioTitle,command:"radio",group:"radio"},textfield:{label:r.forms.textfield.title,command:"textfield",group:"textfield"},hiddenfield:{label:r.forms.hidden.title,command:"hiddenfield",group:"hiddenfield"},button:{label:r.forms.button.title,command:"button",group:"button"},select:{label:r.forms.select.title,command:"select",group:"select"},textarea:{label:r.forms.textarea.title,command:"textarea",group:"textarea"}},c&&(t.imagebutton={label:r.image.titleButton,command:"imagebutton",group:"imagebutton"}),!o.blockless&&(t.form={label:r.forms.form.menu,command:"form",group:"form"}),o.addMenuItems(t)),o.contextMenu&&(!o.blockless&&o.contextMenu.addListener(function(t,e,n){if((t=n.contains("form",1))&&!t.isReadOnly())return{form:CKEDITOR.TRISTATE_OFF}}),o.contextMenu.addListener(function(t){if(t&&!t.isReadOnly()){var e=t.getName();if("select"==e)return{select:CKEDITOR.TRISTATE_OFF};if("textarea"==e)return{textarea:CKEDITOR.TRISTATE_OFF};if("input"==e){var n=t.getAttribute("type")||"text";switch(n){case"button":case"submit":case"reset":return{button:CKEDITOR.TRISTATE_OFF};case"checkbox":return{checkbox:CKEDITOR.TRISTATE_OFF};case"radio":return{radio:CKEDITOR.TRISTATE_OFF};case"image":return c?{imagebutton:CKEDITOR.TRISTATE_OFF}:null}if(i[n])return{textfield:CKEDITOR.TRISTATE_OFF}}if("img"==e&&"hiddenfield"==t.data("cke-real-element-type"))return{hiddenfield:CKEDITOR.TRISTATE_OFF}}})),o.on("doubleclick",function(t){var e=t.data.element;if(!o.blockless&&e.is("form"))t.data.dialog="form";else if(e.is("select"))t.data.dialog="select";else if(e.is("textarea"))t.data.dialog="textarea";else if(e.is("img")&&"hiddenfield"==e.data("cke-real-element-type"))t.data.dialog="hiddenfield";else if(e.is("input")){switch(e=e.getAttribute("type")||"text"){case"button":case"submit":case"reset":t.data.dialog="button";break;case"checkbox":t.data.dialog="checkbox";break;case"radio":t.data.dialog="radio";break;case"image":t.data.dialog="imagebutton"}i[e]&&(t.data.dialog="textfield")}})},afterInit:function(e){var t=(n=e.dataProcessor)&&n.htmlFilter,n=n&&n.dataFilter;CKEDITOR.env.ie&&t&&t.addRules({elements:{input:function(t){var e=(t=t.attributes).type;e||(t.type="text"),"checkbox"!=e&&"radio"!=e||"on"!=t.value||delete t.value}}},{applyToAll:!0}),n&&n.addRules({elements:{input:function(t){if("hidden"==t.attributes.type)return e.createFakeParserElement(t,"cke_hidden","hiddenfield")}}},{applyToAll:!0})}}),CKEDITOR.plugins.forms={_setupRequiredAttribute:function(t){this.setValue(t.hasAttribute("required"))}},CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(i){if(!i.blockless){for(var t=i.config,n=i.lang.format,e=t.format_tags.split(";"),o={},r=0,a=[],s=0;s<e.length;s++){var l=e[s],c=new CKEDITOR.style(t["format_"+l]);i.filter.customConfig&&!i.filter.check(c)||(r++,o[l]=c,o[l]._.enterMode=i.config.enterMode,a.push(c))}0!==r&&i.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var t in this.startGroup(n.panelTitle),o){var e=n["tag_"+t];this.add(t,o[t].buildPreview(e),e)}},onClick:function(t){i.focus(),i.fire("saveSnapshot"),t=o[t];var e=i.elementPath();t.checkActive(e,i)||i.applyStyle(t),setTimeout(function(){i.fire("saveSnapshot")},0)},onRender:function(){i.on("selectionChange",function(t){var e=this.getValue();for(var n in t=t.data.path,this.refresh(),o)if(o[n].checkActive(t,i))return void(n!=e&&this.setValue(n,i.lang.format["tag_"+n]));this.setValue("")},this)},onOpen:function(){for(var t in this.showAll(),o)i.activeFilter.check(o[t])||this.hideItem(t)},refresh:function(){var t=i.elementPath();if(t){if(t.isContextFor("p"))for(var e in o)if(i.activeFilter.check(o[e]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},O={canUndo:!1,exec:function(t){var e=t.document.createElement("hr");t.insertElement(e)},allowedContent:"hr",requiredContent:"hr"},CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",O),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}}),CKEDITOR.plugins.add("htmlwriter",{init:function(t){var e=new CKEDITOR.htmlWriter;e.forceSimpleAmpersand=t.config.forceSimpleAmpersand,e.indentationChars=t.config.dataIndentationChars||"\t",t.dataProcessor.writer=e}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var t,e=CKEDITOR.dtd;for(t in CKEDITOR.tools.extend({},e.$nonBodyContent,e.$block,e.$listItem,e.$tableContent))this.setRules(t,{indent:!e[t]["#"],breakBeforeOpen:1,breakBeforeClose:!e[t]["#"],breakAfterClose:1,needsSpace:t in e.$block&&!(t in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(t){var e=this._.rules[t];this._.afterCloser&&e&&e.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():e&&e.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",t),this._.afterCloser=0},openTagClose:function(t,e){var n=this._.rules[t];e?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==t&&(this._.inPre=1)},attribute:function(t,e){"string"==typeof e&&(e=CKEDITOR.tools.htmlEncodeAttr(e),this.forceSimpleAmpersand&&(e=e.replace(/&amp;/g,"&"))),this._.output.push(" ",t,'="',e,'"')},closeTag:function(t){var e=this._.rules[t];e&&e.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():e&&e.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",t,">"),"pre"==t&&(this._.inPre=0),e&&e.breakAfterClose&&(this.lineBreak(),this._.needsSpace=e.needsSpace),this._.afterCloser=1},text:function(t){this._.indent&&(this.indentation(),!this._.inPre&&(t=CKEDITOR.tools.ltrim(t))),this._.output.push(t)},comment:function(t){this._.indent&&this.indentation(),this._.output.push("<!--",t,"-->")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(t,e){var n=this._.rules[t];n?CKEDITOR.tools.extend(n,e,!0):this._.rules[t]=e}}}),CKEDITOR.plugins.add("iframe",{requires:"dialog,fakeobjects",onLoad:function(){CKEDITOR.addCss("img.cke_iframe{background-image: url("+CKEDITOR.getUrl(this.path+"images/placeholder.png")+");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")},init:function(t){var e=t.lang.iframe,n="iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";t.plugins.dialogadvtab&&(n+=";iframe"+t.plugins.dialogadvtab.allowedContent({id:1,classes:1,styles:1})),CKEDITOR.dialog.add("iframe",this.path+"dialogs/iframe.js"),t.addCommand("iframe",new CKEDITOR.dialogCommand("iframe",{allowedContent:n,requiredContent:"iframe"})),t.ui.addButton&&t.ui.addButton("Iframe",{label:e.toolbar,command:"iframe",toolbar:"insert,80"}),t.on("doubleclick",function(t){var e=t.data.element;e.is("img")&&"iframe"==e.data("cke-real-element-type")&&(t.data.dialog="iframe")}),t.addMenuItems&&t.addMenuItems({iframe:{label:e.title,command:"iframe",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(t){if(t&&t.is("img")&&"iframe"==t.data("cke-real-element-type"))return{iframe:CKEDITOR.TRISTATE_OFF}})},afterInit:function(e){var t=e.dataProcessor;(t=t&&t.dataFilter)&&t.addRules({elements:{iframe:function(t){return e.createFakeParserElement(t,"cke_iframe","iframe",!0)}}})}}),function(){function e(t){function e(n){var i=!1;a.attachListener(a,"keydown",function(){var t=o.getBody().getElementsByTag(n);if(!i){for(var e=0;e<t.count();e++)t.getItem(e).setCustomData("retain",!0);i=!0}},null,null,1),a.attachListener(a,"keyup",function(){var t=o.getElementsByTag(n);i&&(1==t.count()&&!t.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(t.getItem(0).getAttributes())&&t.getItem(0).remove(1),i=!1)})}var i=this.editor,o=t.document,n=o.body,r=o.getElementById("cke_actscrpt");r&&r.parentNode.removeChild(r),(r=o.getElementById("cke_shimscrpt"))&&r.parentNode.removeChild(r),(r=o.getElementById("cke_basetagscrpt"))&&r.parentNode.removeChild(r),n.contentEditable=!0,CKEDITOR.env.ie&&(n.hideFocus=!0,n.disabled=!0,n.removeAttribute("disabled")),delete this._.isLoadingData,this.$=n,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&i.enterMode!=CKEDITOR.ENTER_P?e("p"):CKEDITOR.env.edge&&CKEDITOR.env.version<15&&i.enterMode!=CKEDITOR.ENTER_DIV&&e("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(t){t.data.getTarget().is("html")&&setTimeout(function(){i.editable().focus()})}),l(i);try{i.document.$.execCommand("2D-position",!1,!0)}catch(s){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==i.document.$.compatMode)&&this.attachListener(this,"keydown",function(t){var e=t.data.getKeystroke();if(33==e||34==e)if(CKEDITOR.env.ie)setTimeout(function(){i.getSelection().scrollIntoView()},0);else if(i.window.$.innerHeight>this.$.offsetHeight){var n=i.createRange();n[33==e?"moveToElementEditStart":"moveToElementEditEnd"](this),n.select(),t.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(t){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){t.focus()}),(n=i.document.getElementsByTag("title").getItem(0)).data("cke-title",n.getText()),CKEDITOR.env.ie&&(i.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),i.fire("contentDom"),this._.isPendingFocus&&(i.focus(),this._.isPendingFocus=!1),setTimeout(function(){i.fire("dataReady")},0)},0,this)}function l(n){function t(){var e;n.editable().attachListener(n,"selectionChange",function(){var t=n.getSelection().getSelectedElement();t&&(e&&(e.detachEvent("onresizestart",i),e=null),t.$.attachEvent("onresizestart",i),e=t.$)})}function i(t){t.returnValue=!1}if(CKEDITOR.env.gecko)try{var e=n.document.$;e.execCommand("enableObjectResizing",!1,!n.config.disableObjectResizing),e.execCommand("enableInlineTableEditing",!1,!n.config.disableNativeTableHandles)}catch(o){}else CKEDITOR.env.ie&&CKEDITOR.env.version<11&&n.config.disableObjectResizing&&t(n)}function c(){var t=[];if(8<=CKEDITOR.document.$.documentMode){t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var e,n=[];for(e in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+e+"[contenteditable=false]");t.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(t.push("html{height:100% !important}"),t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return t.push("html{cursor:text;*cursor:auto}"),t.push("img,input,textarea{cursor:default}"),t.join("\n")}var u;CKEDITOR.plugins.add("wysiwygarea",{init:function(l){l.config.fullPage&&l.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),l.addMode("wysiwyg",function(e){function t(t){t&&t.removeListener(),l.editable(new u(l,i.$.contentWindow.document.body)),l.setData(l.getData(1),e)}var n="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(n=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(n)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+n+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(n=l.ui.space("contents")).append(i);var o=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;o&&i.on("load",t);var r=l.title,a=l.fire("ariaEditorHelpLabel",{}).label;if(r&&(CKEDITOR.env.ie&&a&&(r+=", "+a),i.setAttribute("title",r)),a){r=CKEDITOR.tools.getNextId();var s=CKEDITOR.dom.element.createFromHtml('<span id="'+r+'" class="cke_voice_label">'+a+"</span>");n.append(s,1),i.setAttribute("aria-describedby",r)}l.on("beforeModeUnload",function(t){t.removeListener(),s&&s.remove()}),i.setAttributes({tabIndex:l.tabIndex,allowTransparency:"true"}),!o&&t(),l.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(t){var e=this.config,n=e.contentsCss;CKEDITOR.tools.isArray(n)||(e.contentsCss=n?[n]:[]),e.contentsCss.push(t)},u=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(t,e){var n=this.editor;if(e)this.setHtml(t),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var i=n.config,o=i.fullPage,r=i.docType,a=CKEDITOR.tools.buildStyleHtml(c()).replace(/<style>/,'<style data-cke-temp="1">');o||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=i.baseHref?'<base href="'+i.baseHref+'" data-cke-temp="1" />':"";o&&(t=t.replace(/<!DOCTYPE[^>]*>/i,function(t){return n.docType=r=t,""}).replace(/<\?xml\s[^\?]*\?>/i,function(t){return n.xmlDeclaration=t,""})),t=n.dataProcessor.toHtml(t),o?(/<body[\s|>]/.test(t)||(t="<body>"+t),/<html[\s|>]/.test(t)||(t="<html>"+t+"</html>"),/<head[\s|>]/.test(t)?/<title[\s|>]/.test(t)||(t=t.replace(/<head[^>]*>/,"$&<title></title>")):t=t.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(t=t.replace(/<head[^>]*?>/,"$&"+s)),t=t.replace(/<\/head\s*>/,a+"$&"),t=r+t):t=i.docType+'<html dir="'+i.contentsLangDirection+'" lang="'+(i.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(i.bodyId?' id="'+i.bodyId+'"':"")+(i.bodyClass?' class="'+i.bodyClass+'"':"")+">"+t+"</body></html>",CKEDITOR.env.gecko&&(t=t.replace(/<body/,'<body contenteditable="true" '),CKEDITOR.env.version<2e4&&(t=t.replace(/<body[^>]*>/,"$&<!-- cke-content-start -->"))),i='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"</script>",CKEDITOR.env.ie&&CKEDITOR.env.version<9&&(i+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'),s&&CKEDITOR.env.ie&&CKEDITOR.env.version<10&&(i+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'),t=t.replace(/(?=\s*<\/(:?head)>)/,i),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(t)}catch(u){setTimeout(function(){l.write(t)},0)}}},getData:function(t){if(t)return this.getHtml();var e=(
t=this.editor).config,n=(r=e.fullPage)&&t.docType,i=r&&t.xmlDeclaration,o=this.getDocument(),r=r?o.getDocumentElement().getOuterHtml():o.getBody().getHtml();return CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(r=r.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),r=t.dataProcessor.toDataFormat(r),i&&(r=i+"\n"+r),n&&(r=n+"\n"+r),r},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:u.baseProto.focus.call(this)},detach:function(){var t,e=this.editor,n=e.document;try{t=e.window.getFrame()}catch(i){}u.baseProto.detach.call(this),this.clearCustomData(),n.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),t&&t.getParent()?(t.clearCustomData(),(e=t.removeCustomData("onResize"))&&e.removeListener(),t.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,function(){function o(t,e){if(e||(e=t.getSelection().getSelectedElement()),e&&e.is("img")&&!e.data("cke-realelement")&&!e.isReadOnly())return e}function r(t){var e=t.getStyle("float");return"inherit"!=e&&"none"!=e||(e=0),e||(e=t.getAttribute("align")),e}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(e){if(!e.plugins.detectConflict("image",["easyimage","image2"])){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var t="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(e,"image","advanced")&&(t="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),e.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:t,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),e.ui.addButton&&e.ui.addButton("Image",{label:e.lang.common.image,command:"image",toolbar:"insert,10"}),e.on("doubleclick",function(t){var e=t.data.element;!e.is("img")||e.data("cke-realelement")||e.isReadOnly()||(t.data.dialog="image")}),e.addMenuItems&&e.addMenuItems({image:{label:e.lang.image.menu,command:"image",group:"image"}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(o(e,t))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(i){function t(n){var t=i.getCommand("justify"+n);t&&("left"!=n&&"right"!=n||t.on("exec",function(t){var e=o(i);e&&(r(e)==n?(e.removeStyle("float"),n==r(e)&&e.removeAttribute("align")):e.setStyle("float",n),t.cancel())}),t.on("refresh",function(t){var e=o(i);e&&(e=r(e),this.setState(e==n?CKEDITOR.TRISTATE_ON:"right"==n||"left"==n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),t.cancel())}))}i.plugins.image2||(t("left"),t("right"),t("center"),t("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n,i;t.on("refresh",function(t){var e,n=[o];for(e in t.data.states)n.push(t.data.states[e]);this.setState(CKEDITOR.tools.search(n,r)?r:o)},t,null,100),t.on("exec",function(t){n=e.getSelection(),i=n.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},t,null,0),t.on("exec",function(){e.forceNextSelectionCheck(),n.selectBookmarks(i)},t,null,100)}var o=CKEDITOR.TRISTATE_DISABLED,r=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(l){var t=CKEDITOR.plugins.indent.genericDefinition;e(l,l.addCommand("indent",new t(!0))),e(l,l.addCommand("outdent",new t)),l.ui.addButton&&(l.ui.addButton("Indent",{label:l.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),l.ui.addButton("Outdent",{label:l.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),l.on("dirChanged",function(t){var e=l.createRange(),n=t.data.node;e.setStartBefore(n),e.setEndAfter(n);for(var i,o=new CKEDITOR.dom.walker(e);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(n)&&i.getDirection())e.setStartAfter(i),o=new CKEDITOR.dom.walker(e);else{var r=l.config.indentClasses;if(r)for(var a="ltr"==t.data.dir?["_rtl",""]:["","_rtl"],s=0;s<r.length;s++)i.hasClass(r[s]+a[0])&&(i.removeClass(r[s]+a[0]),i.addClass(r[s]+a[1]));r=i.getStyle("margin-right"),a=i.getStyle("margin-left"),r?i.setStyle("margin-left",r):i.removeStyle("margin-left"),a?i.setStyle("margin-right",a):i.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(t){this.isIndent=!!t,this.startDisabled=!this.isIndent},specificDefinition:function(t,e,n){this.name=e,this.editor=t,this.jobs={},this.enterBr=t.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(t,e){t.on("pluginsLoaded",function(){for(var t in e)!function(e,n){var i,t=e.getCommand(n.relatedGlobal);for(i in n.jobs)t.on("exec",function(t){t.data.done||(e.fire("lockSnapshot"),n.execJob(e,i)&&(t.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(n.database))},this,null,i),t.on("refresh",function(t){t.data.states||(t.data.states={}),t.data.states[n.name+"@"+i]=n.refreshJob(e,i,t.data.path)},this,null,i);e.addFeature(n)}(this,e[t])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(t,e){var n=this.jobs[e];if(n.state!=o)return n.exec.call(this,t)},refreshJob:function(t,e,n){return e=this.jobs[e],t.activeFilter.checkFeature(this)?e.state=e.refresh.call(this,t,n):e.state=o,e.state},getContext:function(t){return t.contains(this.context)}}}(),function(){function i(t,e,n){if(!t.getCustomData("indent_processed")){var i=this.editor,o=this.isIndent;if(e){if(n=0,(i=t.$.className.match(this.classNameRegex))&&(i=i[1],n=CKEDITOR.tools.indexOf(e,i)+1),(n+=o?1:-1)<0)return;n=Math.min(n,e.length),n=Math.max(n,0),t.$.className=CKEDITOR.tools.ltrim(t.$.className.replace(this.classNameRegex,"")),0<n&&t.addClass(e[n-1])}else{e=a(t,n),n=parseInt(t.getStyle(e),10);var r=i.config.indentOffset||40;if(isNaN(n)&&(n=0),(n+=(o?1:-1)*r)<0)return;n=Math.max(n,0),n=Math.ceil(n/r)*r,t.setStyle(e,n?n+(i.config.indentUnit||"px"):""),""===t.getAttribute("style")&&t.removeAttribute("style")}CKEDITOR.dom.element.setMarker(this.database,t,"indent_processed",1)}}function a(t,e){return"ltr"==(e||t.getComputedStyle("direction"))?"margin-left":"margin-right"}var s=CKEDITOR.dtd.$listItem,o=CKEDITOR.dtd.$list,l=CKEDITOR.TRISTATE_DISABLED,c=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentblock",{requires:"indent",init:function(t){function e(){n.specificDefinition.apply(this,arguments),this.allowedContent={"div h1 h2 h3 h4 h5 h6 ol p pre ul":{propertiesOnly:!0,styles:r?null:"margin-left,margin-right",classes:r||null}},this.contentTransformations=[["div: splitMarginShorthand"],["h1: splitMarginShorthand"],["h2: splitMarginShorthand"],["h3: splitMarginShorthand"],["h4: splitMarginShorthand"],["h5: splitMarginShorthand"],["h6: splitMarginShorthand"],["ol: splitMarginShorthand"],["p: splitMarginShorthand"],["pre: splitMarginShorthand"],["ul: splitMarginShorthand"]],this.enterBr&&(this.allowedContent.div=!0),this.requiredContent=(this.enterBr?"div":"p")+(r?"("+r.join(",")+")":"{margin-left}"),this.jobs={20:{refresh:function(t,e){if(!(n=e.block||e.blockLimit).is(s))var n=(i=n.getAscendant(s))&&e.contains(i)||n;if(n.is(s)&&(n=n.getParent()),this.enterBr||this.getContext(e)){if(r){var i=r,o=(n=n.$.className.match(this.classNameRegex),this.isIndent);return(i=n?!o||n[1]!=i.slice(-1):o)?c:l}return this.isIndent?c:n?CKEDITOR[(parseInt(n.getStyle(a(n)),10)||0)<=0?"TRISTATE_DISABLED":"TRISTATE_OFF"]:l}return l},exec:function(t){var e,n=(n=t.getSelection())&&n.getRanges()[0];if(e=t.elementPath().contains(o))i.call(this,e,r);else for(n=n.createIterator(),t=t.config.enterMode,n.enforceRealBlocks=!0,n.enlargeBr=t!=CKEDITOR.ENTER_BR;e=n.getNextParagraph(t==CKEDITOR.ENTER_P?"p":"div");)e.isReadOnly()||i.call(this,e,r);return!0}}}}var n=CKEDITOR.plugins.indent,r=t.config.indentClasses;n.registerCommands(t,{indentblock:new e(t,"indentblock",!0),outdentblock:new e(t,"outdentblock")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{div:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,p:1,pre:1,table:1},classNameRegex:r?new RegExp("(?:^|\\s+)("+r.join("|")+")(?=$|\\s)"):null})}})}(),function(){function o(d){function t(t){for(var e=h.startContainer,n=h.endContainer;e&&!e.getParent().equals(t);)e=e.getParent();for(;n&&!n.getParent().equals(t);)n=n.getParent();if(!e||!n)return!1;for(var i=[],o=!1;!o;)e.equals(n)&&(o=!0),i.push(e),e=e.getNext();if(i.length<1)return!1;for(e=t.getParents(!0),n=0;n<e.length;n++)if(e[n].getName&&g[e[n].getName()]){t=e[n];break}e=f.isIndent?1:-1,n=i[0],i=i[i.length-1];var r=(o=CKEDITOR.plugins.list.listToArray(t,p))[i.getCustomData("listarray_index")].indent;for(n=n.getCustomData("listarray_index");n<=i.getCustomData("listarray_index");n++)if(o[n].indent+=e,0<e){for(var a=o[n].parent,s=n-1;0<=s;s--)if(o[s].indent===e){a=o[s].parent;break}o[n].parent=new CKEDITOR.dom.element(a.getName(),a.getDocument())}for(n=i.getCustomData("listarray_index")+1;n<o.length&&o[n].indent>r;n++)o[n].indent+=e;var l;if((e=CKEDITOR.plugins.list.arrayToList(o,p,null,d.config.enterMode,t.getDirection()),!f.isIndent)&&((l=t.getParent())&&l.is("li"))){var c,u=[];for(n=(i=e.listNode.getChildren()).count()-1;0<=n;n--)(c=i.getItem(n))&&c.is&&c.is("li")&&u.push(c)}if(e&&e.listNode.replace(t),u&&u.length)for(n=0;n<u.length;n++){for(c=t=u[n];(c=c.getNext())&&c.is&&c.getName()in g;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(m)&&t.append(h.document.createText("\xa0")),t.append(c);t.insertAfter(l)}return e&&d.fire("contentDomInvalidated"),!0}for(var h,f=this,p=this.database,g=this.context,e=((e=d.getSelection())&&e.getRanges()).createIterator();h=e.getNextRange();){for(var n=h.getCommonAncestor();n&&(n.type!=CKEDITOR.NODE_ELEMENT||!g[n.getName()]);){if(d.editable().equals(n)){n=!1;break}n=n.getParent()}if(n||(n=h.startPath().contains(g))&&h.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),!n){var i=h.getEnclosedNode();i&&i.type==CKEDITOR.NODE_ELEMENT&&i.getName()in g&&(h.setStartAt(i,CKEDITOR.POSITION_AFTER_START),h.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),n=i)}if(n&&h.startContainer.type==CKEDITOR.NODE_ELEMENT&&h.startContainer.getName()in g&&((i=new CKEDITOR.dom.walker(h)).evaluator=r,h.startContainer=i.next()),n&&h.endContainer.type==CKEDITOR.NODE_ELEMENT&&h.endContainer.getName()in g&&((i=new CKEDITOR.dom.walker(h)).evaluator=r,h.endContainer=i.previous()),n)return t(n)}return 0}function r(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.is("li")}function m(t){return e(t)&&n(t)}var e=CKEDITOR.dom.walker.whitespaces(!0),n=CKEDITOR.dom.walker.bookmark(!1,!0),a=CKEDITOR.TRISTATE_DISABLED,s=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function e(i){n.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],i.on("key",function(t){var e=i.elementPath();if("wysiwyg"==i.mode&&t.data.keyCode==this.indentKey&&e){var n=this.getContext(e);!n||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n)||(i.execCommand(this.relatedGlobal),t.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(t,e){var n=this.getContext(e),i=CKEDITOR.plugins.indentList.firstItemInPath(this.context,e,n);return n&&this.isIndent&&!i?s:a}:function(t,e){return!this.getContext(e)||this.isIndent?a:s},exec:CKEDITOR.tools.bind(o,this)}}var n=CKEDITOR.plugins.indent;n.registerCommands(t,{indentlist:new e(t,"indentlist",!0),outdentlist:new e(t,"outdentlist")}),CKEDITOR.tools.extend(e.prototype,n.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(t,e,n){var i=e.contains(r);return n||(n=e.contains(t)),n&&i&&i.equals(n.getFirst(r))}}(),CKEDITOR.plugins.add("smiley",{requires:"dialog",init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+"images/",t.addCommand("smiley",new CKEDITOR.dialogCommand("smiley",{allowedContent:"img[alt,height,!src,title,width]",requiredContent:"img"})),t.ui.addButton&&t.ui.addButton("Smiley",{label:t.lang.smiley.toolbar,command:"smiley",toolbar:"insert,50"}),CKEDITOR.dialog.add("smiley",this.path+"dialogs/smiley.js")}}),CKEDITOR.config.smiley_images="regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "),CKEDITOR.config.smiley_descriptions="smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"),function(){function p(t,e){var n;if(e=void 0===e||e)n=t.getComputedStyle("text-align");else{for(;(!t.hasAttribute||!t.hasAttribute("align")&&!t.getStyle("text-align"))&&(n=t.getParent());)t=n;n=t.getStyle("text-align")||t.getAttribute("align")||""}return n&&(n=n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i,"")),!n&&e&&(n="rtl"==t.getComputedStyle("direction")?"right":"left"),n}function r(t,e,n){this.editor=t,this.name=e,this.value=n,this.context="p",e=t.config.justifyClasses;var i=t.config.enterMode==CKEDITOR.ENTER_P?"p":"div";if(e){switch(n){case"left":this.cssClassName=e[0];break;case"center":this.cssClassName=e[1];break;case"right":this.cssClassName=e[2];break;case"justify":this.cssClassName=e[3]}this.cssClassRegex=new RegExp("(?:^|\\s+)(?:"+e.join("|")+")(?=$|\\s)"),this.requiredContent=i+"("+this.cssClassName+")"}else this.requiredContent=i+"{text-align}";this.allowedContent={"caption div h1 h2 h3 h4 h5 h6 p pre td th li":{propertiesOnly:!0,styles:this.cssClassName?null:"text-align",classes:this.cssClassName||null}},t.config.enterMode==CKEDITOR.ENTER_BR&&(this.allowedContent.div=!0)}function a(t){var e=t.editor,n=e.createRange();n.setStartBefore(t.data.node),n.setEndAfter(t.data.node);for(var i,o=new CKEDITOR.dom.walker(n);i=o.next();)if(i.type==CKEDITOR.NODE_ELEMENT)if(!i.equals(t.data.node)&&i.getDirection())n.setStartAfter(i),o=new CKEDITOR.dom.walker(n);else{var r=e.config.justifyClasses;r&&(i.hasClass(r[0])?(i.removeClass(r[0]),i.addClass(r[2])):i.hasClass(r[2])&&(i.removeClass(r[2]),i.addClass(r[0]))),"left"==(r=i.getStyle("text-align"))?i.setStyle("text-align","right"):"right"==r&&i.setStyle("text-align","left")}}r.prototype={exec:function(t){var e=t.getSelection(),n=t.config.enterMode;if(e){for(var i,o,r=e.createBookmarks(),a=e.getRanges(),s=this.cssClassName,l=void 0===(l=t.config.useComputedState)||l,c=a.length-1;0<=c;c--)for((i=a[c].createIterator()).enlargeBr=n!=CKEDITOR.ENTER_BR;o=i.getNextParagraph(n==CKEDITOR.ENTER_P?"p":"div");)if(!o.isReadOnly()){var u,d=o.getName();if(u=t.activeFilter.check(d+"{text-align}"),(d=t.activeFilter.check(d+"("+s+")"))||u){o.removeAttribute("align"),o.removeStyle("text-align");var h=s&&(o.$.className=CKEDITOR.tools.ltrim(o.$.className.replace(this.cssClassRegex,""))),f=this.state==CKEDITOR.TRISTATE_OFF&&(!l||p(o,!0)!=this.value);s&&d?f?o.addClass(s):h||o.removeAttribute("class"):f&&u&&o.setStyle("text-align",this.value)}}t.focus(),t.forceNextSelectionCheck(),e.selectBookmarks(r)}},refresh:function(t,e){var n=e.block||e.blockLimit,i=n.getName(),o=n.equals(t.editable());i=this.cssClassName?t.activeFilter.check(i+"("+this.cssClassName+")"):t.activeFilter.check(i+"{text-align}");o&&1===e.elements.length?this.setState(CKEDITOR.TRISTATE_OFF):!o&&i?this.setState(p(n,this.editor.config.useComputedState)==this.value?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)}},CKEDITOR.plugins.add("justify",{init:function(t){if(!t.blockless){var e=new r(t,"justifyleft","left"),n=new r(t,"justifycenter","center"),i=new r(t,"justifyright","right"),o=new r(t,"justifyblock","justify");t.addCommand("justifyleft",e),t.addCommand("justifycenter",n),t.addCommand("justifyright",i),t.addCommand("justifyblock",o),t.ui.addButton&&(t.ui.addButton("JustifyLeft",{label:t.lang.common.alignLeft,command:"justifyleft",toolbar:"align,10"}),t.ui.addButton("JustifyCenter",{label:t.lang.common.center,command:"justifycenter",toolbar:"align,20"}),t.ui.addButton("JustifyRight",{label:t.lang.common.alignRight,command:"justifyright",toolbar:"align,30"}),t.ui.addButton("JustifyBlock",{label:t.lang.common.justify,command:"justifyblock",toolbar:"align,40"})),t.on("dirChanged",a)}}})}(),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var n=this._,t=n.menu;n.state!==CKEDITOR.TRISTATE_DISABLED&&(n.on&&t?t.hide():(n.previousState=n.state,t||((t=n.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var t=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!t||t[e.mode]?n.previousState:CKEDITOR.TRISTATE_DISABLED),n.on=0},this),this.onMenu&&t.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),n.on=1,setTimeout(function(){t.show(CKEDITOR.document.getById(n.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow="menu",this.click=e},statics:{handler:{create:function(t){return new CKEDITOR.ui.menuButton(t)}}}})},beforeInit:function(t){t.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("language",{requires:"menubutton",init:function(i){var t,e,n,o,r=i.config.language_list||["ar:Arabic:rtl","fr:French","es:Spanish"],a=this,s=i.lang.language,l={};for(i.addCommand("language",{allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",contextSensitive:!0,exec:function(t,e){var n=l["language_"+e];n&&t[n.style.checkActive(t.elementPath(),t)?"removeStyle":"applyStyle"](n.style)},refresh:function(t){this.setState(a.getCurrentLangElement(t)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)}}),o=0;o<r.length;o++)e=(t=r[o].split(":"))[0],l[n="language_"+e]={label:t[1],langId:e,group:"language",order:o,ltr:"rtl"!=(""+t[2]).toLowerCase(),onClick:function(){i.execCommand("language",this.langId)},role:"menuitemcheckbox"},l[n].style=new CKEDITOR.style({element:"span",attributes:{lang:e,dir:l[n].ltr?"ltr":"rtl"}});l.language_remove={label:s.remove,group:"language_remove",state:CKEDITOR.TRISTATE_DISABLED,order:l.length,onClick:function(){var t=a.getCurrentLangElement(i);t&&i.execCommand("language",t.getAttribute("lang"))}},i.addMenuGroup("language",1),i.addMenuGroup("language_remove"),i.addMenuItems(l),i.ui.add("Language",CKEDITOR.UI_MENUBUTTON,{label:s.button,allowedContent:"span[!lang,!dir]",requiredContent:"span[lang,dir]",toolbar:"bidi,30",command:"language",onMenu:function(){var t,e={},n=a.getCurrentLangElement(i);for(t in l)e[t]=CKEDITOR.TRISTATE_OFF;return e.language_remove=n?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,n&&(e["language_"+n.getAttribute("lang")]=CKEDITOR.TRISTATE_ON),e}}),i.addRemoveFormatFilter&&i.addRemoveFormatFilter(function(t){return!(t.is("span")&&t.getAttribute("dir")&&t.getAttribute("lang"))})},getCurrentLangElement:function(t){var e,n=t.elementPath();if(t=n&&n.elements,n)for(var i=0;i<t.length;i++)n=t[i],!e&&"span"==n.getName()&&n.hasAttribute("dir")&&n.hasAttribute("lang")&&(e=n);return e}}),function(){function d(t){return t.replace(/'/g,"\\$&")}function h(t){for(var e,n=t.length,i=[],o=0;o<n;o++)e=t.charCodeAt(o),i.push(e);return"String.fromCharCode("+i.join(",")+")"}function f(t,e){var n,i,o=t.plugins.link,r=o.compiledProtectionFunction.params;i=[o.compiledProtectionFunction.name,"("];for(var a=0;a<r.length;a++)n=e[o=r[a].toLowerCase()],0<a&&i.push(","),i.push("'",n?d(encodeURIComponent(e[o])):"","'");return i.push(")"),i.join("")}function e(t){var i;return(t=t.config.emailProtection||"")&&"encode"!=t&&(i={},t.replace(/^([^(]+)\(([^)]+)\)$/,function(t,e,n){i.name=e,i.params=[],n.replace(/[^,\s]+/g,function(t){i.params.push(t)})})),i}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function t(t){return n.replace(/%1/g,"rtl"==t?"right":"left").replace(/%2/g,"cke_contents_"+t)}var e="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+e+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+e+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(t("ltr")+t("rtl"))},init:function(n){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(n,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(n,"link","target")&&(t=t.replace("]",",target,onclick]")),n.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),n.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),n.addCommand("unlink",new CKEDITOR.unlinkCommand),n.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),n.setKeystroke(CKEDITOR.CTRL+76,"link"),n.setKeystroke(CKEDITOR.CTRL+75,"link"),n.ui.addButton&&(n.ui.addButton("Link",{label:n.lang.link.toolbar,command:"link",toolbar:"links,10"}),n.ui.addButton("Unlink",{label:n.lang.link.unlink,command:"unlink",toolbar:"links,20"}),n.ui.addButton("Anchor",{label:n.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),n.on("doubleclick",function(t){var e=t.data.element.getAscendant({a:1,img:1},!0);e&&!e.isReadOnly()&&(e.is("a")?(t.data.dialog=!e.getAttribute("name")||e.getAttribute("href")&&e.getChildCount()?"link":"anchor",t.data.link=e):CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,e)&&(t.data.dialog="anchor"))},null,null,0),n.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&n.getSelection().selectElement(t.data.link)},null,null,20),n.addMenuItems&&n.addMenuItems({anchor:{label:n.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:n.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:n.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:n.lang.link.unlink,command:"unlink",group:"link",order:5}}),n.contextMenu&&n.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(n)))return null;var e={};return t.getAttribute("href")&&t.getChildCount()&&(e={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(e.anchor=e.removeAnchor=CKEDITOR.TRISTATE_OFF),e}),this.compiledProtectionFunction=e(n)},afterInit:function(n){n.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:n.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=n._.elementsPath&&n._.elementsPath.filters;t&&t.push(function(t,e){if("a"==e&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(n,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var c=/^javascript:/,u=/^mailto:([^?]+)(?:\?(.+))?$/,p=/subject=([^;?:@&=$,\/]*)/i,g=/body=([^;?:@&=$,\/]*)/i,m=/^#(.*)$/,E=/^((?:http|https|ftp|news):\/\/)?(.*)$/,v=/^(_(?:self|top|parent|blank))$/,T=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,y=/^javascript:([^(]+)\(([^)]+)\)$/,b=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,C=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,D=/^tel:(.*)$/,I={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType","class":"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(t,e){var n,i=t.getSelection(),o=i.getSelectedElement(),r=i.getRanges(),a=[];if(!e&&o&&o.is("a"))return o;for(o=0;o<r.length;o++)if((n=i.getRanges()[o]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=t.elementPath(n.getCommonAncestor()).contains("a",1))&&e)a.push(n);else if(n)return n;return e?a:null},getEditorAnchors:function(t){for(var e,n=(i=(n=t.editable()).isInline()&&!t.plugins.divarea?t.document:n).getElementsByTag("a"),i=i.getElementsByTag("img"),o=[],r=0;e=n.getItem(r++);)(e.data("cke-saved-name")||e.hasAttribute("name"))&&o.push({name:e.data("cke-saved-name")||e.getAttribute("name"),id:e.getAttribute("id")});for(r=0;e=i.getItem(r++);)(e=this.tryRestoreFakeAnchor(t,e))&&o.push({name:e.getAttribute("name"),id:e.getAttribute("id")});return o},fakeAnchor:!0,tryRestoreFakeAnchor:function(t,e){if(e&&e.data("cke-real-element-type")&&"anchor"==e.data("cke-real-element-type")){var n=t.restoreRealElement(e);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(t,e){var n,i=e&&(e.data("cke-saved-href")||e.getAttribute("href"))||"",a=t.plugins.link.compiledProtectionFunction,o=t.config.emailProtection,s={};if(i.match(c)&&("encode"==o?i=i.replace(T,function(t,e,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,e.split(","))+n.replace(/\\'/g,"'")}):o&&i.replace(y,function(t,e,n){if(e==a.name){s.type="email",t=s.email={},e=/(^')|('$)/g;for(var i,o=(n=n.match(/[^,\s]+/g)).length,r=0;r<o;r++)i=decodeURIComponent(i=n[r].replace(e,"").replace(/\\'/g,"'")),t[a.params[r].toLowerCase()]=i;t.address=[t.name,t.domain].join("@")}})),!s.type)if(o=i.match(m))s.type="anchor",s.anchor={},s.anchor.name=s.anchor.id=o[1];else if(o=i.match(D))s.type="tel",s.tel=o[1];else if(o=i.match(u)){n=i.match(p),i=i.match(g),s.type="email";var r=s.email={};r.address=o[1],n&&(r.subject=decodeURIComponent(n[1])),i&&(r.body=decodeURIComponent(i[1]))}else i&&(n=i.match(E))&&(s.type="url",s.url={},s.url.protocol=n[1],s.url.url=n[2]);if(e){if(i=e.getAttribute("target"))s.target={type:i.match(v)?i:"frame",name:i};else if(i=(i=e.data("cke-pa-onclick")||e.getAttribute("onclick"))&&i.match(b))for(s.target={type:"popup",name:i[1]};o=C.exec(i[2]);)"yes"!=o[2]&&"1"!=o[2]||o[1]in{height:1,width:1,top:1,left:1}?isFinite(o[2])&&(s.target[o[1]]=o[2]):s.target[o[1]]=!0;null!==e.getAttribute("download")&&(s.download=!0);var l;i={};for(l in I)(o=e.getAttribute(l))&&(i[I[l]]=o);(l=e.data("cke-saved-name")||i.advName)&&(i.advName=l),CKEDITOR.tools.isEmpty(i)||(s.advanced=i)}return s},getLinkAttributes:function(t,e){var n=t.config.emailProtection||"",i={};switch(e.type){case"url":n=e.url&&void 0!==e.url.protocol?e.url.protocol:"http://";var o=e.url&&CKEDITOR.tools.trim(e.url.url)||"";i["data-cke-saved-href"]=0===o.indexOf("/")?o:n+o;break;case"anchor":n=e.anchor&&e.anchor.id,i["data-cke-saved-href"]="#"+(e.anchor&&e.anchor.name||n||"");break;case"email":o=(s=e.email).address;switch(n){case"":case"encode":var r=encodeURIComponent(s.subject||""),a=encodeURIComponent(s.body||""),s=[];r&&s.push("subject="+r),a&&s.push("body="+a),s=s.length?"?"+s.join("&"):"","encode"==n?(n=["javascript:void(location.href='mailto:'+",h(o)],s&&n.push("+'",d(s),"'"),n.push(")")):n=["mailto:",o,s];break;default:n=o.split("@",2),s.name=n[0],s.domain=n[1],n=["javascript:",f(t,s)]}i["data-cke-saved-href"]=n.join("");break;case"tel":i["data-cke-saved-href"]="tel:"+e.tel}if(e.target)if("popup"==e.target.type){n=["window.open(this.href, '",e.target.name||"","', '"];var l="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(o=l.length,r=function(t){e.target[t]&&l.push(t+"="+e.target[t])},s=0;s<o;s++)l[s]+=e.target[l[s]]?"=yes":"=no";r("width"),r("left"),r("height"),r("top"),n.push(l.join(","),"'); return false;"),i["data-cke-pa-onclick"]=n.join("")}else"notSet"!=e.target.type&&e.target.name&&(i.target=e.target.name);if(e.download&&(i.download=""),e.advanced){for(var c in I)(n=e.advanced[I[c]])&&(i[c]=n);i.name&&(i["data-cke-saved-name"]=i.name)}for(var u in i["data-cke-saved-href"]&&(i.href=i["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},e.advanced&&CKEDITOR.tools.extend(c,I),i)delete c[u];return{set:i,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(t,e){var n={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},i=e.getSelection();return!(e.widgets&&e.widgets.focused||i&&1<i.getRanges().length)&&(!t||!t.getName||!t.is(n))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(t){if(CKEDITOR.env.ie){var e,n=t.getSelection().getRanges()[0],i=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&i&&(e=n.createBookmark(),n.selectNodeContents(i),n.select())}i=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),t.removeStyle(i),e&&(n.moveToBookmark(e),n.select())},refresh:function(t,e){var n=e.lastElement&&e.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(t){var e,n=t.getSelection(),i=n.createBookmarks();n&&(e=n.getSelectedElement())&&(e.getChildCount()?e.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(t,e))?e.remove(1):(e=CKEDITOR.plugins.link.getSelectedLink(t))&&(e.hasAttribute("href")?(e.removeAttributes({name:1,"data-cke-saved-name":1}),e.removeClass("cke_anchor")):e.remove(1)),n.selectBookmarks(i)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function E(e,n,t){function i(t){!(l=u[t?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(c=n.root[t?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||c.is&&c.isBlockBoundary({br:1})||e.document.createElement("br")[t?"insertBefore":"insertAfter"](l)}for(var o=CKEDITOR.plugins.list.listToArray(n.root,t),r=[],a=0;a<n.contents.length;a++){var s=n.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(r.push(s),CKEDITOR.dom.element.setMarker(t,s,"list_item_processed",!0))}for(s=null,a=0;a<r.length;a++)o[s=r[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<o.length;a++)if(o[a].indent>o[a-1].indent+1){for(r=o[a-1].indent+1-o[a].indent,s=o[a].indent;o[a]&&o[a].indent>=s;)o[a].indent+=r,a++;a--}var l,c,u=CKEDITOR.plugins.list.arrayToList(o,t,null,e.config.enterMode,n.root.getAttribute("dir")).listNode;i(!0),i(),u.replace(n.root),e.fire("contentDomInvalidated")}function t(t,e){this.name=t,this.context=this.type=e,this.allowedContent=e+" li",this.requiredContent=e}function c(t,e,n,i){for(var o,r;o=t[i?"getLast":"getFirst"](a);)(r=o.getDirection(1))!==e.getDirection(1)&&o.setAttribute("dir",r),o.remove(),n?o[i?"insertBefore":"insertAfter"](n):e.append(o,i)}function v(n){function t(t){var e=n[t?"getPrevious":"getNext"](R);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(n.getName())&&(c(n,e,null,!t),n.remove(),n=e)}t(),t(1)}function d(t){return t.type==CKEDITOR.NODE_ELEMENT&&(t.getName()in CKEDITOR.dtd.$block||t.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[t.getName()]["#"]}function h(t,e,n){t.fire("saveSnapshot"),n.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=n.extractContents();e.trim(!1,!0);var o=e.createBookmark(),r=(a=new CKEDITOR.dom.elementPath(e.startContainer)).block,a=a.lastElement.getAscendant("li",1)||r,s=(l=new CKEDITOR.dom.elementPath(n.startContainer)).contains(CKEDITOR.dtd.$listItem),l=l.contains(CKEDITOR.dtd.$list);for(r?(r=r.getBogus())&&r.remove():l&&(r=l.getPrevious(R))&&p(r)&&r.remove(),(r=i.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("br")&&r.remove(),(r=e.startContainer.getChild(e.startOffset))?i.insertBefore(r):e.startContainer.append(i),s&&(i=f(s))&&(a.contains(s)?(c(i,s.getParent(),s),i.remove()):a.append(i));n.checkStartOfBlock()&&n.checkEndOfBlock()&&(i=(l=n.startPath()).block);)i.is("li")&&(a=i.getParent(),i.equals(a.getLast(R))&&i.equals(a.getFirst(R))&&(i=a)),n.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();n=n.clone(),i=t.editable(),n.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).evaluator=function(t){return R(t)&&!p(t)},(n=n.next())&&n.type==CKEDITOR.NODE_ELEMENT&&n.getName(
)in CKEDITOR.dtd.$list&&v(n),e.moveToBookmark(o),e.select(),t.fire("saveSnapshot")}function f(t){return(t=t.getLast(R))&&t.type==CKEDITOR.NODE_ELEMENT&&t.getName()in I?t:null}var I={ol:1,ul:1},e=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark(),R=function(t){return!(e(t)||O(t))},p=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(t,e,n,i,o){if(!I[t.getName()])return[];i||(i=0),n||(n=[]);for(var r=0,a=t.getChildCount();r<a;r++){var s=t.getChild(r);if(s.type==CKEDITOR.NODE_ELEMENT&&s.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(s,e,n,i+1),"li"==s.$.nodeName.toLowerCase()){var l={parent:t,indent:i,element:s,contents:[]};o?l.grandparent=o:(l.grandparent=t.getParent(),l.grandparent&&"li"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent())),e&&CKEDITOR.dom.element.setMarker(e,s,"listarray_index",n.length),n.push(l);for(var c,u=0,d=s.getChildCount();u<d;u++)(c=s.getChild(u)).type==CKEDITOR.NODE_ELEMENT&&I[c.getName()]?CKEDITOR.plugins.list.listToArray(c,e,n,i+1,l.grandparent):l.contents.push(c)}}return n},arrayToList:function(t,e,n,i,o){if(n||(n=0),!t||t.length<n+1)return null;for(var r,a,s,l=t[n].parent.getDocument(),c=new CKEDITOR.dom.documentFragment(l),u=null,d=n,h=Math.max(t[n].indent,0),f=null,p=i==CKEDITOR.ENTER_P?"p":"div";;){var g=t[d];if(r=g.grandparent,a=g.element.getDirection(1),g.indent==h){for(u&&t[d].parent.getName()==u.getName()||(u=t[d].parent.clone(!1,1),o&&u.setAttribute("dir",o),c.append(u)),f=u.append(g.element.clone(0,1)),a!=u.getDirection(1)&&f.setAttribute("dir",a),r=0;r<g.contents.length;r++)f.append(g.contents[r].clone(1,1));d++}else if(g.indent==Math.max(h,0)+1)g=t[d-1].element.getDirection(1),d=CKEDITOR.plugins.list.arrayToList(t,null,d,i,g!=a?a:null),!f.getChildCount()&&CKEDITOR.env.needsNbspFiller&&l.$.documentMode<=7&&f.append(l.createText("\xa0")),f.append(d.listNode),d=d.nextIndex;else{if(-1!=g.indent||n||!r)return null;I[r.getName()]?(f=g.element.clone(!1,!0),a!=r.getDirection(1)&&f.setAttribute("dir",a)):f=new CKEDITOR.dom.documentFragment(l);u=r.getDirection(1)!=a;var m,E,v=g.element,T=v.getAttribute("class"),y=v.getAttribute("style"),b=f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(i!=CKEDITOR.ENTER_BR||u||y||T),C=g.contents.length;for(r=0;r<C;r++)if(m=g.contents[r],O(m)&&1<C)b?E=m.clone(1,1):f.append(m.clone(1,1));else if(m.type==CKEDITOR.NODE_ELEMENT&&m.isBlockBoundary()){u&&!m.getDirection()&&m.setAttribute("dir",a),s=m;var D=v.getAttribute("style");D&&s.setAttribute("style",D.replace(/([^;])$/,"$1;")+(s.getAttribute("style")||"")),T&&m.addClass(T),s=null,E&&(f.append(E),E=null),f.append(m.clone(1,1))}else b?(s||(s=l.createElement(p),f.append(s),u&&s.setAttribute("dir",a)),y&&s.setAttribute("style",y),T&&s.setAttribute("class",T),E&&(s.append(E),E=null),s.append(m.clone(1,1))):f.append(m.clone(1,1));E&&((s||f).append(E),E=null),f.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&d!=t.length-1&&(CKEDITOR.env.needsBrFiller&&(a=f.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=f.getLast(R))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||f.append(l.createElement("br"))),"div"!=(a=f.$.nodeName.toLowerCase())&&"p"!=a||f.appendBogus(),c.append(f),u=null,d++}if(s=null,t.length<=d||Math.max(t[d].indent,0)<h)break}if(e)for(t=c.getFirst();t;){if(t.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(e,t),t.getName()in CKEDITOR.dtd.$listItem&&(l=o=i=void 0,i=(n=t).getDirection()))){for(o=n.getParent();o&&!(l=o.getDirection());)o=o.getParent();i==l&&n.removeAttribute("dir")}t=t.getNextSourceNode()}return{listNode:c,nextIndex:d}}};var T=/^h[1-6]$/,a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var e=t.config,n=t.getSelection(),i=n&&n.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((r=t.editable()).getFirst(R)){var o=1==i.length&&i[0];(e=o&&o.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==CKEDITOR.ENTER_BR?r.appendBogus():i[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?"p":"div"),n.selectRanges(i);e=n.createBookmarks(!0);for(var r=[],a={},s=(i=i.createIterator(),0);(o=i.getNextRange())&&++s;){var l=(g=o.getBoundaryNodes()).startNode,c=g.endNode;for(l.type==CKEDITOR.NODE_ELEMENT&&"td"==l.getName()&&o.setStartAt(g.startNode,CKEDITOR.POSITION_AFTER_START),c.type==CKEDITOR.NODE_ELEMENT&&"td"==c.getName()&&o.setEndAt(g.endNode,CKEDITOR.POSITION_BEFORE_END),(o=o.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;g=o.getNextParagraph();)if(!g.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(a,g,"list_block",1);l=(d=t.elementPath(g)).elements,c=0;for(var u,d=d.blockLimit,h=l.length-1;0<=h&&(u=l[h]);h--)if(I[u.getName()]&&d.contains(u)){d.removeCustomData("list_group_object_"+s),(l=u.getCustomData("list_group_object"))?l.contents.push(g):(l={root:u,contents:[g]},r.push(l),CKEDITOR.dom.element.setMarker(a,u,"list_group_object",l)),c=1;break}c||((c=d).getCustomData("list_group_object_"+s)?c.getCustomData("list_group_object_"+s).contents.push(g):(l={root:c,contents:[g]},CKEDITOR.dom.element.setMarker(a,c,"list_group_object_"+s,l),r.push(l)))}}for(u=[];0<r.length;)if(l=r.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(I[l.root.getName()]){for(i=t,s=l,l=a,o=u,c=CKEDITOR.plugins.list.listToArray(s.root,l),d=[],g=0;g<s.contents.length;g++)(h=(h=s.contents[g]).getAscendant("li",!0))&&!h.getCustomData("list_item_processed")&&(d.push(h),CKEDITOR.dom.element.setMarker(l,h,"list_item_processed",!0));h=s.root.getDocument();for(var f=void 0,p=void 0,g=0;g<d.length;g++){var m=d[g].getCustomData("listarray_index");(f=c[m].parent).is(this.type)||(p=h.createElement(this.type),f.copyAttributes(p,{start:1,type:1}),p.removeStyle("list-style-type"),c[m].parent=p)}for(l=CKEDITOR.plugins.list.arrayToList(c,l,null,i.config.enterMode),c=void 0,d=l.listNode.getChildCount(),g=0;g<d&&(c=l.listNode.getChild(g));g++)c.getName()==this.type&&o.push(c);l.listNode.replace(s.root),i.fire("contentDomInvalidated")}else{for(c=t,g=u,d=(o=l).contents,i=o.root.getDocument(),s=[],1==d.length&&d[0].equals(o.root)&&(l=i.createElement("div"),d[0].moveChildren&&d[0].moveChildren(l),d[0].append(l),d[0]=l),o=o.contents[0].getParent(),h=0;h<d.length;h++)o=o.getCommonAncestor(d[h].getParent());for(f=c.config.useComputedState,c=l=void 0,f=void 0===f||f,h=0;h<d.length;h++)for(p=d[h];m=p.getParent();){if(m.equals(o)){s.push(p),!c&&p.getDirection()&&(c=1),p=p.getDirection(f),null!==l&&(l=l&&l!=p?null:p);break}p=m}if(!(s.length<1)){for(d=s[s.length-1].getNext(),h=i.createElement(this.type),g.push(h),f=g=void 0;s.length;)g=s.shift(),f=i.createElement("li"),(p=g).is("pre")||T.test(p.getName())||"false"==p.getAttribute("contenteditable")?g.appendTo(f):(g.copyAttributes(f),l&&g.getDirection()&&(f.removeStyle("direction"),f.removeAttribute("dir")),g.moveChildren(f),g.remove()),f.appendTo(h);l&&c&&h.setAttribute("dir",l),d?h.insertBefore(d):h.appendTo(o)}}else this.state==CKEDITOR.TRISTATE_ON&&I[l.root.getName()]&&E.call(this,t,l,a);for(h=0;h<u.length;h++)v(u[h]);CKEDITOR.dom.element.clearAllMarkers(a),n.selectBookmarks(e),t.focus()},refresh:function(t,e){var n=e.contains(I,1),i=e.blockLimit||e.root;n&&i.contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(u){u.blockless||(u.addCommand("numberedlist",new t("numberedlist","ol")),u.addCommand("bulletedlist",new t("bulletedlist","ul")),u.ui.addButton&&(u.ui.addButton("NumberedList",{label:u.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),u.ui.addButton("BulletedList",{label:u.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),u.on("key",function(t){var e,n=t.data.domEvent.getKey();if("wysiwyg"==u.mode&&n in{8:1,46:1}){var i=u.getSelection().getRanges()[0],o=i&&i.startPath();if(i&&i.collapsed){var r,a=8==n,s=u.editable(),l=new CKEDITOR.dom.walker(i.clone());if(l.evaluator=function(t){return R(t)&&!p(t)},l.guard=function(t,e){return!(e&&t.type==CKEDITOR.NODE_ELEMENT&&t.is("table"))},n=i.clone(),a)if((r=o.contains(I))&&i.checkBoundaryOfElement(r,CKEDITOR.START)&&(r=r.getParent())&&r.is("li")&&(r=f(r))?(r=(e=r).getPrevious(R),n.moveToPosition(r&&p(r)?r:e,CKEDITOR.POSITION_BEFORE_START)):(l.range.setStartAt(s,CKEDITOR.POSITION_AFTER_START),l.range.setEnd(i.startContainer,i.startOffset),(r=l.previous())&&r.type==CKEDITOR.NODE_ELEMENT&&(r.getName()in I||r.is("li"))&&(r.is("li")||(l.range.selectNodeContents(r),l.reset(),l.evaluator=d,r=l.previous()),e=r,n.moveToElementEditEnd(e),n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END))),e)h(u,n,i),t.cancel();else{var c=o.contains(I);c&&i.checkBoundaryOfElement(c,CKEDITOR.START)&&(e=c.getFirst(R),i.checkBoundaryOfElement(e,CKEDITOR.START)&&(r=c.getPrevious(R),f(e)?r&&(i.moveToElementEditEnd(r),i.select()):u.execCommand("outdent"),t.cancel()))}else if(e=o.contains("li")){if(l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),a=(s=e.getLast(R))&&d(s)?s:e,o=0,(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in I&&r.equals(s)?(o=1,r=l.next()):i.checkBoundaryOfElement(a,CKEDITOR.END)&&(o=2),o&&r){if((i=i.clone()).moveToElementEditStart(r),1==o&&(n.optimize(),!n.startContainer.equals(e))){for(e=n.startContainer;e.is(CKEDITOR.dtd.$inline);)e=(c=e).getParent();c&&n.moveToPosition(c,CKEDITOR.POSITION_AFTER_END)}2==o&&(n.moveToPosition(n.endPath().block,CKEDITOR.POSITION_BEFORE_END),i.endPath().block&&i.moveToPosition(i.endPath().block,CKEDITOR.POSITION_AFTER_START)),h(u,n,i),t.cancel()}}else l.range.setEndAt(s,CKEDITOR.POSITION_BEFORE_END),(r=l.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is(I)&&(r=r.getFirst(R),o.block&&i.checkStartOfBlock()&&i.checkEndOfBlock()?(o.block.remove(),i.moveToElementEditStart(r),i.select()):f(r)?(i.moveToElementEditStart(r),i.select()):((i=i.clone()).moveToElementEditStart(r),h(u,n,i)),t.cancel());setTimeout(function(){u.selectionChange(1)})}}}))}})}(),CKEDITOR.plugins.liststyle={requires:"dialog,contextmenu",init:function(t){var e;t.blockless||(e=new CKEDITOR.dialogCommand("numberedListStyle",{requiredContent:"ol",allowedContent:"ol{list-style-type}[start]; li{list-style-type}[value]",contentTransformations:[["ol: listTypeToStyle"]]}),e=t.addCommand("numberedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("numberedListStyle",this.path+"dialogs/liststyle.js"),e=new CKEDITOR.dialogCommand("bulletedListStyle",{requiredContent:"ul",allowedContent:"ul{list-style-type}",contentTransformations:[["ul: listTypeToStyle"]]}),e=t.addCommand("bulletedListStyle",e),t.addFeature(e),CKEDITOR.dialog.add("bulletedListStyle",this.path+"dialogs/liststyle.js"),t.addMenuGroup("list",108),t.addMenuItems({numberedlist:{label:t.lang.liststyle.numberedTitle,group:"list",command:"numberedListStyle"},bulletedlist:{label:t.lang.liststyle.bulletedTitle,group:"list",command:"bulletedListStyle"}}),t.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;for(;t;){var e=t.getName();if("ol"==e)return{numberedlist:CKEDITOR.TRISTATE_OFF};if("ul"==e)return{bulletedlist:CKEDITOR.TRISTATE_OFF};t=t.getParent()}return null}))}},CKEDITOR.plugins.add("liststyle",CKEDITOR.plugins.liststyle),function(){function u(t,e,n){return T(e)&&T(n)&&n.equals(e.getNext(function(t){return!(Y(t)||Q(t)||y(t))}))}function d(t){this.upper=t[0],this.lower=t[1],this.set.apply(this,t.slice(2))}function c(t){var e=t.element;if(e&&T(e)&&(e=e.getAscendant(t.triggers,!0))&&t.editable.contains(e)){var n=a(e);if("true"==n.getAttribute("contenteditable"))return e;if(n.is(t.triggers))return n}return null}function h(t,e,n){return _(t,e),_(t,n),t=e.size.bottom,n=n.size.top,t&&n?0|(t+n)/2:t||n}function f(e,t,n){return t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!Y(t)||T(t)&&!y(t)&&!v(e,t)})}function p(t,e,n){return e<t&&t<n}function a(t,e){if(t.data("cke-editable"))return null;for(e||(t=t.getParent());t&&!t.data("cke-editable");){if(t.hasAttribute("contenteditable"))return t;t=t.getParent()}return null}function g(c){var t=c.doc,e=i('<span contenteditable="false" data-cke-magic-line="1" style="'+V+"position:absolute;border-top:1px dashed "+c.boxColor+'"></span>',t),n=CKEDITOR.getUrl(this.path+"images/"+(A.hidpi?"hidpi/":"")+"icon"+(c.rtl?"-rtl":"")+".png");for(S(e,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(c.editable,!0),this},lineChildren:[S(i('<span title="'+c.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:V+"height:17px;width:17px;"+(c.rtl?"left":"right")+":17px;background:url("+n+") center no-repeat "+c.boxColor+";cursor:pointer;"+(A.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(A.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),S(i(X,t),{base:G+"left:0px;border-left-color:"+c.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),S(i(X,t),{base:G+"right:0px;border-right-color:"+c.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){_(c,this);var t=c.holdDistance,e=this.size;return!!(e&&p(c.mouse.y,e.top-t,e.bottom+t)&&p(c.mouse.x,e.left-t,e.right+t))},place:function(){var t=c.view,e=c.editable,n=c.trigger,i=n.upper,o=n.lower,r=i||o,a=r.getParent(),s={};for(var l in this.trigger=n,i&&_(c,i,!0),o&&_(c,o,!0),_(c,a,!0),c.inInlineMode&&w(c,!0),a.equals(e)?(s.left=t.scroll.x,s.right=-t.scroll.x,s.width=""):(s.left=r.size.left-r.size.margin.left+t.scroll.x-(c.inInlineMode?t.editable.left+t.editable.border.left:0),s.width=r.size.outerWidth+r.size.margin.left+r.size.margin.right+t.scroll.x,s.right=""),i&&o?s.top=i.size.margin.bottom===o.size.margin.top?0|i.size.bottom+i.size.margin.bottom/2:i.size.margin.bottom<o.size.margin.top?i.size.bottom+i.size.margin.bottom:i.size.bottom+i.size.margin.bottom-o.size.margin.top:i?o||(s.top=i.size.bottom+i.size.margin.bottom):s.top=o.size.top-o.size.margin.top,n.is($)||p(s.top,t.scroll.y-15,t.scroll.y+5)?(s.top=c.inInlineMode?0:t.scroll.y,this.look($)):n.is(j)||p(s.top,t.pane.bottom-5,t.pane.bottom+15)?(s.top=c.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(j)):(c.inInlineMode&&(s.top-=t.editable.top+t.editable.border.top),this.look(q)),c.inInlineMode&&(s.top--,s.top+=t.editable.scroll.top,s.left+=t.editable.scroll.left),s)s[l]=CKEDITOR.tools.cssLength(s[l]);this.setStyles(s)},look:function(t){if(this.oldLook!=t){for(var e,n=this.lineChildren.length;n--;)(e=this.lineChildren[n]).setAttribute("style",e.base+e.looks[0|t/2]);this.oldLook=t}},wrap:new s("span",c.doc)}),t=e.lineChildren.length;t--;)e.lineChildren[t].appendTo(e);e.look(q),e.appendTo(e.wrap),e.unselectable(),e.lineChildren[0].on("mouseup",function(t){e.detach(),m(c,function(t){var e=c.line.trigger;t[e.is(P)?"insertBefore":"insertAfter"](e.is(P)?e.lower:e.upper)},!0),c.editor.focus(),A.ie||c.enterMode==CKEDITOR.ENTER_BR||c.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),e.on("mousedown",function(t){t.data.preventDefault(!0)}),c.line=e}function m(t,e,n){var i,o=new CKEDITOR.dom.range(t.doc),r=t.editor;A.ie&&t.enterMode==CKEDITOR.ENTER_BR?i=t.doc.createText(H):(i=(i=a(t.element,!0))&&i.data("cke-enter-mode")||t.enterMode,(i=new s(l[i],t.doc)).is("br")||t.doc.createText(H).appendTo(i)),n&&r.fire("saveSnapshot"),e(i),o.moveToPosition(i,CKEDITOR.POSITION_AFTER_START),r.getSelection().selectRanges([o]),t.hotNode=i,n&&r.fire("saveSnapshot")}function E(o,r){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function i(e){var t=A.ie&&A.version<9?" ":H,n=o.hotNode&&o.hotNode.getText()==t&&o.element.equals(o.hotNode)&&o.lastCmdDirection===!!r;m(o,function(t){n&&o.hotNode&&o.hotNode.remove(),t[r?"insertAfter":"insertBefore"](e),t.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!r}),o.lastCmdDirection=!!r}),A.ie||o.enterMode==CKEDITOR.ENTER_BR||o.hotNode.scrollIntoView(),o.line.detach()}return function(t){var e,n;(t=(t=t.getSelection().getStartElement()).getAscendant(z,1),D(o,t)||!t||t.equals(o.editable)||t.contains(o.editable))||((e=a(t))&&"false"==e.getAttribute("contenteditable")&&(t=e),o.element=t,T(e=f(o,t,!r))&&e.is(o.triggers)&&e.is(W)&&(!f(o,e,!r)||(n=f(o,e,!r))&&T(n)&&n.is(o.triggers))?i(e):T(n=c(o,t))&&(f(o,n,!r)?(t=f(o,n,!r))&&T(t)&&t.is(o.triggers)&&i(n):i(n)))}}()}}function v(t,e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||!e.$)return!1;var n=t.line;return n.wrap.equals(e)||n.wrap.contains(e)}function T(t){return t&&t.type==CKEDITOR.NODE_ELEMENT&&t.$}function y(t){return!!T(t)&&((e=b(t))||(T(t)?e=!(!(e={left:1,right:1,center:1})[t.getComputedStyle("float")]&&!e[t.getAttribute("align")]):e=!1),e);var e}function b(t){return!!{absolute:1,fixed:1}[t.getComputedStyle("position")]}function C(t,e){return T(e)?e.is(t.triggers):null}function D(t,e){if(!e)return!1;for(var n=e.getParents(1),i=n.length;i--;)for(var o=t.tabuList.length;o--;)if(n[i].hasAttribute(t.tabuList[o]))return!0;return!1}function I(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(o)}))&&(_(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}function O(t){var e=t.editable,n=t.mouse,i=t.view,o=t.triggerOffset;w(t);var r=n.y>(t.inInlineMode?i.editable.top+i.editable.height/2:Math.min(i.editable.height,i.pane.height)/2);return(e=e[r?"getLast":"getFirst"](function(t){return!(Y(t)||Q(t))}))?(v(t,e)&&(e=t.line.wrap[r?"getPrevious":"getNext"](function(t){return!(Y(t)||Q(t))})),T(e)&&!y(e)&&C(t,e)?(_(t,e),!r&&0<=e.size.top&&p(n.y,0,e.size.top+o)?(t=t.inInlineMode||0===i.scroll.y?$:q,new d([null,e,P,M,t])):r&&e.size.bottom<=i.pane.height&&p(n.y,e.size.bottom-o,i.pane.height)?(t=t.inInlineMode||p(e.size.bottom,i.pane.height-o,i.pane.height)?j:q,new d([e,null,F,M,t])):null):null):null}function R(t){var e=t.mouse,n=t.view,i=t.triggerOffset,o=c(t);if(!o)return null;_(t,o);i=Math.min(i,0|o.size.outerHeight/2);var r,a,s=[];if(p(e.y,o.size.top-1,o.size.top+i))a=!1;else{if(!p(e.y,o.size.bottom-i,o.size.bottom+1))return null;a=!0}if(y(o)||I(t,o,a)||o.getParent().is(U))return null;var l=f(t,o,!a);if(l){if(l&&l.type==CKEDITOR.NODE_TEXT)return null;if(T(l)){if(y(l)||!C(t,l)||l.getParent().is(U))return null;s=[l,o][a?"reverse":"concat"]().concat([B,M])}}else o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?(w(t),a&&p(e.y,o.size.bottom-i,n.pane.height)&&p(o.size.bottom,n.pane.height-i,n.pane.height)?r=j:p(e.y,0,o.size.top+i)&&(r=$)):r=q,s=[null,o][a?"reverse":"concat"]().concat([a?F:P,M,r,o.equals(t.editable[a?"getLast":"getFirst"](t.isRelevant))?a?j:$:q]);return 0 in s?new d(s):null}function k(t,e,n,i){for(var o=e.getDocumentPosition(),r={},a={},s={},l={},c=tt.length;c--;)r[tt[c]]=parseInt(e.getComputedStyle.call(e,"border-"+tt[c]+"-width"),10)||0,s[tt[c]]=parseInt(e.getComputedStyle.call(e,"padding-"+tt[c]),10)||0,a[tt[c]]=parseInt(e.getComputedStyle.call(e,"margin-"+tt[c]),10)||0;return n&&!i||K(t,i),l.top=o.y-(n?0:t.view.scroll.y),l.left=o.x-(n?0:t.view.scroll.x),l.outerWidth=e.$.offsetWidth,l.outerHeight=e.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+r.top+r.bottom),l.width=l.outerWidth-(s.left+s.right+r.left+r.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,t.inInlineMode&&(l.scroll={top:e.$.scrollTop,left:e.$.scrollLeft}),S({border:r,padding:s,margin:a,ignoreScroll:n},l,!0)}function _(t,e,n){if(!T(e))return e.size=null;if(e.size){if(e.size.ignoreScroll==n&&e.size.date>new Date-r)return null}else e.size={};return S(e.size,k(t,e,n),{date:+new Date},!0)}function w(t,e){t.view.editable=k(t,t.editable,e,!0)}function K(t,e){t.view||(t.view={});var n=t.view;if(!(!e&&n&&n.date>new Date-r)){n=(i=t.win).getScrollPosition();var i=i.getViewPaneSize();S(t.view,{scroll:{x:n.x,y:n.y,width:t.doc.$.documentElement.scrollWidth-i.width,height:t.doc.$.documentElement.scrollHeight-i.height},pane:{width:i.width,height:i.height,bottom:i.height+n.y},date:+new Date},!0)}}function x(t,e,n,i){for(var o=i,r=i,a=0,s=!1,l=!1,c=t.view.pane.height,u=t.mouse;u.y+a<c&&0<u.y-a&&(s||(s=e(o,i)),l||(l=e(r,i)),!s&&0<u.y-a&&(o=n(t,{x:u.x,y:u.y-a})),!l&&u.y+a<c&&(r=n(t,{x:u.x,y:u.y+a})),!s||!l);)a+=2;return new d([o,r,null,null])}CKEDITOR.plugins.add("magicline",{init:function(o){var i,r,a,s=o.config,t=s.magicline_triggerOffset||30,l={editor:o,enterMode:s.enterMode,triggerOffset:t,holdDistance:0|t*(s.magicline_holdDistance||.5),boxColor:s.magicline_color||"#ff0000",rtl:"rtl"==s.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(s.magicline_tabuList||[]),triggers:s.magicline_everywhere?z:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}};l.isRelevant=function(t){return T(t)&&!v(l,t)&&!y(t)},o.on("contentDom",function(){var t=o.editable(),e=o.document,n=o.window;S(l,{editable:t,inInlineMode:t.isInline(),doc:e,win:n,hotNode:null},!0),l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement(),t.is(L.$inline)||(l.inInlineMode&&!b(t)&&t.setStyles({position:"relative",top:null,left:null}),g.call(this,l),K(l),t.attachListener(o,"beforeUndoImage",function(){l.line.detach()}),t.attachListener(o,"beforeGetData",function(){l.line.wrap.getParent()&&(l.line.detach(),o.once("getData",function(){l.line.attach()},null,null,1e3))},null,null,0),t.attachListener(l.inInlineMode?e:e.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==o.mode)if(l.inInlineMode){var e=t.data.$.clientX;t=t.data.$.clientY,K(l),w(l,!0);var n=l.view.editable,i=l.view.scroll;e>n.left-i.x&&e<n.right-i.x&&t>n.top-i.y&&t<n.bottom-i.y||(clearTimeout(a),a=null,l.line.detach())}else clearTimeout(a),a=null,l.line.detach()}),t.attachListener(t,"keyup",function(){l.hiddenMode=0}),t.attachListener(t,"keydown",function(t){if("wysiwyg"==o.mode)switch(t.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=1,l.line.detach()}}),t.attachListener(l.inInlineMode?t:e,"mousemove",function(t){if(r=!0,"wysiwyg"==o.mode&&!o.readOnly&&!a){var e={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout(function(){l.mouse=e,a=l.trigger=null,K(l),r&&!l.hiddenMode&&o.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=J(l,!0))&&((l.trigger=O(l)||R(l)||Z(l))&&!D(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),r=!1)},30)}}),t.attachListener(n,"scroll",function(){"wysiwyg"==o.mode&&(l.line.detach(),A.webkit&&(l.hiddenMode=1,clearTimeout(i),i=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),t.attachListener(N?e:n,"mousedown",function(){"wysiwyg"==o.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),t.attachListener(N?e:n,"mouseup",function(){l.hiddenMode=0,l.mouseDown=0}),o.addCommand("accessPreviousSpace",E(l)),o.addCommand("accessNextSpace",E(l,!0)),o.setKeystroke([[s.magicline_keystrokePrevious,"accessPreviousSpace"],[s.magicline_keystrokeNext,"accessNextSpace"]]),o.on("loadSnapshot",function(){var t,e,n,i;for(i in{p:1,br:1,div:1})for(n=(t=o.document.getElementsByTag(i)).count();n--;)if((e=t.getItem(n)).data("cke-magicline-hot"))return l.hotNode=e,void(l.lastCmdDirection="true"===e.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:m,boxTrigger:d,isLine:v,getAscendantTrigger:c,getNonEmptyNeighbour:f,getSize:k,that:l,triggerEdge:R,triggerEditable:O,triggerExpand:Z})},this)}});var S=CKEDITOR.tools.extend,s=CKEDITOR.dom.element,i=s.createFromHtml,A=CKEDITOR.env,N=CKEDITOR.env.ie&&CKEDITOR.env.version<9,L=CKEDITOR.dtd,l={},P=128,F=64,B=32,M=16,$=4,j=2,q=1,H="\xa0",U=L.$listItem,o=L.$tableContent,W=S({},L.$nonEditable,L.$empty),z=L.$block,r=100,V="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",G=V+"border-color:transparent;display:block;border-style:solid;",X="<span>"+H+"</span>";l[CKEDITOR.ENTER_BR]="br",l[CKEDITOR.ENTER_P]="p",l[CKEDITOR.ENTER_DIV]="div",d.prototype={set:function(t,e,n){return this.properties=t+e+(n||q),this},is:function(t){return(this.properties&t)==t}};var J=function(){function a(t,e){var n=t.$.elementFromPoint(e.x,e.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,e,n){if(!t.mouse)return null;var i=t.doc,o=t.line.wrap,r=a(i,n=n||t.mouse);return e&&v(t,r)&&(o.hide(),r=a(i,n),o.show()),!r||r.type!=CKEDITOR.NODE_ELEMENT||!r.$||A.ie&&A.version<9&&!t.boundary.equals(r)&&!t.boundary.contains(r)?null:r}}(),Y=CKEDITOR.dom.walker.whitespaces(),Q=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),Z=function(){function o(e){var t,n,i;if(!T(l=e.element)||l.contains(e.editable)||l.isReadOnly())return null;if(t=(i=x(e,function(t,e){return!e.equals(t)},function(t,e){return J(t,!0,e)},l)).upper,n=i.lower,u(e,t,n))return i.set(B,8);if(t&&l.contains(t))for(;!t.getParent().equals(l);)t=t.getParent();else t=l.getFirst(function(t){return c(e,t)});if(n&&l.contains(n))for(;!n.getParent().equals(l);)n=n.getParent();else n=l.getLast(function(t){return c(e,t)});if(!t||!n)return null;if(_(e,t),_(e,n),!p(e.mouse.y,t.size.top,n.size.bottom))return null;for(var o,r,a,s,l=Number.MAX_VALUE;n&&!n.equals(t)&&(r=t.getNext(e.isRelevant));)(o=Math.abs(h(e,t,r)-e.mouse.y))<l&&(l=o,a=t,s=r),_(e,t=r);return a&&s&&p(e.mouse.y,a.size.top,s.size.bottom)?(i.upper=a,i.lower=s,i.set(B,8)):null}function c(t,e){return!(e&&e.type==CKEDITOR.NODE_TEXT||Q(e)||y(e)||v(t,e)||e.type==CKEDITOR.NODE_ELEMENT&&e.$&&e.is("br"))}return function(t){var e,n=o(t);if(e=n){e=n.upper;var i=n.lower;e=!(!e||!i||y(i)||y(e)||i.equals(e)||e.equals(i)||i.contains(e)||e.contains(i))&&!!(C(t,e)&&C(t,i)&&u(t,e,i))}return e?n:null}}(),tt=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function r(t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||"form"!=t.getName())return[];for(var e=[],n=["style","className"],i=0;i<n.length;i++){var o=t.$.elements.namedItem(n[i]);o&&(o=new CKEDITOR.dom.element(o),e.push([o,o.nextSibling]),o.remove())}return e}function a(t,e){if(t&&t.type==CKEDITOR.NODE_ELEMENT&&"form"==t.getName()&&0<e.length)for(var n=e.length-1;0<=n;n--){var i=e[n][0],o=e[n][1];o?i.insertBefore(o):i.appendTo(t)}}function p(t,e){var n=r(t),i={},o=t.$;return e||(i["class"]=o.className||"",o.className=""),i.inline=o.style.cssText||"",e||(o.style.cssText="position: static; overflow: visible"),a(n),i}function g(t,e){var n=r(t),i=t.$;"class"in e&&(i.className=e["class"]),"inline"in e&&(i.style.cssText=e.inline),a(n)}function m(t){if(!t.editable().isInline()){var e,n=CKEDITOR.instances;for(e in n){var i=n[e];"wysiwyg"!=i.mode||i.readOnly||((i=i.document.getBody()).setAttribute("contentEditable",!1),i.setAttribute("contentEditable",!0))}t.editable().hasFocus&&(t.toolbox.focus(),t.focus())}}CKEDITOR.plugins.add("maximize",{init:function(r){function a(){var t=h.getViewPaneSize();r.resize(t.width,t.height,null,!0)}if(r.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var s,l,c,u=r.lang,d=CKEDITOR.document,h=d.getWindow(),f=CKEDITOR.TRISTATE_OFF;r.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var t=r.container.getFirst(function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_inner")}),e=r.ui.space("contents");if("wysiwyg"==r.mode){var n=r.getSelection();s=n&&n.getRanges(),l=h.getScrollPosition()}else{var i=r.editable().$;s=!CKEDITOR.env.ie&&[i.selectionStart,i.selectionEnd],l=[i.scrollLeft,i.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(h.on("resize",a),c=h.getScrollPosition(),n=r.container;n=n.getParent();)n.setCustomData("maximize_saved_styles",p(n)),n.setStyle("z-index",r.config.baseFloatZIndex-5);e.setCustomData("maximize_saved_styles",p(e,!0)),t.setCustomData("maximize_saved_styles",p(t,!0)),e={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},d.getDocumentElement().setStyles(e),!CKEDITOR.env.gecko&&d.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||d.getBody().setStyles(e),CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(0,0)},0):h.$.scrollTo(0,0),t.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),t.$.offsetLeft,t.setStyles({"z-index":r.config.baseFloatZIndex-5,left:"0px",top:"0px"}),t.addClass("cke_maximized"),a(),e=t.getDocumentPosition(),t.setStyles({left:-1*e.x+"px",top:-1*e.y+"px"}),CKEDITOR.env.gecko&&m(r)}else if(this.state==CKEDITOR.TRISTATE_ON){h.removeListener("resize",a);n=[e,t];for(var o=0;o<n.length;o++)g(n[o],n[o].getCustomData("maximize_saved_styles")),n[o].removeCustomData("maximize_saved_styles");for(n=r.container;n=n.getParent();)g(n,n.getCustomData("maximize_saved_styles")),n.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){h.$.scrollTo(c.x,c.y)},0):h.$.scrollTo(c.x,c.y),t.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(t.setStyle("display","inline"),setTimeout(function(){t.setStyle("display","block")},0)),r.fire("resize",{outerHeight:r.container.$.offsetHeight,contentsHeight:e.$.offsetHeight,outerWidth:r.container.$.offsetWidth})}this.toggleState(),(n=this.uiItems[0])&&(e=this.state==CKEDITOR.TRISTATE_OFF?u.maximize.maximize:u.maximize.minimize,(n=CKEDITOR.document.getById(n._.id)).getChild(1).setHtml(e),n.setAttribute("title",e),n.setAttribute("href",'javascript:void("'+e+'");')),"wysiwyg"==r.mode?s?(CKEDITOR.env.gecko&&m(r),r.getSelection().selectRanges(s),(i=r.getSelection().getStartElement())&&i.scrollIntoView(!0)):h.$.scrollTo(l.x,l.y):(s&&(i.selectionStart=s[0],i.selectionEnd=s[1]),i.scrollLeft=l[0],i.scrollTop=l[1]),s=l=null,f=this.state,r.fire("maximize",this.state)},canUndo:!1}),r.ui.addButton&&r.ui.addButton("Maximize",{label:u.maximize.maximize,command:"maximize",toolbar:"tools,10"}),r.on("mode",function(){var t=r.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:f)},null,null,100)}}})}(),CKEDITOR.plugins.add("newpage",{init:function(t){t.addCommand("newpage",{modes:{wysiwyg:1,source:1},exec:function(t){var e=this;t.setData(t.config.newpage_html||"",function(){t.focus(),setTimeout(function(){t.fire("afterCommandExec",{name:"newpage",command:e}),t.selectionChange()},200)})},async:!0}),t.ui.addButton&&t.ui.addButton("NewPage",{label:t.lang.newpage.toolbar,command:"newpage",toolbar:"document,20"})}}),function(){function a(t){return{"aria-label":t,"class":"cke_pagebreak",contenteditable:"false","data-cke-display-name":"pagebreak","data-cke-pagebreak":1,style:"page-break-after: always",title:t}}CKEDITOR.plugins.add("pagebreak",{requires:"fakeobjects",onLoad:function(){var t=("background:url("+CKEDITOR.getUrl(this.path+"images/pagebreak.gif")+") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g," !important;");CKEDITOR.addCss("div.cke_pagebreak{"+t+"}")},init:function(e){e.blockless||(e.addCommand("pagebreak",CKEDITOR.plugins.pagebreakCmd),e.ui.addButton&&e.ui.addButton("PageBreak",{label:e.lang.pagebreak.toolbar,command:"pagebreak",toolbar:"insert,70"}),CKEDITOR.env.webkit&&e.on("contentDom",function(){e.document.on("click",function(t){(t=t.data.getTarget()).is("div")&&t.hasClass("cke_pagebreak")&&e.getSelection().selectElement(t)})}))},afterInit:function(e){function n(t){CKEDITOR.tools.extend(t.attributes,a(e.lang.pagebreak.alt),!0),t.children.length=0}var t=(i=e.dataProcessor)&&i.dataFilter,i=i&&i.htmlFilter,o=/page-break-after\s*:\s*always/i,r=/display\s*:\s*none/i;i&&i.addRules({attributes:{"class":function(t,e){var n=t.replace("cke_pagebreak","");if(n!=t){var i=CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];e.children.length=0,e.add(i),delete(i=e.attributes)["aria-label"],delete i.contenteditable,delete i.title}return n}}},{applyToAll:!0,priority:5}),t&&t.addRules({elements:{div:function(t){if(t.attributes["data-cke-pagebreak"])n(t);else if(o.test(t.attributes.style)){var e=t.children[0];e&&"span"==e.name&&r.test(e.attributes.style)&&n(t)}}}})}}),CKEDITOR.plugins.pagebreakCmd={exec:function(t){var e=t.document.createElement("div",{attributes:a(t.lang.pagebreak.alt)});t.insertElement(e)},context:"div",allowedContent:{div:{styles:"!page-break-after"},span:{match:function(t){return(t=t.parent)&&"div"==t.name&&t.styles&&t.styles["page-break-after"]},styles:"display"}},requiredContent:"div{page-break-after}"}}(),R={canUndo:!1,async:!0,exec:function(t,e){var n=t.lang,
i=CKEDITOR.tools.keystrokeToString(n.common.keyboard,t.getCommandKeystroke(CKEDITOR.env.ie?t.commands.paste:this)),o=e&&"undefined"!=typeof e.notification?e.notification:!e||!e.from||"keystrokeHandler"===e.from&&CKEDITOR.env.ie;n=o&&"string"==typeof o?o:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+i.aria+'">'+i.display+"</kbd>");t.execCommand("paste",{type:"text",notification:!!o&&n})}},CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(e){var t=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;e.addCommand("pastetext",R),e.setKeystroke(t,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteText",{label:e.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),e.config.forcePasteAsPlainText&&e.on("beforePaste",function(t){"html"!=t.data.type&&(t.data.type="text")}),e.on("pasteState",function(t){e.getCommand("pastetext").setState(t.data)})}}),function(){function c(t,e,n){var i=CKEDITOR.cleanWord;return i?n():(t=CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile||e+"filter/default.js"),CKEDITOR.scriptLoader.load(t,n,null,!0)),!i}CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(a){function t(t){var e,n=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,i=[];if(n&&t.editor.filter.check("img[src]")&&(0!==(e=n.extractTagsFromHtml(t.data.dataValue)).length&&(0!==(n=n.extractFromRtf(t.data.dataTransfer["text/rtf"])).length&&(CKEDITOR.tools.array.forEach(n,function(t){i.push(t.type?"data:"+t.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(t.hex)):null)},this),e.length===i.length))))for(n=0;n<e.length;n++)0===e[n].indexOf("file://")&&i[n]&&(t.data.dataValue=t.data.dataValue.replace(e[n],i[n]))}var s=0,l=this.path,e=void 0===a.config.pasteFromWord_inlineImages||a.config.pasteFromWord_inlineImages;a.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(t,e){s=1,t.execCommand("paste",{type:"html",notification:!e||"undefined"==typeof e.notification||e.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(a,"PasteFromWord",{label:a.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),a.on("paste",function(t){var e=t.data,n=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/html",!0):null,i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?e.dataTransfer.getData("text/rtf"):null,o={dataValue:n=n||e.dataValue,dataTransfer:{"text/rtf":i}};i=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,i=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(n)||i.test(n);if(n&&(s||i)&&(!1!==a.fire("pasteFromWord",o)||s)){e.dontFilter=!0;var r=c(a,l,function(){r?a.fire("paste",e):(!a.config.pasteFromWordPromptCleanup||s||confirm(a.lang.pastefromword.confirmCleanup))&&(o.dataValue=CKEDITOR.cleanWord(o.dataValue,a),a.fire("afterPasteFromWord",o),e.dataValue=o.dataValue,!0===a.config.forcePasteAsPlainText?e.type="text":CKEDITOR.plugins.clipboard.isCustomCopyCutSupported||"allow-word"!==a.config.forcePasteAsPlainText||(e.type="html")),s=0});r&&t.cancel()}},null,null,3),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&e&&a.on("afterPasteFromWord",t)}})}(),_={modes:{wysiwyg:1,source:1},canUndo:!1,readOnly:1,exec:function(t){var e,n=(i=t.config).baseHref?'<base href="'+i.baseHref+'"/>':"";if(i.fullPage)e=t.getData().replace(/<head>/,"$&"+n).replace(/[^>]*(?=<\/title>)/,"$& &mdash; "+t.lang.preview.preview);else{var i="<body ";(r=t.document&&t.document.getBody())&&(r.getAttribute("id")&&(i+='id="'+r.getAttribute("id")+'" '),r.getAttribute("class")&&(i+='class="'+r.getAttribute("class")+'" ')),i+=">",e=t.config.docType+'<html dir="'+t.config.contentsLangDirection+'"><head>'+n+"<title>"+t.lang.preview.preview+"</title>"+CKEDITOR.tools.buildStyleHtml(t.config.contentsCss)+"</head>"+i+t.getData()+"</body></html>"}n=640,i=420,r=80;try{var o=window.screen,r=(n=Math.round(.8*o.width),i=Math.round(.7*o.height),Math.round(.1*o.width))}catch(_){}if(!1===t.fire("contentPreview",t={dataValue:e}))return!1;var a;o="";return CKEDITOR.env.ie&&(window._cke_htmlToLoad=t.dataValue,a="javascript:void( (function(){document.open();"+("("+CKEDITOR.tools.fixDomain+")();").replace(/\/\/.*?\n/g,"").replace(/parent\./g,"window.opener.")+"document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )",o=""),CKEDITOR.env.gecko&&(window._cke_htmlToLoad=t.dataValue,o=CKEDITOR.getUrl(k+"preview.html")),o=window.open(o,null,"toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width="+n+",height="+i+",left="+r),CKEDITOR.env.ie&&o&&(o.location=a),CKEDITOR.env.ie||CKEDITOR.env.gecko||((a=o.document).open(),a.write(t.dataValue),a.close()),!0}},CKEDITOR.plugins.add("preview",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(k=this.path,t.addCommand("preview",_),t.ui.addButton&&t.ui.addButton("Preview",{label:t.lang.preview.preview,command:"preview",toolbar:"document,40"}))}}),CKEDITOR.plugins.add("print",{init:function(t){t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&(t.addCommand("print",CKEDITOR.plugins.print),t.ui.addButton&&t.ui.addButton("Print",{label:t.lang.print.toolbar,command:"print",toolbar:"document,50"}))}}),CKEDITOR.plugins.print={exec:function(t){CKEDITOR.env.gecko?t.window.$.print():t.document.$.execCommand("Print")},canUndo:!1,readOnly:1,modes:{wysiwyg:1}},CKEDITOR.plugins.add("removeformat",{init:function(t){t.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),t.ui.addButton&&t.ui.addButton("RemoveFormat",{label:t.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(r){for(var t,a=r._.removeFormatRegex||(r._.removeFormatRegex=new RegExp("^(?:"+r.config.removeFormatTags.replace(/,/g,"|")+")$","i")),e=r._.removeAttributes||(r._.removeAttributes=r.config.removeFormatAttributes.split(",")),s=CKEDITOR.plugins.removeformat.filter,n=r.getSelection().getRanges(),i=n.createIterator(),o=function(t){return t.type==CKEDITOR.NODE_ELEMENT};t=i.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),c=l.startNode,u=l.endNode,d=function(t){for(var e,n=r.elementPath(t),i=n.elements,o=1;(e=i[o])&&!e.equals(n.block)&&!e.equals(n.blockLimit);o++)a.test(e.getName())&&s(r,e)&&t.breakParent(e)};if(d(c),u)for(d(u),c=c.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);c&&!c.equals(u);)if(c.isReadOnly()){if(c.getPosition(u)&CKEDITOR.POSITION_CONTAINS)break;c=c.getNext(o)}else d=c.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==c.getName()&&c.data("cke-realelement")||!s(r,c)||(a.test(c.getName())?c.remove(1):(c.removeAttributes(e),r.fire("removeFormatCleanup",c))),c=d;t.moveToBookmark(l)}r.forceNextSelectionCheck(),r.getSelection().selectRanges(n)}}},filter:function(t,e){for(var n=t._.removeFormatFilters||[],i=0;i<n.length;i++)if(!1===n[i](e))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(t)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",w={readOnly:1,modes:{wysiwyg:1,source:1},exec:function(t){if(t.fire("save")&&(t=t.element.$.form))try{t.submit()}catch(w){t.submit.click&&t.submit.click()}}},CKEDITOR.plugins.add("save",{init:function(t){t.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.addCommand("save",w).startDisabled=!t.element.$.form,t.ui.addButton&&t.ui.addButton("Save",{label:t.lang.save.toolbar,command:"save",toolbar:"document,10"}))}}),CKEDITOR.plugins.add("selectall",{init:function(t){t.addCommand("selectAll",{modes:{wysiwyg:1,source:1},exec:function(t){var e=t.editable();if(e.is("textarea"))t=e.$,CKEDITOR.env.ie&&t.createTextRange?t.createTextRange().execCommand("SelectAll"):(t.selectionStart=0,t.selectionEnd=t.value.length),t.focus();else{if(e.is("body"))t.document.$.execCommand("SelectAll",!1,null);else{var n=t.createRange();n.selectNodeContents(e),n.select()}t.forceNextSelectionCheck(),t.selectionChange()}},canUndo:!1}),t.ui.addButton&&t.ui.addButton("SelectAll",{label:t.lang.selectall.toolbar,command:"selectAll",toolbar:"selection,10"})}}),K={readOnly:1,preserveState:!0,editorFocus:!1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state!=CKEDITOR.TRISTATE_ON||t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!t.focusManager.hasFocus?"removeClass":"attachClass";t.editable()[e]("cke_show_blocks")}}},CKEDITOR.plugins.add("showblocks",{onLoad:function(){var t,e,n,i,o,r,a="p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),s=CKEDITOR.getUrl(this.path),l=!(CKEDITOR.env.ie&&CKEDITOR.env.version<9),c=l?":not([contenteditable=false]):not(.cke_show_blocks_off)":"";for(t=e=n=i="";o=a.pop();)t+=".cke_show_blocks "+o+c+(r=a.length?",":""),n+=".cke_show_blocks.cke_contents_ltr "+o+c+r,i+=".cke_show_blocks.cke_contents_rtl "+o+c+r,e+=".cke_show_blocks "+o+c+"{background-image:url("+CKEDITOR.getUrl(s+"images/block_"+o+".png")+")}";CKEDITOR.addCss((t+"{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(e,n+"{background-position:top left;padding-left:8px}",i+"{background-position:top right;padding-right:8px}")),l||CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")},init:function(t){function e(){n.refresh(t)}if(!t.blockless){var n=t.addCommand("showblocks",K);n.canUndo=!1,t.config.startupOutlineBlocks&&n.setState(CKEDITOR.TRISTATE_ON),t.ui.addButton&&t.ui.addButton("ShowBlocks",{label:t.lang.showblocks.toolbar,command:"showblocks",toolbar:"tools,20"}),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(t.on("focus",e),t.on("blur",e)),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)})}}}),x={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(t){this.toggleState(),this.refresh(t)},refresh:function(t){if(t.document){var e=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";t.editable()[e]("cke_show_borders")}}},CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var t;t=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(t)},init:function(e){var t=e.addCommand("showborders",x);(t.canUndo=!1)!==e.config.startupShowBorders&&t.setState(CKEDITOR.TRISTATE_ON),e.on("mode",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)},null,null,100),e.on("contentDom",function(){t.state!=CKEDITOR.TRISTATE_DISABLED&&t.refresh(e)}),e.on("removeFormatCleanup",function(t){t=t.data,e.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&t.is("table")&&(!t.hasAttribute("border")||parseInt(t.getAttribute("border"),10)<=0)&&t.addClass("cke_show_border")})},afterInit:function(t){var e=t.dataProcessor;t=e&&e.dataFilter,e=e&&e.htmlFilter,t&&t.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"],n=parseInt(t.border,10);n&&!(n<=0)||e&&-1!=e.indexOf("cke_show_border")||(t["class"]=(e||"")+" cke_show_border")}}}),e&&e.addRules({elements:{table:function(t){var e=(t=t.attributes)["class"];e&&(t["class"]=e.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;"table"!=e&&"tableProperties"!=e||((e=(t=t.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(e.commit,function(i){return function(t,e){i.apply(this,arguments);var n=parseInt(this.getValue(),10);e[!n||n<=0?"addClass":"removeClass"]("cke_show_border")}}),(t=(t=t.getContents("advanced"))&&t.get("advCSSClasses"))&&(t.setup=CKEDITOR.tools.override(t.setup,function(t){return function(){t.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),t.commit=CKEDITOR.tools.override(t.commit,function(n){return function(t,e){n.apply(this,arguments),parseInt(e.getAttribute("border"),10)||e.addClass("cke_show_border")}})))}),function(){CKEDITOR.plugins.add("sourcearea",{init:function(n){function i(){var t=e&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),t&&this.focus()}if(n.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var t=CKEDITOR.plugins.sourcearea;n.addMode("source",function(t){var e=n.ui.space("contents").getDocument().createElement("textarea");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",n.config.sourceAreaTabSize||4))),e.setAttribute("dir","ltr"),e.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),n.ui.space("contents").append(e),(e=n.editable(new o(n,e))).setData(n.getData(1)),CKEDITOR.env.ie&&(e.attachListener(n,"resize",i,e),e.attachListener(CKEDITOR.document.getWindow(),"resize",i,e),CKEDITOR.tools.setTimeout(i,0,e)),n.fire("ariaWidget",this),t()}),n.addCommand("source",t.commands.source),n.ui.addButton&&n.ui.addButton("Source",{label:n.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),n.on("mode",function(){n.getCommand("source").setState("source"==n.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var o=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(t){this.setValue(t),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(t){this[(t?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){o.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(t){"wysiwyg"==t.mode&&t.fire("saveSnapshot"),t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),t.setMode("source"==t.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var n=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var t=e.langCode;t=n.availableLangs[t]?t:n.availableLangs[t.replace(/-.*/,"")]?t.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(n.path+"dialogs/lang/"+t+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,n.langEntries[t]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(t){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(i){var o=this,n=CKEDITOR.plugins.scayt;this.bindEvents(i),this.parseConfig(i),this.addRule(i),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(i);var t=i.lang.scayt,e=CKEDITOR.env;i.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:t.text_title,title:i.plugins.wsc?i.lang.wsc.title:t.text_title,modes:{wysiwyg:!(e.ie&&(e.version<8||e.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=i.ui.instances.Scayt.getState();i.scayt&&(t=n.state.scayt[i.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),i.fire("scaytButtonState",t)},onRender:function(){var e=this;i.on("scaytButtonState",function(t){void 0!==typeof t.data&&e.setState(t.data)})},onMenu:function(){var t=i.scayt;i.getMenuItem("scaytToggle").label=i.lang.scayt[t&&n.state.scayt[i.name]?"btn_disable":"btn_enable"];var e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:i.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return i.config.scayt_uiTabs[0]||delete e.scaytOptions,i.config.scayt_uiTabs[1]||delete e.scaytLangs,i.config.scayt_uiTabs[2]||delete e.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete e.scaytDict,i.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),e}}),i.contextMenu&&i.addMenuItems&&(i.contextMenu.addListener(function(){var t,e,n=i.scayt;return n&&(e=n.getSelectionNode())&&(t=o.menuGenerator(i,e),n.showBanner("."+i.contextMenu._.definition.panel.className.split(" ").join(" ."))),t}),i.contextMenu._.onHide=CKEDITOR.tools.override(i.contextMenu._.onHide,function(e){return function(){var t=i.scayt;return t&&t.hideBanner(),e.apply(this)}}))},addMenuItems:function(i){var e=this,n=CKEDITOR.plugins.scayt;i.addMenuGroup("scaytButton");for(var t=i.config.scayt_contextMenuItemsOrder.split("|"),o=0;o<t.length;o++)t[o]="scayt_"+t[o];if((t=["grayt_description","grayt_suggest","grayt_control"].concat(t))&&t.length)for(o=0;o<t.length;o++)i.addMenuGroup(t[o],o-10);i.addCommand("scaytToggle",{exec:function(t){var e=t.scayt;n.state.scayt[t.name]=!n.state.scayt[t.name],!0===n.state.scayt[t.name]?e||n.createScayt(t):e&&n.destroy(t)}}),i.addCommand("scaytAbout",{exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytOptions",{exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytLangs",{exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)}}),i.addCommand("scaytDict",{exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)}}),t={scaytToggle:{label:i.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:i.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:i.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:i.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:i.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},i.plugins.wsc&&(t.WSC={label:i.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,e=i.scayt,n=i.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?i.container.getText():i.document.getBody().getText();(n=n.replace(/\s/g,""))?(e&&t.state.scayt[i.name]&&e.setMarkupPaused&&e.setMarkupPaused(!0),i.lockSelection(),i.execCommand("checkspell")):alert("Nothing to check!")}}),i.addMenuItems(t)},bindEvents:function(r){var a=CKEDITOR.plugins.scayt,o=r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,e=function(){a.destroy(r)},s=function(){!a.state.scayt[r.name]||r.readOnly||r.scayt||a.createScayt(r)},n=function(){var t=r.editable();t.attachListener(t,"focus",function(t){var e,n;if(CKEDITOR.plugins.scayt&&!r.scayt&&setTimeout(s,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[r.name]&&r.scayt,(o||t)&&r._.savedSelection){t=!(t=r._.savedSelection.getSelectedElement())&&r._.savedSelection.getRanges();for(var i=0;i<t.length;i++)"string"==typeof(n=t[i]).startContainer.$.nodeValue&&(((e=n.startContainer.getText().length)<n.startOffset||e<n.endOffset)&&r.unlockSelection(!1))}},this,null,-10)},t=function(){o?r.config.scayt_inlineModeImmediateMarkup?s():(r.on("blur",function(){setTimeout(e,0)}),r.on("focus",s),r.focusManager.hasFocus&&s()):s(),n();var t=r.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var e=r.widgets&&r.widgets.getByElement(t);e&&(e.wrapper=t.getAscendant(function(t){return t.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};r.on("contentDom",t),r.on("beforeCommandExec",function(t){var e=r.scayt,n=!1,i=!1,o=!0;t.data.name in a.options.disablingCommandExec&&"wysiwyg"==r.mode?e&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==t.data.name&&"italic"!==t.data.name&&"underline"!==t.data.name&&"strike"!==t.data.name&&"subscript"!==t.data.name&&"superscript"!==t.data.name&&"enter"!==t.data.name&&"cut"!==t.data.name&&"language"!==t.data.name||!e||("cut"===t.data.name&&(i=!(o=!1)),"language"===t.data.name&&(i=n=!0),r.fire("reloadMarkupScayt",{removeOptions:{removeInside:o,forceBookmark:i,language:n},timeout:0}))}),r.on("beforeSetMode",function(t){"source"==t.data&&((t=r.scayt)&&(a.destroy(r),r.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),r.document&&r.document.getBody().removeAttribute("_jquid"))}),r.on("afterCommandExec",function(t){"wysiwyg"!=r.mode||"undo"!=t.data.name&&"redo"!=t.data.name||setTimeout(function(){a.reloadMarkup(r.scayt)},250)}),r.on("readOnly",function(t){var e;t&&(e=r.scayt,!0===t.editor.readOnly?e&&e.fire("removeMarkupInDocument",{}):e?a.reloadMarkup(e):"wysiwyg"==t.editor.mode&&!0===a.state.scayt[t.editor.name]&&(a.createScayt(r),t.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),r.on("beforeDestroy",e),r.on("setData",function(){e(),(r.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||r.plugins.divarea)&&t()},this,null,50),r.on("reloadMarkupScayt",function(t){var e=t.data&&t.data.removeOptions,n=t.data&&t.data.timeout,i=t.data&&t.data.language,o=r.scayt;o&&setTimeout(function(){i&&(e.selectionNode=r.plugins.language.getCurrentLangElement(r),e.selectionNode=e.selectionNode&&e.selectionNode.$||null),o.removeMarkupInSelectionNode(e),a.reloadMarkup(o)},n||0)}),r.on("insertElement",function(){r.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),r.on("insertHtml",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("insertText",function(){r.scayt&&r.scayt.setFocused&&r.scayt.setFocused(!0),r.fire("reloadMarkupScayt")},this,null,50),r.on("scaytDialogShown",function(t){t.data.selectPage(r.scayt.tabToOpen)})},parseConfig:function(t){if((i=CKEDITOR.plugins.scayt).replaceOldOptionsNames(t.config),"boolean"!=typeof t.config.scayt_autoStartup&&(t.config.scayt_autoStartup=!1),i.state.scayt[t.name]=t.config.scayt_autoStartup,"boolean"!=typeof t.config.grayt_autoStartup&&(t.config.grayt_autoStartup=!1),"boolean"!=typeof t.config.scayt_inlineModeImmediateMarkup&&(t.config.scayt_inlineModeImmediateMarkup=!1),i.state.grayt[t.name]=t.config.grayt_autoStartup,t.config.scayt_contextCommands||(t.config.scayt_contextCommands="ignoreall|add"),t.config.scayt_contextMenuItemsOrder||(t.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),t.config.scayt_sLang||(t.config.scayt_sLang="en_US"),(void 0===t.config.scayt_maxSuggestions||"number"!=typeof t.config.scayt_maxSuggestions||t.config.scayt_maxSuggestions<0)&&(t.config.scayt_maxSuggestions=3),(void 0===t.config.scayt_minWordLength||"number"!=typeof t.config.scayt_minWordLength||t.config.scayt_minWordLength<1)&&(t.config.scayt_minWordLength=3),void 0!==t.config.scayt_customDictionaryIds&&"string"==typeof t.config.scayt_customDictionaryIds||(t.config.scayt_customDictionaryIds=""),void 0!==t.config.scayt_userDictionaryName&&"string"==typeof t.config.scayt_userDictionaryName||(t.config.scayt_userDictionaryName=null),"string"==typeof t.config.scayt_uiTabs&&3===t.config.scayt_uiTabs.split(",").length){var e=[],n=[];t.config.scayt_uiTabs=t.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(t.config.scayt_uiTabs,function(t){1===Number(t)||0===Number(t)?(n.push(!0),e.push(Number(t))):n.push(!1)}),null===CKEDITOR.tools.search(n,!1)?t.config.scayt_uiTabs=e:t.config.scayt_uiTabs=[1,1,1]}else t.config.scayt_uiTabs=[1,1,1];if("string"!=typeof t.config.scayt_serviceProtocol&&(t.config.scayt_serviceProtocol=null),"string"!=typeof t.config.scayt_serviceHost&&(t.config.scayt_serviceHost=null),"string"!=typeof t.config.scayt_servicePort&&(t.config.scayt_servicePort=null),"string"!=typeof t.config.scayt_servicePath&&(t.config.scayt_servicePath=null),t.config.scayt_moreSuggestions||(t.config.scayt_moreSuggestions="on"),"string"!=typeof t.config.scayt_customerId&&(t.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof t.config.scayt_customPunctuation&&(t.config.scayt_customPunctuation="-"),"string"!=typeof t.config.scayt_srcUrl&&(i=-1!=(i=document.location.protocol).search(/https?:/)?i:"http:",t.config.scayt_srcUrl=i+"//svc.webspellchecker.net/spellcheck31/wscbundle/wscbundle.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof t.config.scayt_multiLanguageMode&&(t.config.scayt_multiLanguageMode=!1),"object"!=typeof t.config.scayt_multiLanguageStyles&&(t.config.scayt_multiLanguageStyles={}),t.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof t.config.scayt_ignoreAllCapsWords&&(t.config.scayt_ignoreAllCapsWords=!1),t.config.scayt_ignoreDomainNames&&"boolean"!=typeof t.config.scayt_ignoreDomainNames&&(t.config.scayt_ignoreDomainNames=!1),t.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof t.config.scayt_ignoreWordsWithMixedCases&&(t.config.scayt_ignoreWordsWithMixedCases=!1),t.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof t.config.scayt_ignoreWordsWithNumbers&&(t.config.scayt_ignoreWordsWithNumbers=!1),t.config.scayt_disableOptionsStorage){var i=CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage)?t.config.scayt_disableOptionsStorage:"string"==typeof t.config.scayt_disableOptionsStorage?[t.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),a=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],s=CKEDITOR.tools.search,l=CKEDITOR.tools.indexOf;t.config.scayt_disableOptionsStorage=function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],o=!!s(t,"options");if(!s(r,i)||o&&s(a,function(t){if("lang"===t)return!1}))return;if(s(a,i)&&a.splice(l(a,i),1),"all"===i||o&&s(t,"lang"))return[];"options"===i&&(a=["lang"])}return e.concat(a)}(i)}},addRule:function(n){var i=CKEDITOR.plugins.scayt,t=(o=n.dataProcessor)&&o.htmlFilter,e=n._.elementsPath&&n._.elementsPath.filters,o=o&&o.dataFilter,r=n.addRemoveFormatFilter,a=function(t){if(n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute)))return!1},s=function(t){var e=!0;return n.scayt&&(t.hasAttribute(i.options.data_attribute_name)||t.hasAttribute(i.options.problem_grammar_data_attribute))&&(e=!1),e};e&&e.push(a),o&&o.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),t&&t.addRules({elements:{span:function(t){var e=t.hasClass(i.options.misspelled_word_class)&&t.attributes[i.options.data_attribute_name],n=t.hasClass(i.options.problem_grammar_class)&&t.attributes[i.options.problem_grammar_data_attribute];return i&&(e||n)&&delete t.name,t}}}),r&&r.call(n,s)},scaytMenuDefinition:function(t){var e=this,n=CKEDITOR.plugins.scayt;return{scayt:{scayt_ignore:{label:(t=t.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(t){t.scayt.ignoreWord()}},scayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(t){t.scayt.ignoreAllWords()}},scayt_add:{label:t.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(t){var e=t.scayt;setTimeout(function(){e.addWordToUserDictionary()},10)}},scayt_option:{label:t.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(t){t.scayt.tabToOpen="options",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[0]}},scayt_language:{label:t.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(t){t.scayt.tabToOpen="langs",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[1]}},scayt_dictionary:{label:t.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(t){t.scayt.tabToOpen="dictionaries",n.openDialog(e.dialogName,t)},verification:function(t){return 1==t.config.scayt_uiTabs[2]}},scayt_about:{label:t.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(t){t.scayt.tabToOpen="about",n.openDialog(e.dialogName,t)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(){}},grayt_ignore:{label:t.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(t){t.scayt.ignorePhrase()}},grayt_ignoreall:{label:t.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(t){t.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(t,e,n){var i={},o={},r=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=t.scayt;if(0<e.length&&"no_any_suggestions"!==e[0])if(n)for(n=0;n<e.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),n<t.config.scayt_maxSuggestions?(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_suggest",order:n+1}),i[l]=CKEDITOR.TRISTATE_OFF):(t.addMenuItem(l,{label:e[n],command:l,group:"scayt_moresuggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF,"on"===t.config.scayt_moreSuggestions&&(t.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return o}}),i.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<e.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),t.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],r,a)),t.addMenuItem(l,{label:e[n],command:l,group:"grayt_suggest",order:n+1}),
i[l]=CKEDITOR.TRISTATE_OFF;else i.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,t.addCommand("no_scayt_suggest",{exec:function(){}}),t.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return i},menuGenerator:function(t,e){var n,i,o,r,a=t.scayt,s=this.scaytMenuDefinition(t),l={},c=t.config.scayt_contextCommands.split("|"),u=e.getAttribute(a.getLangAttribute())||a.getLang();if(i=a.isScaytNode(e),o=a.isGraytNode(e),i?(s=s.scayt,n=e.getAttribute(a.getScaytNodeAttributeName()),a.fire("getSuggestionsList",{lang:u,word:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)):o&&(s=s.grayt,l=e.getAttribute(a.getGraytNodeAttributeName()),a.getGraytNodeRuleAttributeName?(n=e.getAttribute(a.getGraytNodeRuleAttributeName()),a.getProblemDescriptionText(l,n,u)):a.getProblemDescriptionText(l,u),r=a.getProblemDescriptionText(l,n,u),s.grayt_problemdescription&&r&&(r=r.replace(/([.!?])\s/g,"$1<br>"),s.grayt_problemdescription.label=r),a.fire("getGrammarSuggestionsList",{lang:u,phrase:l,rule:n}),l=this.buildSuggestionMenuItems(t,CKEDITOR.plugins.scayt.suggestions,i)),i&&"off"==t.config.scayt_contextCommands)return l;for(var d in s)i&&-1==CKEDITOR.tools.indexOf(c,d.replace("scayt_",""))&&"all"!=t.config.scayt_contextCommands||o&&"grayt_problemdescription"!==d&&-1==CKEDITOR.tools.indexOf(c,d.replace("grayt_",""))&&"all"!=t.config.scayt_contextCommands||(l[d]="undefined"!=typeof s[d].state?s[d].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof s[d].verification||s[d].verification(t)||delete l[d],t.addCommand(d,{exec:s[d].exec}),t.addMenuItem(d,{label:t.lang.scayt[s[d].label]||s[d].label,command:d,group:s[d].group,order:s[d].order}));return l},createCommand:function(n,i,o){return{exec:function(t){t=t.scayt;var e={};e[i]=n,t.replaceSelectionNode(e),"startGrammarCheck"===o&&t.removeMarkupInSelectionNode({grammarOnly:!0}),t.fire(o)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var t;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){t="4.5.7";var e,n=n.replace(/\./g,"");t=t.replace(/\./g,""),e=0<=(e=n.length-t.length)?e:0,t=parseInt(n)>=parseInt(t)*Math.pow(10,e)}return t?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},openDialog:function(t,e){var n=e.scayt;n.isAllModulesReady&&!1===n.isAllModulesReady()||(e.lockSelection(),e.openDialog(t))},alarmCompatibilityMessage:function(){this.warningCounter<5&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(t){return!!t.getUserDictionary},reloadMarkup:function(t){var e;t&&(e=t.getScaytLangList(),t.reloadMarkup?t.reloadMarkup():(this.alarmCompatibilityMessage(),e&&e.ltr&&e.rtl&&t.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(t){for(var e in t)e in this.backCompatibilityMap&&(t[this.backCompatibilityMap[e]]=t[e],delete t[e])},createScayt:function(t){var r=this,a=CKEDITOR.plugins.scayt;this.loadScaytLibrary(t,function(i){function t(t){return new SCAYT.CKSCAYT(t,function(){},function(){})}var e;if(i.window&&(e="BODY"==i.editable().$.nodeName?i.window.getFrame():i.editable()),e){var n;e={lang:i.config.scayt_sLang,container:e.$,customDictionary:i.config.scayt_customDictionaryIds,userDictionaryName:i.config.scayt_userDictionaryName,localization:i.langCode,customer_id:i.config.scayt_customerId,customPunctuation:i.config.scayt_customPunctuation,debug:i.config.scayt_debug,data_attribute_name:r.options.data_attribute_name,misspelled_word_class:r.options.misspelled_word_class,problem_grammar_data_attribute:r.options.problem_grammar_data_attribute,problem_grammar_class:r.options.problem_grammar_class,"options-to-restore":i.config.scayt_disableOptionsStorage,focused:i.editable().hasFocus,ignoreElementsRegex:i.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:i.config.grayt_elementsToIgnore,minWordLength:i.config.scayt_minWordLength,multiLanguageMode:i.config.scayt_multiLanguageMode,multiLanguageStyles:i.config.scayt_multiLanguageStyles,graytAutoStartup:i.config.grayt_autoStartup,charsToObserve:a.charsToObserve},i.config.scayt_serviceProtocol&&(e.service_protocol=i.config.scayt_serviceProtocol),i.config.scayt_serviceHost&&(e.service_host=i.config.scayt_serviceHost),i.config.scayt_servicePort&&(e.service_port=i.config.scayt_servicePort),i.config.scayt_servicePath&&(e.service_path=i.config.scayt_servicePath),"boolean"==typeof i.config.scayt_ignoreAllCapsWords&&(e["ignore-all-caps-words"]=i.config.scayt_ignoreAllCapsWords),"boolean"==typeof i.config.scayt_ignoreDomainNames&&(e["ignore-domain-names"]=i.config.scayt_ignoreDomainNames),"boolean"==typeof i.config.scayt_ignoreWordsWithMixedCases&&(e["ignore-words-with-mixed-cases"]=i.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof i.config.scayt_ignoreWordsWithNumbers&&(e["ignore-words-with-numbers"]=i.config.scayt_ignoreWordsWithNumbers);try{n=t(e)}catch(o){r.alarmCompatibilityMessage(),delete e.charsToObserve,n=t(e)}n.subscribe("suggestionListSend",function(t){for(var e={},n=[],i=0;i<t.suggestionList.length;i++)e["word_"+t.suggestionList[i]]||(e["word_"+t.suggestionList[i]]=t.suggestionList[i],n.push(t.suggestionList[i]));CKEDITOR.plugins.scayt.suggestions=n}),n.subscribe("selectionIsChanged",function(t){i.getSelection().isLocked&&"restoreSelection"!==t.action&&i.lockSelection(),"restoreSelection"===t.action&&i.selectionChange(!0)}),n.subscribe("graytStateChanged",function(t){a.state.grayt[i.name]=t.state}),n.addMarkupHandler&&n.addMarkupHandler(function(t){var e=i.editable(),n=e.getCustomData(t.charName);n&&(n.$=t.node,e.setCustomData(t.charName,n))}),i.scayt=n,i.fire("scaytButtonState",i.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else a.state.scayt[i.name]=!1})},destroy:function(t){t.scayt&&t.scayt.destroy(),delete t.scayt,t.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(t,e){var n,i=function(){CKEDITOR.fireOnce("scaytReady"),t.scayt||"function"==typeof e&&e(t)};"undefined"==typeof window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?(n=t.config.scayt_srcUrl+"?"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(n,function(t){t&&i()})):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&i()}},CKEDITOR.on("dialogDefinition",function(t){var e=t.data.name;t=t.data.definition.dialog,"scaytDialog"!==e&&"checkspell"!==e&&(t.on("show",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0)}),t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1)})),"scaytDialog"===e&&t.on("cancel",function(){return!1},this,null,-1),"checkspell"===e&&t.on("cancel",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;n&&e.state.scayt[t.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),t.unlockSelection()},this,null,-2),"link"===e&&t.on("ok",function(t){var e=t.sender&&t.sender.getParentEditor();e&&setTimeout(function(){e.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===e&&t.on("hide",function(t){t=t.sender&&t.sender.getParentEditor();var e=CKEDITOR.plugins.scayt,n=t.scayt;t&&setTimeout(function(){n&&(n.fire("removeMarkupInDocument",{}),e.reloadMarkup(n))},0)})}),CKEDITOR.on("scaytReady",function(){!0===CKEDITOR.config.scayt_handleCheckDirty&&((t=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(t.checkDirty,function(i){return function(){var t=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var n=e.removeMarkupFromString(this.getSnapshot());e=e.removeMarkupFromString(this._.previousValue),t=t&&e!==n}}else t=i.call(this);return t}}),t.resetDirty=CKEDITOR.tools.override(t.resetDirty,function(e){return function(){var t=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=t.removeMarkupFromString(this.getSnapshot()):e.call(this)}}));if(!0===CKEDITOR.config.scayt_handleUndoRedo){var t,e="function"==typeof(t=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";t[e]=CKEDITOR.tools.override(t[e],function(r){return function(t){var e=t.editor.scayt,n=this.contents,i=t.contents,o=null;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=e.removeMarkupFromString(n)||"",t.contents=e.removeMarkupFromString(i)||""),o=r.apply(this,arguments),this.contents=n,t.contents=i,o}})}}),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(a){var s=a.config,l=a.lang.stylescombo,c={},u=[],d=[];a.on("stylesSet",function(t){if(t=t.data.styles){for(var e,n,i,o=0,r=t.length;o<r;o++)e=t[o],a.blockless&&e.element in CKEDITOR.dtd.$block||"string"==typeof e.type&&!CKEDITOR.style.customHandlers[e.type]||(n=e.name,e=new CKEDITOR.style(e),a.filter.customConfig&&!a.filter.check(e))||(e._name=n,e._.enterMode=s.enterMode,e._.type=i=e.assignedTo||e.type,e._.weight=o+1e3*(i==CKEDITOR.STYLE_OBJECT?1:i==CKEDITOR.STYLE_BLOCK?2:3),c[n]=e,u.push(e),d.push(e));u.sort(function(t,e){return t._.weight-e._.weight})}}),a.ui.addRichCombo("Styles",{label:l.label,title:l.panelTitle,toolbar:"styles,10",allowedContent:d,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(s.contentsCss),multiSelect:!0,attributes:{"aria-label":l.panelTitle}},init:function(){var t,e,n,i,o,r;for(o=0,r=u.length;o<r;o++)e=(t=u[o])._name,(i=t._.type)!=n&&(this.startGroup(l["panelTitle"+String(i)]),n=i),this.add(e,t.type==CKEDITOR.STYLE_OBJECT?e:t.buildPreview(),e);this.commit()},onClick:function(t){a.focus(),a.fire("saveSnapshot"),t=c[t];var e=a.elementPath();t.group&&t.removeStylesFromSameGroup(a)?a.applyStyle(t):a[t.checkActive(e,a)?"removeStyle":"applyStyle"](t),a.fire("saveSnapshot")},onRender:function(){a.on("selectionChange",function(t){for(var e,n=this.getValue(),i=0,o=(t=t.data.path.elements).length;i<o;i++)for(var r in e=t[i],c)if(c[r].checkElementRemovable(e,!0,a))return void(r!=n&&this.setValue(r));this.setValue("")},this)},onOpen:function(){var t=(t=a.getSelection()).getSelectedElement()||t.getStartElement()||a.editable(),e=(t=a.elementPath(t),[0,0,0,0]);for(var n in this.showAll(),this.unmarkAll(),c){var i=c[n],o=i._.type;i.checkApplicable(t,a,a.activeFilter)?e[o]++:this.hideItem(n),i.checkActive(t,a)&&this.mark(n)}e[CKEDITOR.STYLE_BLOCK]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),e[CKEDITOR.STYLE_INLINE]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),e[CKEDITOR.STYLE_OBJECT]||this.hideGroup(l["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=a.elementPath();if(t){for(var e in c)if(c[e].checkApplicable(t,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={},u=[]}})}}),function(){function o(s){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var e,n=t.getSelection();if(e=new CKEDITOR.dom.elementPath(n.getCommonAncestor(),n.root).contains({td:1,th:1},1)){n=t.createRange();if((o=CKEDITOR.tools.tryThese(function(){var t=e.getParent().$.cells[e.$.cellIndex+(s?-1:1)];return t.parentNode.parentNode,t},function(){var t;return(t=(t=e.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(s?-1:1)]).cells[s?t.cells.length-1:0]}))||s){if(!o)return!0;o=new CKEDITOR.dom.element(o),n.moveToElementEditStart(o),n.checkStartOfBlock()&&n.checkEndOfBlock()||n.selectNodeContents(o)}else{for(var i=e.getAscendant("table").$,o=e.getParent().$.cells,r=(i=new CKEDITOR.dom.element(i.insertRow(-1),t.document),0),a=o.length;r<a;r++)i.append(new CKEDITOR.dom.element(o[r],t.document).clone(!1,!1)).appendBogus();n.moveToElementEditStart(i)}return n.select(!0),!0}}return!1}}}var r={editorFocus:!1,modes:{wysiwyg:1,source:1}},a={exec:function(t){t.container.focusNext(!0,t.tabIndex)}},s={exec:function(t){t.container.focusPrevious(!0,t.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(e){for(var t=!1!==e.config.enableTabKeyTools,n=e.config.tabSpaces||0,i="";n--;)i+="\xa0";i&&e.on("key",function(t){9==t.data.keyCode&&(e.insertText(i),t.cancel())}),t&&e.on("key",function(t){(9==t.data.keyCode&&e.execCommand("selectNextCell")||t.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand("selectPreviousCell"))&&t.cancel()}),e.addCommand("blur",CKEDITOR.tools.extend(a,r)),e.addCommand("blurBack",CKEDITOR.tools.extend(s,r)),e.addCommand("selectNextCell",o()),e.addCommand("selectPreviousCell",o(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(t,e){var n,i,o,r,a,s,l=void 0===e?this.getTabIndex():e;if(l<=0)for(a=this.getNextSourceNode(t,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){o=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&a.equals(this)){if(i=!0,t){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(a)&&(n=1);if(a.isVisible()&&!((s=a.getTabIndex())<0)){if(n&&s==l){o=a;break}l<s&&(!o||!r||s<r)?(o=a,r=s):o||0!==s||(o=a,r=s)}}o&&o.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(t,e){for(var n,i,o,r,a=void 0===e?this.getTabIndex():e,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!i&&l.equals(this)){if(i=!0,t){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else i&&!this.contains(l)&&(n=1);if(l.isVisible()&&!((r=l.getTabIndex())<0))if(a<=0){if(n&&0===r){o=l;break}s<r&&(o=l,s=r)}else{if(n&&r==a){o=l;break}r<a&&(!o||s<r)&&(o=l,s=r)}}o&&o.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(t){function e(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!t.blockless){var n=t.lang.table;t.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(t.plugins.dialogadvtab?"table"+t.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(t){if(t.styles){var e;if(t.styles.border)e=CKEDITOR.tools.style.parse.border(t.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=t.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(e=CKEDITOR.tools.style.parse.border(n["border-top"]))}e&&e.style&&"solid"===e.style&&e.width&&0!==parseFloat(e.width)&&(t.attributes.border=1),"collapse"==t.styles["border-collapse"]&&(t.attributes.cellspacing=0)}}}]]})),t.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",e())),t.addCommand("tableDelete",e({exec:function(t){var e=t.elementPath().contains("table",1);if(e){var n=e.getParent(),i=t.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(i)||(e=n),(t=t.createRange()).moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),t.select()}}})),t.ui.addButton&&t.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),t.addMenuItems&&t.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),t.on("doubleclick",function(t){t.data.element.is("table")&&(t.data.dialog="tableProperties")}),t.contextMenu&&t.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function b(t,e){function n(t){return!e||e.contains(t)&&t.getAscendant("table",!0).equals(e)}function i(t){0<o.length||t.type!=CKEDITOR.NODE_ELEMENT||!m.test(t.getName())||t.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(r,t,"selected_cell",!0),o.push(t))}var o=[],r={};if(!t)return o;for(var a=t.getRanges(),s=0;s<a.length;s++){var l,c;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&o.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=i;c=l.next();)c.type==CKEDITOR.NODE_ELEMENT&&c.is(CKEDITOR.dtd.table)||(c=c.getAscendant({td:1,th:1},!0))&&!c.getCustomData("selected_cell")&&n(c)&&(CKEDITOR.dom.element.setMarker(r,c,"selected_cell",!0),o.push(c))}return CKEDITOR.dom.element.clearAllMarkers(r),o}function r(t,e){var n=(i=(a=E(t)?t:b(t))[0]).getAscendant("table"),i=i.getDocument(),o=(s=a[0].getParent()).$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=new CKEDITOR.dom.element(n.$.rows[r]),s=(o=e?o:r,e?s:a);for(n=(a=CKEDITOR.tools.buildTableMap(n))[o],o=e?a[o-1]:a[o+1],a=a[0].length,i=i.createElement("tr"),r=0;n[r]&&r<a;r++){var l;1<n[r].rowSpan&&o&&n[r]==o[r]?(l=n[r]).rowSpan+=1:((l=new CKEDITOR.dom.element(n[r]).clone()).removeAttribute("rowSpan"),l.appendBogus(),i.append(l),l=l.$),r+=l.colSpan-1}return e?i.insertBefore(s):i.insertAfter(s),i}function h(t){if(t instanceof CKEDITOR.dom.selection){var e=t.getRanges(),n=(a=b(t))[0].getAscendant("table"),i=CKEDITOR.tools.buildTableMap(n),o=a[0].getParent().$.rowIndex,r=(a=a[a.length-1]).getParent().$.rowIndex+a.$.rowSpan-1,a=[];for(t.reset(),t=o;t<=r;t++){for(var s=i[t],l=new CKEDITOR.dom.element(n.$.rows[t]),c=0;c<s.length;c++){var u=new CKEDITOR.dom.element(s[c]),d=u.getParent().$.rowIndex;1==u.$.rowSpan?u.remove():(--u.$.rowSpan,d==t&&((d=i[t+1])[c-1]?u.insertAfter(new CKEDITOR.dom.element(d[c-1])):new CKEDITOR.dom.element(n.$.rows[t+1]).append(u,1))),c+=u.$.colSpan-1}a.push(l)}for(i=n.$.rows,e[0].moveToPosition(n,CKEDITOR.POSITION_BEFORE_START),o=new CKEDITOR.dom.element(i[r+1]||(0<o?i[o-1]:null)||n.$.parentNode),t=a.length;0<=t;t--)h(a[t]);return n.$.parentNode?o:(e[0].select(),null)}return t instanceof CKEDITOR.dom.element&&(1==(n=t.getAscendant("table")).$.rows.length?n.remove():t.remove()),null}function a(t){for(var e=t.getParent().$.cells,n=0,i=0;i<e.length;i++){var o=e[i];n=n+o.colSpan;if(o==t.$)break}return n-1}function c(t,e){for(var n=e?Infinity:0,i=0;i<t.length;i++){var o=a(t[i]);(e?o<n:n<o)&&(n=o)}return n}function s(t,e){for(var n=(o=E(t)?t:b(t))[0].getAscendant("table"),i=c(o,1),o=c(o),r=e?i:o,a=CKEDITOR.tools.buildTableMap(n),s=(n=[],i=[],o=[],a.length),l=0;l<s;l++)n.push(a[l][r]),i.push(e?a[l][r-1]:a[l][r+1]);for(l=0;l<s;l++)n[l]&&(1<n[l].colSpan&&i[l]==n[l]?(a=n[l]).colSpan+=1:((a=(r=new CKEDITOR.dom.element(n[l])).clone()).removeAttribute("colSpan"),a.appendBogus(),a[e?"insertBefore":"insertAfter"].call(a,r),o.push(a),a=a.$),l+=a.rowSpan-1);return o}function l(t){function e(t){var e,n,i;if(1!==(e=t.getRanges()).length)return t;if((e=e[0]).collapsed||0!==e.endOffset)return t;if("td"!==(i=(n=e.endContainer).getName().toLowerCase())&&"th"!==i)return t;for((i=n.getPrevious())||(i=n.getParent().getPrevious().getLast());i.type!==CKEDITOR.NODE_TEXT&&"br"!==i.getName().toLowerCase();)if(!(i=i.getLast()))return t;return e.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),e.select()}CKEDITOR.env.webkit&&!t.isFake&&(t=e(t));var n,i,o=t.getRanges(),r=(s=b(t))[0],a=s[s.length-1],s=r.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),c=[];t.reset();var u=0;for(t=l.length;u<t;u++)for(var d=0,h=l[u].length;d<h;d++)void 0===n&&l[u][d]==r.$&&(n=d),l[u][d]==a.$&&(i=d);for(u=n;u<=i;u++)for(d=0;d<l.length;d++)a=l[d],r=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[u])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,r.$.cells.length||c.push(r));return n=l[0].length-1>i?new CKEDITOR.dom.element(l[0][i+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),c.length==t&&(o[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),o[0].select(),s.remove()),n}function u(t,e){var n=t.getStartElement().getAscendant({td:1,th:1},!0);if(n){var i=n.clone();i.appendBogus(),e?i.insertBefore(n):i.insertAfter(n)}}function d(t){if(t instanceof CKEDITOR.dom.selection){var e,n=t.getRanges(),i=b(t),o=i[0]&&i[0].getAscendant("table");t:{var r=0;e=i.length-1;for(var a,s,l={};a=i[r++];)CKEDITOR.dom.element.setMarker(l,a,"delete_cell",!0);for(r=0;a=i[r++];)if((s=a.getPrevious())&&!s.getCustomData("delete_cell")||(s=a.getNext())&&!s.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(l),e=s;break t}CKEDITOR.dom.element.clearAllMarkers(l),(r=(r=i[0].getParent()).getPrevious())?e=r.getLast():e=(r=(r=i[e].getParent()).getNext())?r.getChild(0):null}for(t.reset(),t=i.length-1;0<=t;t--)d(i[t]);e?f(e,!0):o&&(n[0].moveToPosition(o,CKEDITOR.POSITION_BEFORE_START),n[0].select(),o.remove())}else t instanceof CKEDITOR.dom.element&&(1==(n=t.getParent()).getChildCount()?n.remove():t.remove())}function f(t,e){var n=t.getDocument(),i=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(i.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(e?"End":"Start")](t)||(n.selectNodeContents(t),n.collapse(!e)),n.select(!0)}function C(t,e,n){if(t=t[e],void 0===n)return t;for(e=0;t&&e<t.length;e++){if(n.is&&t[e]==n.$)return e;if(e==n)return new CKEDITOR.dom.element(t[e])}return n.is?-1:null}function D(t,e,n){var i,o,r=b(t);if((e?1!=r.length:r.length<2)||(i=t.getCommonAncestor())&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("table"))return!1;i=(t=r[0]).getAscendant("table");var a=CKEDITOR.tools.buildTableMap(i),s=a.length,l=a[0].length,c=t.getParent().$.rowIndex,u=C(a,c,t);if(e){var d;try{var h=parseInt(t.getAttribute("rowspan"),10)||1;o=parseInt(t.getAttribute("colspan"),10)||1,d=a["up"==e?c-h:"down"==e?c+h:c]["left"==e?u-o:"right"==e?u+o:u]}catch(D){return!1}if(!d||t.$==d)return!1;r["up"==e||"left"==e?"unshift":"push"](new CKEDITOR.dom.element(d))}e=t.getDocument();var f=c,p=(h=d=0,!n&&new CKEDITOR.dom.documentFragment(e)),g=0;for(e=0;e<r.length;e++){var m=(o=r[e]).getParent(),E=o.getFirst(),v=o.$.colSpan,T=o.$.rowSpan,y=C(a,m=m.$.rowIndex,o);g=g+v*T,h=Math.max(h,y-u+v);d=Math.max(d,m-c+T),n||((T=(v=o).getBogus())&&T.remove(),v.trim(),o.getChildren().count()&&(m==f||!E||E.isBlockBoundary&&E.isBlockBoundary({br:1})||(!(f=p.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||f.is&&f.is("br")||p.append("br")),o.moveChildren(p)),e?o.remove():o.setHtml("")),f=m}if(n)return d*h==g;for(p.moveChildren(t),t.appendBogus(),l<=h?t.removeAttribute("rowSpan"):t.$.rowSpan=d,s<=d?t.removeAttribute("colSpan"):t.$.colSpan=h,e=(r=(n=new CKEDITOR.dom.nodeList(i.$.rows)).count())-1;0<=e;e--)(i=n.getItem(e)).$.cells.length||(i.remove(),r++);return t}function p(t,e){if(1<(n=b(t)).length)return!1;if(e)return!0;var n,i,o=(l=(n=n[0]).getParent()).getAscendant("table"),r=C(c=CKEDITOR.tools.buildTableMap(o),u=l.$.rowIndex,n);if(1<(s=n.$.rowSpan)){i=Math.ceil(s/2);for(var a,s=Math.floor(s/2),l=u+i,c=(o=new CKEDITOR.dom.element(o.$.rows[l]),C(c,l)),u=(l=n.clone(),0);u<c.length;u++){if((a=c[u]).parentNode==o.$&&r<u){l.insertBefore(new CKEDITOR.dom.element(a));break}a=null}a||o.append(l)}else for(s=i=1,(o=l.clone()).insertAfter(l),o.append(l=n.clone()),a=C(c,u),r=0;r<a.length;r++)a[r].rowSpan++;return l.appendBogus(),n.$.rowSpan=i,l.$.rowSpan=s,1==i&&n.removeAttribute("rowSpan"),1==s&&l.removeAttribute("rowSpan"),l}function g(t,e){if(1<(n=b(t)).length)return!1;if(e)return!0;var n,i=(n=n[0]).getParent(),o=i.getAscendant("table"),r=C(o=CKEDITOR.tools.buildTableMap(o),i.$.rowIndex,n);if(1<(a=n.$.colSpan))i=Math.ceil(a/2),a=Math.floor(a/2);else{for(var a=i=1,s=[],l=0;l<o.length;l++){var c=o[l];s.push(c[r]),1<c[r].rowSpan&&(l+=c[r].rowSpan-1)}for(o=0;o<s.length;o++)s[o].colSpan++}return(o=n.clone()).insertAfter(n),o.appendBogus(),n.$.colSpan=i,o.$.colSpan=a,1==i&&n.removeAttribute("colSpan"),1==a&&o.removeAttribute("colSpan"),o}var m=/^(?:td|th)$/,E=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(i){function t(t){return CKEDITOR.tools.extend(t||{},{contextSensitive:1,refresh:function(t,e){this.setState(e.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function e(t,e){var n=i.addCommand(t,e);i.addFeature(n)}var n=i.lang.table,o=CKEDITOR.tools.style.parse;e("cellProperties",new CKEDITOR.dialogCommand("cellProperties",t({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(t){return t.styles.background&&o.background(t.styles.background).color},right:function(t){t.styles["background-color"]=o.background(t.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(t){return t.attributes&&t.attributes.valign},right:function(t){t.styles["vertical-align"]=t.attributes.valign,delete t.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(t){return t.styles&&t.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)}),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(t){return(t=t.attributes)&&t["cke-row-height"]},right:function(t){t.styles.height=t.attributes["cke-row-height"],delete t.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),e("rowDelete",t({requiredContent:"table",exec:function(t){(t=h(t=t.getSelection()))&&f(t)}})),e("rowInsertBefore",t({requiredContent:"table",exec:function(t){r(t=b(t=t.getSelection()),!0)}})),e("rowInsertAfter",t({requiredContent:"table",exec:function(t){r(t=b(t=t.getSelection()))}})),e("columnDelete",t({requiredContent:"table",exec:function(t){(t=l(t=t.getSelection()))&&f(t,!0)}})),e("columnInsertBefore",t({requiredContent:"table",exec:function(t){s(t=b(t=t.getSelection()),!0)}})),e("columnInsertAfter",t({requiredContent:"table",exec:function(t){s(t=b(t=t.getSelection()))}})),e("cellDelete",t({requiredContent:"table",exec:function(t){d(t=t.getSelection())}})),e("cellMerge",t({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(t,e){e.cell=D(t.getSelection()),f(e.cell,!0)}})),e("cellMergeRight",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t,e){e.cell=D(t.getSelection(),"right"),f(e.cell,!0)}})),e("cellMergeDown",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t,e){e.cell=D(t.getSelection(),"down"),f(e.cell,!0)}})),e("cellVerticalSplit",t({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(t){f(g(t.getSelection()))}})),e("cellHorizontalSplit",t({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(t){f(p(t.getSelection()))}})),e("cellInsertBefore",t({requiredContent:"table",exec:function(t){u(t=t.getSelection(),!0)}})),e("cellInsertAfter",t({requiredContent:"table",exec:function(t){u(t=t.getSelection())}})),i.addMenuItems&&i.addMenuItems({tablecell:{label:n.cell.menu,group:"tablecell",order:1,getItems:function(){var t=i.getSelection(),e=b(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:D(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:D(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:D(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:g(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:p(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<e.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:n.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:n.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:n.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:n.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:n.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:n.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:n.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:n.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:n.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:n.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:n.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:n.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:n.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:n.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:n.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:n.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:n.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),i.contextMenu&&i.contextMenu.addListener(function(t,e,n){return(t=n.contains({td:1,th:1},1))&&!t.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:a,insertRow:r,insertColumn:s,getSelectedCells:b},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(t,e,n,i,o){t=t.$.rows,n=n||0,i="number"==typeof i?i:t.length-1,o="number"==typeof o?o:-1;var r=-1,a=[];for(e=e||0;e<=i;e++){!a[++r]&&(a[r]=[]);for(var s=-1,l=n;l<=(-1===o?t[e].cells.length-1:o);l++){if(!(u=t[e].cells[l]))break;for(s++;a[r][s];)s++;for(var c=isNaN(u.colSpan)?1:u.colSpan,u=isNaN(u.rowSpan)?1:u.rowSpan,d=0;d<u&&!(i<e+d);d++){a[r+d]||(a[r+d]=[]);for(var h=0;h<c;h++)a[r+d][s+h]=t[e].cells[l]}if(s+=c-1,-1!==o&&o<=s)break}}return a},function(){function u(t){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(t)}function d(t,e){var n,i,o=t.getAscendant("table"),r=e.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(o),s=v(t),l=v(e),c=[],u={};for(o.contains(r)&&(l=v(e=e.getAscendant({td:1,th:1}))),l<s&&(o=s,s=l,l=o,o=t,t=e,e=o),o=0;o<a[s].length;o++)if(t.$===a[s][o]){n=o;break}for(o=0;o<a[l].length;o++)if(e.$===a[l][o]){i=o;break}for(i<n&&(o=n,n=i,i=o),o=s;o<=l;o++)for(s=n;s<=i;s++)(r=new CKEDITOR.dom.element(a[o][s])).$&&!r.getCustomData("selected_cell")&&(c.push(r),CKEDITOR.dom.element.setMarker(u,r,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(u),c}function h(t){if(t)return(t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),(t=t.getEnclosedNode())&&t.is&&t.is(CKEDITOR.dtd.$tableContent)}function f(t){return(t=t.editable().findOne(".cke_table-faked-selection"))&&t.getAscendant("table")}function p(t,e){var n,i=t.editable().find(".cke_table-faked-selection");for(t.fire("lockSnapshot"),t.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<i.count();n++)i.getItem(n).removeClass("cke_table-faked-selection");0<i.count()&&i.getItem(0).getAscendant("table").data("cke-table-faked-selection-table",!1),
t.fire("unlockSnapshot"),e&&(D={active:!1},t.getSelection().isInTable()&&t.getSelection().reset())}function g(t,e){var n,i,o=[];for(i=0;i<e.length;i++)(n=t.createRange()).setStartBefore(e[i]),n.setEndAfter(e[i]),o.push(n);t.getSelection().selectRanges(o)}function m(t){var e=t.editable().find(".cke_table-faked-selection");e.count()<1||g(t,e=d(e.getItem(0),e.getItem(e.count()-1)))}function E(t,e,n){var i,o=b(t.getSelection(!0));if(e=e.is("table")?null:e,(i=D.active&&!D.first)&&!(i=e)&&(i=t.getSelection().getRanges(),i=!!(1<o.length||i[0]&&!i[0].collapsed)),i)D.first=e||o[0],D.dirty=!e&&1!==o.length;else if(D.active&&e&&D.first.getAscendant("table").equals(e.getAscendant("table"))){if(o=d(D.first,e),!D.dirty&&1===o.length&&!u(n.data.getTarget()))return p(t,"mouseup"===n.name);D.dirty=!0,D.last=e,g(t,o)}}function o(t){var e,n=(t=t.editor||t.sender.editor)&&t.getSelection(),i=n&&n.getRanges()||[];if(n&&(p(t),n.isInTable()&&n.isFake)){for(1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table")&&(e=i[0]._getTableElement()),e=b(n,e),t.fire("lockSnapshot"),n=0;n<e.length;n++)e[n].addClass("cke_table-faked-selection");0<e.length&&(t.editable().addClass("cke_table-faked-selection-editor"),e[0].getAscendant("table").data("cke-table-faked-selection-table","")),t.fire("unlockSnapshot")}}function v(t){return t.getAscendant("tr",!0).$.rowIndex}function T(t){function e(t,e){return!(!t||!e)&&(t.equals(e)||t.contains(e)||e.contains(t)||t.getCommonAncestor(e).is(c))}function o(t){return!t.getAscendant("table",!0)&&t.getDocument().equals(i.document)}function n(t,e,n,i){return!("mousedown"!==t.name||CKEDITOR.tools.getMouseButton(t)!==CKEDITOR.MOUSE_BUTTON_LEFT&&i)||((e=t.name===(CKEDITOR.env.gecko?"mousedown":"mouseup")&&!o(t.data.getTarget()))&&(e=!((t=t.data.getTarget().getAscendant({td:1,th:1},!0))&&t.hasClass("cke_table-faked-selection"))),e)}if(t.data.getTarget().getName&&("mouseup"===t.name||!u(t.data.getTarget()))){var i=t.editor||t.listenerData.editor,r=i.getSelection(1),a=f(i),s=(l=t.data.getTarget())&&l.getAscendant({td:1,th:1},!0),l=l&&l.getAscendant("table",!0),c={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};n(t,r,a,l)&&p(i,!0),!D.active&&"mousedown"===t.name&&CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&l&&(D={active:!0},CKEDITOR.document.on("mouseup",T,null,{editor:i})),(s||l)&&E(i,s||l,t),"mouseup"===t.name&&(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&(o(t.data.getTarget())||e(a,l))&&m(i),D={active:!1},CKEDITOR.document.removeListener("mouseup",T))}}function r(t){var e=t.data.getTarget().getAscendant({td:1,th:1},!0);e&&!e.hasClass("cke_table-faked-selection")&&(t.cancel(),t.data.preventDefault())}function n(t,e){function n(t){t.cancel()}var i,o,r,a,s=t.getSelection(),l=s.createBookmarks(),c=t.document,u=t.createRange(),d=c.getDocumentElement().$,h=CKEDITOR.env.ie&&CKEDITOR.env.version<9,f=t.blockless||CKEDITOR.env.ie?"span":"div";c.getById("cke_table_copybin")||(i=c.createElement(f),(o=c.createElement(f)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),i.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),i.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-5000px"),i.setHtml(t.getSelectedHtml(!0)),t.fire("lockSnapshot"),o.append(i),t.editable().append(o),a=t.on("selectionChange",n,null,null,0),h&&(r=d.scrollTop),u.selectNodeContents(i),u.select(),h&&(d.scrollTop=r),setTimeout(function(){o.remove(),s.selectBookmarks(l),a.removeListener(),t.fire("unlockSnapshot"),e&&(t.extractSelectedHtml(),t.fire("saveSnapshot"))},100))}function a(t){var e=t.editor||t.sender.editor;e.getSelection().isInTable()&&n(e,"cut"===t.name)}function y(t){this._reset(),t&&this.setSelectedCells(t)}function t(e,n,i){e.on("beforeCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&(t.data.selectedCells=b(e.getSelection()))}),e.on("afterCommandExec",function(t){-1!==CKEDITOR.tools.array.indexOf(n,t.data.name)&&i(e,t.data)})}var e,b,C,l,s,D={active:!1};y.prototype={},y.prototype._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},y.prototype.setSelectedCells=function(t){this._reset(),t=t.slice(0),this._arraySortByDOMOrder(t),this.cells.all=t,this.cells.first=t[0],this.cells.last=t[t.length-1],this.rows.first=t[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},y.prototype.getTableMap=function(){var t,e=C(this.cells.first);t:{var n,i=(t=this.cells.last).getAscendant("table"),o=v(t);i=CKEDITOR.tools.buildTableMap(i);for(n=0;n<i[o].length;n++)if(new CKEDITOR.dom.element(i[o][n]).equals(t)){t=n;break t}t=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),v(this.rows.first),e,v(this.rows.last),t)},y.prototype._getTable=function(){return this.rows.first.getAscendant("table")},y.prototype.insertRow=function(t,e,n){if(void 0===t)t=1;else if(t<=0)return;for(var i,o=this.cells.first.$.cellIndex,r=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<t;s++)i=l(n?this.cells.all:a,e),i=CKEDITOR.tools.array.filter(i.find("td, th").toArray(),function(t){return!!n||t.$.cellIndex>=o&&t.$.cellIndex<=r}),a=e?i.concat(a):a.concat(i);this.setSelectedCells(a)},y.prototype.insertColumn=function(t){function e(t){return t=v(t),i<=t&&t<=o}if(void 0===t)t=1;else if(t<=0)return;for(var n=(r=this.cells).all,i=v(r.first),o=v(r.last),r=0;r<t;r++)n=n.concat(CKEDITOR.tools.array.filter(s(n),e));this.setSelectedCells(n)},y.prototype.emptyCells=function(t){t=t||this.cells.all;for(var e=0;e<t.length;e++)t[e].setHtml("")},y.prototype._arraySortByDOMOrder=function(t){t.sort(function(t,e){return t.getPosition(e)&CKEDITOR.POSITION_PRECEDING?-1:1})};var c={onPaste:function(t){function e(t){return Math.max.apply(null,CKEDITOR.tools.array.map(t,function(t){return t.length},0))}function n(t){var e=r.createRange();e.selectNodeContents(t),e.select()}var i,o,r=t.editor,a=r.getSelection(),s=b(a),l=this.findTableInPastedContent(r,t.data.dataValue),c=a.isInTable(!0)&&this.isBoundarySelection(a);!s.length||1===s.length&&!h(a.getRanges()[0])&&!c||c&&!l||(s=s[0].getAscendant("table"),i=new y(b(a,s)),r.once("afterPaste",function(){var t;if(o){t=new CKEDITOR.dom.element(o[0][0]);var e=o[o.length-1];t=d(t,new CKEDITOR.dom.element(e[e.length-1]))}else t=i.cells.all;g(r,t)}),l?(t.stop(),c?(i.insertRow(1,1===c,!0),a.selectElement(i.rows.first)):(i.emptyCells(),g(r,i.cells.all)),t=i.getTableMap(),o=CKEDITOR.tools.buildTableMap(l),i.insertRow(o.length-t.length),i.insertColumn(e(o)-e(t)),t=i.getTableMap(),this.pasteTable(i,t,o),r.fire("saveSnapshot"),setTimeout(function(){r.fire("afterPaste")},0)):(n(i.cells.first),r.once("afterPaste",function(){r.fire("lockSnapshot"),i.emptyCells(i.cells.all.slice(1)),g(r,i.cells.all),r.fire("unlockSnapshot")})))},isBoundarySelection:function(t){var e=(t=t.getRanges()[0]).endContainer.getAscendant("tr",!0);if(e&&t.collapsed){if(t.checkBoundaryOfElement(e,CKEDITOR.START))return 1;if(t.checkBoundaryOfElement(e,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(t,e){var n=t.dataProcessor,i=new CKEDITOR.dom.element("body");return n||(n=new CKEDITOR.htmlDataProcessor(t)),i.setHtml(n.toHtml(e),{fixForBody:!1}),1<i.getChildCount()?null:i.findOne("table")},pasteTable:function(t,e,n){var i,o,r,a,s,l=C(t.cells.first),c=t._getTable(),u={};for(a=0;a<n.length;a++)for(o=new CKEDITOR.dom.element(c.$.rows[t.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)r=new CKEDITOR.dom.element(n[a][s]),i=e[a]&&e[a][s]?new CKEDITOR.dom.element(e[a][s]):null,r&&!r.getCustomData("processed")?(i&&i.getParent()?r.replace(i):(0===s||n[a][s-1])&&((i=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&o.equals(i.getParent())?r.insertAfter(i):0<l?o.$.cells[l]?r.insertAfter(new CKEDITOR.dom.element(o.$.cells[l])):o.append(r):o.append(r,!0)),CKEDITOR.dom.element.setMarker(u,r,"processed",!0)):r.getCustomData("processed")&&i&&i.remove();CKEDITOR.dom.element.clearAllMarkers(u)}};CKEDITOR.plugins.tableselection={getCellsBetween:d,keyboardIntegration:function(o){function h(t){var e=t.getEnclosedNode();e&&"function"==typeof e.is&&e.is({td:1,th:1})?e.setText(""):t.deleteContents(),CKEDITOR.tools.array.forEach(t._find("td"),function(t){t.appendBogus()})}var t=o.editable();t.attachListener(t,"keydown",function(u){function l(t,e){if(!e.length)return null;var n=u.createRange(),i=CKEDITOR.dom.range.mergeRanges(e);CKEDITOR.tools.array.forEach(i,function(t){t.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var o=(r=i[0].getBoundaryNodes()).startNode,r=r.endNode;if(o&&o.is&&o.is(d)){for(var a=o.getAscendant("table",!0),s=o.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a),l=!1,c=function(t){return!o.contains(t)&&t.is&&t.is("td","th")};s&&!c(s);)s=s.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,a);return!s&&r&&r.is&&!r.is("table")&&r.getNext()&&(s=r.getNext().findOne("td, th"),l=!0),s?n["moveToElementEdit"+(l?"Start":"End")](s):(n.setStartBefore(o.getAscendant("table",!0)),n.collapse(!0)),i[0].deleteContents(),[n]}return o?(n.moveToElementEditablePosition(o),[n]):void 0}var c={37:1,38:1,39:1,40:1,8:1,46:1,13:1},d=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete d.td,delete d.th,function(t){var e,n,i,o,r=t.data.getKey(),a=t.data.getKeystroke(),s=37===r||38==r;if(c[r]&&!u.readOnly&&(e=u.getSelection())&&e.isInTable()&&e.isFake)if(i=(n=e.getRanges())[0]._getTableElement(),o=n[n.length-1]._getTableElement(),(13!==r||u.plugins.enterkey)&&(t.data.preventDefault(),t.cancel()),36<r&&r<41)n[0].moveToElementEditablePosition(s?i:o,!s),e.selectRanges([n[0]]);else if(13!==r||13===a||a===CKEDITOR.SHIFT+13){for(t=0;t<n.length;t++)h(n[t]);(t=l(i,n))?n=t:n[0].moveToElementEditablePosition(i),e.selectRanges(n),13===r&&u.plugins.enterkey?(u.fire("lockSnapshot"),13===a?u.execCommand("enter"):u.execCommand("shiftEnter"),u.fire("unlockSnapshot"),u.fire("saveSnapshot")):13!==r&&u.fire("saveSnapshot")}}}(o),null,null,-1),t.attachListener(t,"keypress",function(t){var e,n=o.getSelection(),i=t.data.$.charCode||13===t.data.getKey();if(!o.readOnly&&n&&n.isInTable()&&n.isFake&&i&&!(t.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(t=n.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),e=0;e<t.length;e++)h(t[e]);i&&(t[0].moveToElementEditablePosition(i),n.selectRanges([t[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&CKEDITOR.env.version<11)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){e=CKEDITOR.plugins.tabletools,b=e.getSelectedCells,C=e.getCellColIndex,l=e.insertRow,s=e.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(i){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(i.addContentsCss&&i.addContentsCss(this.path+"styles/tableselection.css"),i.on("contentDom",function(){var t=i.editable(),e=t.isInline()?t:i.document,n={editor:i};t.attachListener(e,"mousedown",T,null,n),t.attachListener(e,"mousemove",T,null,n),t.attachListener(e,"mouseup",T,null,n),t.attachListener(t,"dragstart",r),t.attachListener(i,"selectionCheck",o),CKEDITOR.plugins.tableselection.keyboardIntegration(i),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",a),t.attachListener(t,"copy",a))}),i.on("paste",c.onPaste,c),t(i,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(t,e){g(t,e.selectedCells)}),t(i,["cellMerge","cellMergeRight","cellMergeDown"],function(t,e){g(t,[e.commandData.cell])}),t(i,["cellDelete"],function(t){p(t,!0)}))}})}(),function(){var s=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],n={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function e(t){i.enabled&&!1!==t.data.command.canUndo&&i.save()}function n(){i.enabled=!t.readOnly&&"wysiwyg"==t.mode,i.onChange()}var i=t.undoManager=new l(t),o=i.editingHandler=new c(i),r=t.addCommand("undo",{exec:function(){i.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),a=t.addCommand("redo",{exec:function(){i.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[s[0],"undo"],[s[1],"redo"],[s[2],"redo"]]),i.onChange=function(){r.setState(i.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a.setState(i.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",e),t.on("afterCommandExec",e),t.on("saveSnapshot",function(t){i.save(t.data&&t.data.contentOnly)}),t.on("contentDom",o.attachListeners,o),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&i.save(!0)}),t.on("mode",n),t.on("readOnly",n),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){i.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){i.currentImage&&i.update()}),t.on("lockSnapshot",function(t){t=t.data,i.lock(t&&t.dontUpdate,t&&t.forceUpdate)}),t.on("unlockSnapshot",i.unlock,i)}}),CKEDITOR.plugins.undo={};var l=CKEDITOR.plugins.undo.UndoManager=function(t){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=t.config.undoStackSize||20,this.strokesLimit=25,this.editor=t,this.reset()};l.prototype={type:function(t,e){var n=l.getKeyGroup(t),i=this.strokesRecorded[n]+1;e=e||i>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),e?(i=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[n]=i,this.previousKeyGroup=n},keyGroupChanged:function(t){return l.getKeyGroup(t)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(t,e,n){var i=this.editor;if(this.locked||"ready"!=i.status||"wysiwyg"!=i.mode)return!1;var o=i.editable();if(!o||"ready"!=o.status)return!1;if(o=this.snapshots,e||(e=new r(i)),!1===e.contents)return!1;if(this.currentImage)if(e.equalsContent(this.currentImage)){if(t||e.equalsSelection(this.currentImage))return!1}else!1!==n&&i.fire("change");return o.splice(this.index+1,o.length-this.index-1),o.length==this.limit&&o.shift(),this.index=o.push(e)-1,this.currentImage=e,!1!==n&&this.refreshState(),!0},restoreImage:function(t){var e,n=this.editor;t.bookmarks&&(n.focus(),e=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(t.contents),t.bookmarks?e.selectBookmarks(t.bookmarks):CKEDITOR.env.ie&&((e=this.editor.document.getBody().$.createTextRange()).collapse(!0),e.select()),this.locked=null,this.index=t.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(t){var e,n=this.snapshots,i=this.currentImage;if(i)if(t){for(e=this.index-1;0<=e;e--)if(t=n[e],!i.equalsContent(t))return t.index=e,t}else for(e=this.index+1;e<n.length;e++)if(t=n[e],!i.equalsContent(t))return t.index=e,t;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var t=this.getNextImage(!0);if(t)return this.restoreImage(t),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var t=this.getNextImage(!1);if(t)return this.restoreImage(t),!0}return!1},update:function(t){if(!this.locked){t||(t=new r(this.editor));for(var e=this.index,n=this.snapshots;0<e&&this.currentImage.equalsContent(n[e-1]);)--e;n.splice(e,this.index-e+1,t),this.index=e,this.currentImage=t}},updateSelection:function(t){if(!this.snapshots.length)return!1;var e=this.snapshots,n=e[e.length-1];return!(!n.equalsContent(t)||n.equalsSelection(t))&&(this.currentImage=e[e.length-1]=t,!0)},lock:function(t,e){if(this.locked)this.locked.level++;else if(t)this.locked={level:1};else{var n=null;if(e)n=!0;else{var i=new r(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(i)&&(n=i)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var t=this.locked.update;if(!(this.locked=null)===t)this.update();else if(t){var e=new r(this.editor,!0);t.equalsContent(e)||this.update()}}}},l.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},l.keyGroups={PRINTABLE:0,FUNCTIONAL:1},l.isNavigationKey=function(t){return!!l.navigationKeyCodes[t]},l.getKeyGroup=function(t){var e=l.keyGroups;return n[t]?e.FUNCTIONAL:e.PRINTABLE},l.getOppositeKeyGroup=function(t){var e=l.keyGroups;return t==e.FUNCTIONAL?e.PRINTABLE:e.FUNCTIONAL},l.ieFunctionalKeysBug=function(t){return CKEDITOR.env.ie&&l.getKeyGroup(t)==l.keyGroups.FUNCTIONAL};var r=CKEDITOR.plugins.undo.Image=function(t,e){(this.editor=t).fire("beforeUndoImage");var n=t.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,e||(this.bookmarks=(n=n&&t.getSelection())&&n.createBookmarks2(!0)),t.fire("afterUndoImage")},i=/\b(?:href|src|name)="[^"]*?"/gi;r.prototype={equalsContent:function(t){var e=this.contents;return t=t.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(e=e.replace(i,""),t=t.replace(i,"")),e==t},equalsSelection:function(t){var e=this.bookmarks;if(t=t.bookmarks,e||t){if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++){var i=e[n],o=t[n];if(i.startOffset!=o.startOffset||i.endOffset!=o.endOffset||!CKEDITOR.tools.arrayCompare(i.start,o.start)||!CKEDITOR.tools.arrayCompare(i.end,o.end))return!1}}return!0}};var c=CKEDITOR.plugins.undo.NativeEditingHandler=function(t){this.undoManager=t,this.ignoreInputEvent=!1,this.keyEventsStack=new e,this.lastKeydownImage=null};c.prototype={onKeydown:function(t){var e=t.data.getKey();229!==e&&(-1<CKEDITOR.tools.indexOf(s,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new r(t.editor),(l.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var t=this.keyEventsStack.getLast();t||(t=this.keyEventsStack.push(0)),this.keyEventsStack.increment(t.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(t.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(t){var e=this.undoManager;t=t.data.getKey();var n=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(t),l.ieFunctionalKeysBug(t)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new r(e.editor,!0))||(0<n?e.type(t):l.isNavigationKey(t)&&this.onNavigationKey(!0))},onNavigationKey:function(t){var e=this.undoManager;!t&&e.save(!0,null,!1)||e.updateSelection(new r(e.editor)),e.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var t=this.undoManager.editor,e=t.editable(),n=this;e.attachListener(e,"keydown",function(t){n.onKeydown(t),l.ieFunctionalKeysBug(t.data.getKey())&&n.onInput()},null,null,999),e.attachListener(e,CKEDITOR.env.ie?"keypress":"input",n.onInput,n,null,999),e.attachListener(e,"keyup",n.onKeyup,n,null,999),e.attachListener(e,"paste",n.ignoreInputEventListener,n,null,999),e.attachListener(e,"drop",n.ignoreInputEventListener,n,null,999),t.on("afterPaste",n.activateInputEventListener,n,null,999),e.attachListener(e.isInline()?e:t.document.getDocumentElement(),"click",function(){n.onNavigationKey()},null,null,999),e.attachListener(this.undoManager.editor,"blur",function(){n.keyEventsStack.remove(9)},null,null,999)}};var e=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};e.prototype={push:function(t){return t=this.stack.push({keyCode:t,inputs:0}),this.stack[t-1]},getLastIndex:function(t){if("number"!=typeof t)return this.stack.length-1;for(var e=this.stack.length;e--;)if(this.stack[e].keyCode==t)return e;return-1},getLast:function(t){return-1!=(t=this.getLastIndex(t))?this.stack[t]:null},increment:function(t){this.getLast(t).inputs++},remove:function(t){-1!=(t=this.getLastIndex(t))&&this.stack.splice(t,1)},resetInputs:function(t){if("number"==typeof t)this.getLast(t).inputs=0;else for(t=this.stack.length;t--;)this.stack[t].inputs=0},getTotalInputs:function(){for(var t=this.stack.length,e=0;t--;)e+=this.stack[t].inputs;return e},cleanUp:function(t){(t=t.data.$).ctrlKey||t.metaKey||this.remove(17),t.shiftKey||this.remove(16),t.altKey||this.remove(18)}}}(),function(){function t(t,e){CKEDITOR.tools.extend(this,{editor:t,editable:t.editable(),doc:t.document,win:t.window},e,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function e(t,e){CKEDITOR.tools.extend(this,e,{editor:t},!0)}function n(t,e){var n=t.editable();CKEDITOR.tools.extend(this,{editor:t,editable:n,inline:n.isInline(),doc:t.document,win:t.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},e,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var i=CKEDITOR.tools.bind(this.queryViewport,this),o=CKEDITOR.tools.bind(this.hideVisible,this),r=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",i),n.attachListener(this.winTop,"scroll",i),n.attachListener(this.winTop,"resize",o),n.attachListener(this.win,"scroll",o),n.attachListener(this.inline?n:this.frame,"mouseout",function(t){var e=t.data.$.clientX;t=t.data.$.clientY,this.queryViewport(),(e<=this.rect.left||e>=this.rect.right||t<=this.rect.top||t>=this.rect.bottom)&&this.hideVisible(),(e<=0||e>=this.winTopPane.width||t<=0||t>=this.winTopPane.height)&&this.hideVisible()},this),n.attachListener(t,"resize",i),n.attachListener(t,"mode",r),t.on("destroy",r),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},u,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},c,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function l(t){var e;return(e=t&&t.type==CKEDITOR.NODE_ELEMENT)&&(e=!(d[t.getComputedStyle("float")]||d[t.getAttribute("align")])),e&&!h[t.getComputedStyle("position")]}var i,o,r,a,s;CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,t.prototype={start:function(t){var e,n,i,o,r=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(r.relations={},(n=s.$.elementFromPoint(i,o))&&n.nodeType&&(e=new CKEDITOR.dom.element(n),r.traverseSearch(e),isNaN(i+o)||r.pixelSearch(e,i,o),t&&t(r.relations,i,o)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(t){i=t.data.$.clientX,o=t.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:(i={},i[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,i[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,i[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var e=this.editor.createRange();return e.moveToPosition(this.relations[t.uid].element,i[t.type]),e}),store:function(){function i(t,e,n){var i=t.getUniqueId();i in n?n[i].type|=e:n[i]={element:t,type:e}}return function(t,e){var n;e&CKEDITOR.LINEUTILS_AFTER&&l(n=t.getNext())&&n.isVisible()&&(i(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_AFTER),e&CKEDITOR.LINEUTILS_INSIDE&&l(n=t.getFirst())&&n.isVisible()&&(i(n,CKEDITOR.LINEUTILS_BEFORE,this.relations),e^=CKEDITOR.LINEUTILS_INSIDE),i(t,e,this.relations)}}(),traverseSearch:function(t){var e,n,i;do{if(!((i=t.$["data-cke-expando"])&&i in this.relations)){if(t.equals(this.editable))break;if(l(t))for(e in this.lookups)(n=this.lookups[e](t))&&this.store(t,n)}}while((!t||t.type!=CKEDITOR.NODE_ELEMENT||"true"!=t.getAttribute("contenteditable"))&&(t=t.getParent()))},pixelSearch:function(){function r(t,e,n,i,o){for(var r,a=0;o(n)&&(n+=i,25!=++a);)if(r=this.doc.$.elementFromPoint(e,n))if(r==t)a=0;else if(s(t,r)&&(a=0,l(r=new CKEDITOR.dom.element(r))))return r}var s=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(t,e){return t.contains(e)}:function(t,e){return!!(16&t.compareDocumentPosition(e))};return function(t,e,n){var i=this.win.getViewPaneSize().height,o=r.call(this,t.$,e,n,-1,function(t){return 0<t});if(e=r.call(this,t.$,e,n,1,function(t){return t<i}),o)for(this.traverseSearch(o);!o.getParent().equals(t);)o=o.getParent();if(e)for(this.traverseSearch(e);!e.getParent().equals(t);)e=e.getParent();for(;(o||e)&&(o&&(o=o.getNext(l)),o&&!o.equals(e))&&(this.traverseSearch(o),e&&(e=e.getPrevious(l)),e&&!e.equals(o));)this.traverseSearch(e)}}(),greedySearch:function(){this.relations={};for(var t,e,n,i=this.editable.getElementsByTag("*"),o=0;t=i.getItem(o++);)if(!t.equals(this.editable)&&t.type==CKEDITOR.NODE_ELEMENT&&(t.hasAttribute("contenteditable")||!t.isReadOnly())&&l(t)&&t.isVisible())for(n in this.lookups)(e=this.lookups[n](t))&&this.store(t,e);return this.relations}},e.prototype={locate:function(){function i(t,e){var n=t.element[e===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&l(n)?(t.siblingRect=n.getClientRect(),e==CKEDITOR.LINEUTILS_BEFORE?(t.siblingRect.bottom+t.elementRect.top)/2:(t.elementRect.bottom+t.siblingRect.top)/2):e==CKEDITOR.LINEUTILS_BEFORE?t.elementRect.top:t.elementRect.bottom}return function(t){var e;for(var n in this.locations={},t)(e=t[n]).elementRect=e.element.getClientRect(),e.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(n,CKEDITOR.LINEUTILS_BEFORE,i(e,CKEDITOR.LINEUTILS_BEFORE)),e.type&CKEDITOR.LINEUTILS_AFTER&&this.store(n,CKEDITOR.LINEUTILS_AFTER,i(e,CKEDITOR.LINEUTILS_AFTER)),e.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(n,CKEDITOR.LINEUTILS_INSIDE,(e.elementRect.top+e.elementRect.bottom)/2);return this.locations}}(),sort:function(t,e){for(var n in o=this.locations,r=[],o)for(var i in o[n])if(a=Math.abs(t-o[n][i]),r.length){for(s=0;s<r.length;s++)if(a<r[s].dist){r.splice(s,0,{uid:+n,type:i,dist:a});break}s==r.length&&r.push({uid:+n,type:i,dist:a})}else r.push({uid:+n,type:i,dist:a});return void 0!==e?r.slice(0,e):r},store:function(t,e,n){this.locations[t]||(this.locations[t]={}),this.locations[t][e]=n}};var c={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},u={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var t in this.hidden)this.hidden[t].remove(),delete this.hidden[t];for(t in this.visible)this.visible[t].remove(),delete this.visible[t]},hideLine:function(t){var e=t.getUniqueId();t.hide(),this.hidden[e]=t,delete this.visible[e]},showLine:function(t){var e=t.getUniqueId();t.show(),this.visible[e]=t,delete this.hidden[e]},hideVisible:function(){for(var t in this.visible)this.hideLine(this.visible[t])},placeLine:function(t,e){var n,i,o;if(n=this.getStyle(t.uid,t.type)){for(o in this.visible)if(this.visible[o].getCustomData("hash")!==this.hash){i=this.visible[o];break}if(!i)for(o in this.hidden)if(this.hidden[o].getCustomData("hash")!==this.hash){this.showLine(i=this.hidden[o]);break}i||this.showLine(i=this.addLine()),i.setCustomData("hash",this.hash),(this.visible[i.getUniqueId()]=i).setStyles(n),e&&e(i)}},getStyle:function(t,e){var n=this.relations[t],i=this.locations[t][e],o={};if(o.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,o.top=this.inline?i+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+i,o.top-this.winTopScroll.y<this.rect.top||o.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var r in this.inline?o.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?o.left=this.rect.left+n.elementRect.left:(o.width+=n.elementRect.left,o.left=this.rect.left),0<(n=o.left+o.width-(this.rect.left+this.winPane.width))&&(o.width-=n)),o.left+=this.winTopScroll.x,o)o[r]=CKEDITOR.tools.cssLength(o[r]);return o},addLine:function(){var t=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return t.appendTo(this.container),t},prepare:function(t,e){this.relations=t,this.locations=e,this.hash=Math.random()},cleanup:function(){var t,e;for(e in this.visible)(t=this.visible[e]).getCustomData("hash")!==this.hash&&this.hideLine(t)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(t){t=t.getClientRect();var e=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return t.relativeX=t.relativeY=0,"static"!=n&&(t.relativeY=e.y,t.relativeX=e.x,t.top-=t.relativeY,t.bottom-=t.relativeY,t.left-=t.relativeX,t.right-=t.relativeX),t}};var d={left:1,right:1,center:1},h={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:t,locator:e,liner:n}}(),function(){function o(t){return t.getName&&!t.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(t){if(CKEDITOR.env.webkit){var n=CKEDITOR.plugins.widgetselection;t.on("contentDom",function(t){var e=(t=t.editor).editable();e.attachListener(e,"keydown",function(t){t.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){n.addFillers(e)||n.removeFillers(e)},0)},null,null,-1),t.on("selectionCheck",function(t){n.removeFillers(t.editor.editable())}),t.on("paste",function(t){t.data.dataValue=n.cleanPasteData(t.data.dataValue)}),"selectall"in t.plugins&&n.addSelectAllIntegration(t)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var e=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var n=t.getFirst(o),i=t.getLast(o);if(n&&n.type==CKEDITOR.NODE_ELEMENT&&!n.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),i&&i.type==CKEDITOR.NODE_ELEMENT&&!i.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(e=e.createRange()).selectNodeContents(t),e.select(),!0}return!1},removeFillers:function(t){if(this.hasFiller(t)&&!this.isWholeContentSelected(t)){var e=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=t.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&e&&this.startFiller.equals(e)?this.removeFiller(this.startFiller,t):this.startFiller=e,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,t):this.endFiller=n}},cleanPasteData:function(t){return t&&t.length&&(t=t.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),t},isWholeContentSelected:function(t){var e=t.editor.getSelection().getRanges()[0];return!(!e||e&&e.collapsed)&&((e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!!(e&&t&&e.startContainer&&e.endContainer&&0===e.startOffset&&e.endOffset===t.getChildCount()&&e.startContainer.equals(t)&&e.endContainer.equals(t)))},hasFiller:function(t){return 0<t.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(t){var e=new CKEDITOR.dom.element(this.fillerTagName);return e.setHtml(this.fillerContent),e.setAttribute(this.fillerAttribute,t?"end":"start"),e.setAttribute("data-cke-temp",1),e.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),e},removeFiller:function(t,e){if(t){var n,i,o=e.editor,r=e.editor.getSelection().getRanges()[0].startPath(),a=o.createRange();r.contains(t)&&(n=t.getHtml(),i=!0),r="start"==t.getAttribute(this.fillerAttribute),t.remove(),n&&0<n.length&&n!=this.fillerContent?(e.insertHtmlIntoRange(n,o.getSelection().getRanges()[0]),a.setStartAt(e.getChild(e.getChildCount()-1),
CKEDITOR.POSITION_BEFORE_END),o.getSelection().selectRanges([a])):i&&(r?a.setStartAt(e.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(e.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),e.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(t){var e=this.createFiller(t).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((t?"":"^")+e+(t?"$":""))},addSelectAllIntegration:function(n){var i=this;n.editable().attachListener(n,"beforeCommandExec",function(t){var e=n.editable();"selectAll"==t.data.name&&e&&i.addFillers(e)},null,null,9999)}}}(),function(){function e(t){this.editor=t,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},R(this),O(this),this.on("checkWidgets",r),this.editor.on("contentDomInvalidated",this.checkWidgets,this),I(this),b(this),C(this),y(this),D(this)}function c(t,e,n,i,o){var r=t.editor;CKEDITOR.tools.extend(this,i,{editor:r,id:e,inline:"span"==n.getParent().getName(),element:n,data:CKEDITOR.tools.extend({},"function"==typeof i.defaults?i.defaults():i.defaults),dataReady:!1,inited:!1,ready:!1,edit:c.prototype.edit,focusedEditable:null,definition:i,repository:t,draggable:!1!==i.draggable,_:{downcastFn:i.downcast&&"string"==typeof i.downcast?i.downcasts[i.downcast]:i.downcast}},!0),t.fire("instanceCreated",this),j(this,i),this.init&&this.init(),this.inited=!0,(t=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(t))),o&&this.setData(o),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,H(this),this.fire("data",this.data),this.isInited()&&r.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function i(t,e,n){CKEDITOR.dom.element.call(this,e.$),this.editor=t,this._={},e=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=e?e.getAllowedEnterMode(t.enterMode):t.enterMode,this.shiftEnterMode=e?e.getAllowedEnterMode(t.shiftEnterMode,!0):t.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function n(t,s){t.addCommand(s.name,{exec:function(i,t){function o(){i.widgets.finalizeCreation(a)}if((e=i.widgets.focused)&&e.name==s.name)e.edit();else if(s.insert)s.insert({editor:i,commandData:t});else if(s.template){var r,e="function"==typeof s.defaults?s.defaults():s.defaults,n=(e=CKEDITOR.dom.element.createFromHtml(s.template.output(e)),i.widgets.wrapElement(e,s.name)),a=new CKEDITOR.dom.documentFragment(n.getDocument());a.append(n),(r=i.widgets.initOn(e,s,t&&t.startupData))?(e=r.once("edit",function(t){t.data.dialog?r.once("dialog",function(t){var e,n;t=t.data,e=t.once("ok",o,null,null,20),n=t.once("cancel",function(t){t.data&&!1===t.data.hide||i.widgets.destroy(r,!0)}),t.once("hide",function(){e.removeListener(),n.removeListener()})}):o()},null,null,999),r.edit(),e.removeListener()):o()}},allowedContent:s.allowedContent,requiredContent:s.requiredContent,contentForms:s.contentForms,contentTransformations:s.contentTransformations})}function o(o,r){function t(t,e){var n,i,o=r.upcast.split(",");for(i=0;i<o.length;i++)if((n=o[i])===t.name)return r.upcasts[n].call(this,t,e);return!1}function e(t,e,n){var i=CKEDITOR.tools.getIndex(o._.upcasts,function(t){return t[2]>n});i<0&&(i=o._.upcasts.length),o._.upcasts.splice(i,0,[CKEDITOR.tools.bind(t,e),e.name,n])}var n=r.upcast,i=r.upcastPriority||10;n&&e("string"==typeof n?t:n,r,i)}function l(t,e){if(t.focused=null,e.isInited()){var n=e.editor.checkDirty();t.fire("widgetBlurred",{widget:e}),e.setFocused(!1),!n&&e.editor.resetDirty()}}function r(t){if(t=t.data,"wysiwyg"==this.editor.mode){var e,n,i,o,r=this.editor.editable(),a=this.instances;if(r){for(e in a)a[e].isReady()&&!r.contains(a[e].wrapper)&&this.destroy(a[e],!0);if(t&&t.initOnlyNew)a=this.initOnAll();else{var s=r.find(".cke_widget_wrapper");a=[];for(e=0,n=s.count();e<n;e++){if(i=s.getItem(e),o=!this.getByElement(i,!0)){t:{o=m;for(var l=i;l=l.getParent();)if(o(l)){o=!0;break t}o=!1}o=!o}o&&r.contains(i)&&(i.addClass("cke_widget_new"),a.push(this.initOn(i.getFirst(c.isDomWidgetElement))))}}t&&t.focusInited&&1==a.length&&a[0].focus()}}}function a(t){if("undefined"!=typeof t.attributes&&t.attributes["data-widget"]){var e=u(t),n=d(t),i=!1;e&&e.value&&e.value.match(/^\s/g)&&(e.parent.attributes["data-cke-white-space-first"]=1,e.value=e.value.replace(/^\s/g,"&nbsp;"),i=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),i=!0),i&&(t.attributes["data-cke-widget-white-space"]=1)}}function u(t){return t.find(function(t){return 3===t.type},!0).shift()}function d(t){return t.find(function(t){return 3===t.type},!0).pop()}function s(t,e,n){if(!n.allowedContent&&!n.disallowedContent)return null;var i=this._.filters[t];return i||(this._.filters[t]=i={}),(t=i[e])||(t=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),i[e]=t,n.disallowedContent&&t.disallow(n.disallowedContent)),t}function h(t){var a=[],s=t._.upcasts,l=t._.upcastCallbacks;return{toBeWrapped:a,iterator:function(t){var e,n,i,o,r;if("data-cke-widget-wrapper"in t.attributes)return(t=t.getFirst(c.isParserWidgetElement))&&a.push([t]),!1;if("data-widget"in t.attributes)return a.push([t]),!1;if(r=s.length){if(t.attributes["data-cke-widget-upcasted"])return!1;for(o=0,e=l.length;o<e;++o)if(!1===l[o](t))return;for(o=0;o<r;++o)if(i={},n=(e=s[o])[0](t,i))return n instanceof CKEDITOR.htmlParser.element&&(t=n),t.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(i)),t.attributes["data-cke-widget-upcasted"]=1,a.push([t,e[1]]),!1}}}}function f(t,e){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off","class":"cke_widget_wrapper cke_widget_new cke_widget_"+(t?"inline":"block")+(e?" cke_widget_"+e:"")}}function p(t,e,n){if(t.type==CKEDITOR.NODE_ELEMENT&&((i=CKEDITOR.dtd[t.name])&&!i[n.name])){var i=t.split(e),o=t.parent;return e=i.getIndex(),t.children.length||(--e,t.remove()),i.children.length||i.remove(),p(o,e,n)}t.add(n,e)}function g(t,e){return"boolean"==typeof t.inline?t.inline:!!CKEDITOR.dtd.$inline[e]}function m(t){return t.hasAttribute("data-cke-temp")}function E(t,e,n,i){var o=t.editor;o.fire("lockSnapshot"),n?(i=n.data("cke-widget-editable"),i=e.editables[i],(t.widgetHoldingFocusedEditable=e).focusedEditable=i,n.addClass("cke_widget_editable_focused"),i.filter&&o.setActiveFilter(i.filter),o.setActiveEnterMode(i.enterMode,i.shiftEnterMode)):(i||e.focusedEditable.removeClass("cke_widget_editable_focused"),e.focusedEditable=null,t.widgetHoldingFocusedEditable=null,o.setActiveFilter(null),o.setActiveEnterMode(null,null)),o.fire("unlockSnapshot")}function v(e){e.contextMenu&&e.contextMenu.addListener(function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})})}function T(t,e){return CKEDITOR.tools.trim(e)}function y(o){var r=o.editor,t=CKEDITOR.plugins.lineutils;r.on("dragstart",function(t){var e=t.data.target;c.isDomDragHandler(e)&&(e=o.getByElement(e),t.data.dataTransfer.setData("cke/widget-id",e.id),r.focus(),e.focus())}),r.on("drop",function(t){var e=(i=t.data.dataTransfer).getData("cke/widget-id"),n=i.getTransferType(r),i=r.createRange();""!==e&&n===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():""!==e&&n==CKEDITOR.DATA_TRANSFER_INTERNAL&&(e=o.instances[e])&&(i.setStartBefore(e.wrapper),i.setEndAfter(e.wrapper),t.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",r.editable().getHtmlFromRange(i).getHtml()),r.widgets.destroy(e,!0))}),r.on("contentDom",function(){var n=r.editable();CKEDITOR.tools.extend(o,{finder:new t.finder(r,{lookups:{"default":function(t){if(!t.is(CKEDITOR.dtd.$listItem)&&t.is(CKEDITOR.dtd.$block)&&!c.isDomNestedEditable(t)&&!o._.draggedWidget.wrapper.contains(t)){var e=c.getNestedEditable(n,t);if(e){if(t=o._.draggedWidget,o.getByElement(e)==t)return;if(e=CKEDITOR.filter.instances[e.data("cke-filter")],t=t.requiredContent,e&&t&&!e.check(t))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new t.locator(r),liner:new t.liner(r,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}function b(o){var r=o.editor;r.on("contentDom",function(){var n,i,t=r.editable(),e=t.isInline()?t:r.document;t.attachListener(e,"mousedown",function(t){var e=t.data.getTarget();n=e instanceof CKEDITOR.dom.element?o.getByElement(e):null,i=0,n&&(n.inline&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")?(i=1,o.focused!=n&&r.getSelection().removeAllRanges()):c.getNestedEditable(n.wrapper,e)?n=null:(t.data.preventDefault(),CKEDITOR.env.ie||n.focus()))}),t.attachListener(e,"mouseup",function(){i&&n&&n.wrapper&&(i=0,n.focus())}),CKEDITOR.env.ie&&t.attachListener(e,"mouseup",function(){setTimeout(function(){n&&n.wrapper&&t.contains(n.wrapper)&&(n.focus(),n=null)})})}),r.on("doubleclick",function(t){var e=o.getByElement(t.data.element);if(e&&!c.getNestedEditable(e.wrapper,t.data.element))return e.fire("doubleclick",{element:t.data.element})},null,null,1)}function C(o){o.editor.on("key",function(t){var e,n=o.focused,i=o.widgetHoldingFocusedEditable;return n?e=n.fire("key",{keyCode:t.data.keyCode}):i&&(n=t.data.keyCode,t=i.focusedEditable,n==CKEDITOR.CTRL+65?(n=t.getBogus(),(i=i.editor.createRange()).selectNodeContents(t),n&&i.setEndAt(n,CKEDITOR.POSITION_BEFORE_START),i.select(),e=!1):8==n||46==n?(i=(e=i.editor.getSelection().getRanges())[0],e=!(1==e.length&&i.collapsed&&i.checkBoundaryOfElement(t,CKEDITOR[8==n?"START":"END"]))):e=void 0),e},null,null,1)}function D(e){function n(t){e.focused&&K(e.focused,"cut"==t.name)}var i=e.editor;i.on("contentDom",function(){var t=i.editable();t.attachListener(t,"copy",n),t.attachListener(t,"cut",n)})}function I(i){var o=i.editor;o.on("selectionCheck",function(){i.fire("checkSelection")}),i.on("checkSelection",i.checkSelection,i),o.on("selectionChange",function(t){var e=(t=c.getNestedEditable(o.editable(),t.data.selection.getStartElement()))&&i.getByElement(t),n=i.widgetHoldingFocusedEditable;n?n===e&&n.focusedEditable.equals(t)||(E(i,n,null),e&&t&&E(i,e,t)):e&&t&&E(i,e,t)}),o.on("dataReady",function(){k(i).commit()}),o.on("blur",function(){var t;(t=i.focused)&&l(i,t),(t=i.widgetHoldingFocusedEditable)&&E(i,t,null)})}function O(r){var t=r.editor,s={};t.on("toDataFormat",function(t){var e=CKEDITOR.tools.getNextNumber(),o=[];t.data.downcastingSessionId=e,s[e]=o,t.data.dataValue.forEach(function(t){var e,n=t.attributes;if("data-cke-widget-white-space"in n){e=u(t);var i=d(t);e.parent.attributes["data-cke-white-space-first"]&&(e.value=e.value.replace(/^&nbsp;/g," ")),i.parent.attributes["data-cke-white-space-last"]&&(i.value=i.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in n)(n=r.instances[n["data-cke-widget-id"]])&&(e=t.getFirst(c.isParserWidgetElement),o.push({wrapper:t,element:e,widget:n,editables:{}}),"1"!=e.attributes["data-cke-widget-keep-attr"]&&delete e.attributes["data-widget"]);else if("data-cke-widget-editable"in n)return o[o.length-1].editables[n["data-cke-widget-editable"]]=t,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),t.on("toDataFormat",function(t){if(t.data.downcastingSessionId){t=s[t.data.downcastingSessionId];for(var e,n,i,o,r,a;e=t.shift();){for(a in n=e.widget,i=e.element,o=n._.downcastFn&&n._.downcastFn.call(n,i),e.editables)delete(r=e.editables[a]).attributes.contenteditable,r.setHtml(n.editables[a].getData());o||(o=i),e.wrapper.replaceWith(o)}}},null,null,13),t.on("contentDomUnload",function(){r.destroyAll(!0)})}function R(r){var a,s,l=r.editor;l.on("toHtml",function(t){var e,n=h(r);for(t.data.dataValue.forEach(n.iterator,CKEDITOR.NODE_ELEMENT,!0);e=n.toBeWrapped.pop();){var i=e[0],o=i.parent;o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"]&&o.replaceWith(i),r.wrapElement(e[0],e[1])}a=t.data.protectedWhitespaces?3==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[1]):1==t.data.dataValue.children.length&&c.isParserWidgetWrapper(t.data.dataValue.children[0])},null,null,8),l.on("dataReady",function(){if(s)for(var t,e,n=l.editable().find(".cke_widget_wrapper"),i=0,o=n.count();i<o;++i)(e=(t=n.getItem(i)).getFirst(c.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&e.data("widget")?(e.replace(t),r.wrapElement(e)):t.remove();s=0,r.destroyAll(!0),r.initOnAll()}),l.on("loadSnapshot",function(t){/data-cke-widget/.test(t.data)&&(s=1),r.destroyAll(!0)},null,null,9),l.on("paste",function(t){(t=t.data).dataValue=t.dataValue.replace(U,T),t.range&&(t=c.getNestedEditable(l.editable(),t.range.startContainer))&&(t=CKEDITOR.filter.instances[t.data("cke-filter")])&&l.setActiveFilter(t)}),l.on("afterInsertHtml",function(t){t.data.intoRange?r.checkWidgets({initOnlyNew:!0}):(l.fire("lockSnapshot"),r.checkWidgets({initOnlyNew:!0,focusInited:a}),l.fire("unlockSnapshot"))})}function k(i){var o=i.selected,r=[],a=o.slice(0),s=null;return{select:function(t){return CKEDITOR.tools.indexOf(o,t)<0&&r.push(t),0<=(t=CKEDITOR.tools.indexOf(a,t))&&a.splice(t,1),this},focus:function(t){return s=t,this},commit:function(){var t,e,n=i.focused!==s;for(i.editor.fire("lockSnapshot"),n&&(t=i.focused)&&l(i,t);t=a.pop();)o.splice(CKEDITOR.tools.indexOf(o,t),1),t.isInited()&&(e=t.editor.checkDirty(),t.setSelected(!1),!e&&t.editor.resetDirty());for(n&&s&&(e=i.editor.checkDirty(),i.focused=s,i.fire("widgetFocused",{widget:s}),s.setFocused(!0),!e&&i.editor.resetDirty());t=r.pop();)o.push(t),t.setSelected(!0);i.editor.fire("unlockSnapshot")}}}function _(t,e,n){var i=0;e=x(e);var o,r=t.data.classes||{};if(e){for(r=CKEDITOR.tools.clone(r);o=e.pop();)n?r[o]||(i=r[o]=1):r[o]&&(delete r[o],i=1);i&&t.setData("classes",r)}}function w(t){t.cancel()}function K(t,e){var n=t.editor,i=n.document,o=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!i.getById("cke_copybin")){var r=!n.blockless&&!CKEDITOR.env.ie||o?"div":"span",a=(o=i.createElement(r),i.createElement(r));r=CKEDITOR.env.ie&&CKEDITOR.env.version<9;a.setAttributes({id:"cke_copybin","data-cke-temp":"1"}),o.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),o.setStyle("ltr"==n.config.contentsLangDirection?"left":"right","-5000px");var s=n.createRange();s.setStartBefore(t.wrapper),s.setEndAfter(t.wrapper),o.setHtml('<span data-cke-copybin-start="1">\u200b</span>'+n.editable().getHtmlFromRange(s).getHtml()+'<span data-cke-copybin-end="1">\u200b</span>'),n.fire("saveSnapshot"),n.fire("lockSnapshot"),a.append(o),n.editable().append(a);var l=n.on("selectionChange",w,null,null,0),c=t.repository.on("checkSelection",w,null,null,0);if(r)var u=i.getDocumentElement().$,d=u.scrollTop;(s=n.createRange()).selectNodeContents(o),s.select(),r&&(u.scrollTop=d),setTimeout(function(){e||t.focus(),a.remove(),l.removeListener(),c.removeListener(),n.fire("unlockSnapshot"),e&&!n.readOnly&&(t.repository.del(t),n.fire("saveSnapshot"))},100)}}function x(t){return(t=(t=t.getDefinition().attributes)&&t["class"])?t.split(/\s+/):null}function S(){var t=CKEDITOR.document.getActive(),e=this.editor,n=e.editable();(n.isInline()?n:e.document.getWindow().getFrame()).equals(t)&&e.focusManager.focus(n)}function A(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function N(t){var n=null;t.on("data",function(){var t,e=this.data.classes;if(n!=e){for(t in n)e&&e[t]||this.removeClass(t);for(t in e)this.addClass(t);n=e}})}function L(e){e.on("data",function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}},null,null,9999)}function P(t){if(t.draggable){var e,n=t.editor,i=t.wrapper.getLast(c.isDomDragHandlerContainer);i?e=i.findOne("img"):((i=new CKEDITOR.dom.element("span",n.document)).setAttributes({"class":"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+n.plugins.widget.path+"images/handle.png)"}),(e=new CKEDITOR.dom.element("img",n.document)).setAttributes({"class":"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:n.lang.widget.move,height:15,role:"presentation"}),t.inline&&e.setAttribute("draggable","true"),i.append(e),t.wrapper.append(i)),t.wrapper.on("dragover",function(t){t.data.preventDefault()}),t.wrapper.on("mouseenter",t.updateDragHandlerPosition,t),setTimeout(function(){t.on("data",t.updateDragHandlerPosition,t)},50),!t.inline&&(e.on("mousedown",F,t),CKEDITOR.env.ie&&CKEDITOR.env.version<9)&&e.on("dragstart",function(t){t.data.preventDefault(!0)}),t.dragHandlerContainer=i}}function F(a){function t(){var t;for(h.reset();t=c.pop();)t.removeListener();var e=u;t=a.sender;var n=this.repository.finder,i=this.repository.liner,o=this.editor,r=this.editor.editable();CKEDITOR.tools.isEmpty(i.visible)||(e=n.getRange(e[0]),this.focus(),o.fire("drop",{dropRange:e,target:e.startContainer})),r.removeClass("cke_widget_dragging"),i.hideVisible(),o.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(a)===CKEDITOR.MOUSE_BUTTON_LEFT){var e,n,i=this.repository.finder,o=this.repository.locator,r=this.repository.liner,s=this.editor,l=s.editable(),c=[],u=[];this.repository._.draggedWidget=this;var d=i.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,function(){e=o.locate(d),(u=o.sort(n,1)).length&&(r.prepare(d,e),r.placeLine(u[0]),r.cleanup())});l.addClass("cke_widget_dragging"),c.push(l.on("mousemove",function(t){n=t.data.$.clientY,h.input()})),s.fire("dragstart",{target:a.sender}),c.push(s.document.once("mouseup",t,this)),l.isInline()||c.push(CKEDITOR.document.once("mouseup",t,this))}}function B(t){var e,n,i=t.editables;if(t.editables={},t.editables)for(e in i)n=i[e],t.initEditable(e,"string"==typeof n?{selector:n}:n)}function M(t){if(t.mask){var e=t.wrapper.findOne(".cke_widget_mask");e||((e=new CKEDITOR.dom.element("img",t.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,"class":"cke_reset cke_widget_mask"}),t.wrapper.append(e)),t.mask=e}}function $(t){if(t.parts){var e,n,i={};for(n in t.parts)e=t.wrapper.findOne(t.parts[n]),i[n]=e;t.parts=i}}function j(n,t){q(n),$(n),B(n),M(n),P(n),N(n),L(n),CKEDITOR.env.ie&&CKEDITOR.env.version<9&&n.wrapper.on("dragstart",function(t){var e=t.data.getTarget();c.getNestedEditable(n,e)||n.inline&&c.isDomDragHandler(e)||t.data.preventDefault()}),n.wrapper.removeClass("cke_widget_new"),n.element.addClass("cke_widget_element"),n.on("key",function(t){if(13==(t=t.data.keyCode))n.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void K(n,t==CKEDITOR.CTRL+88);if(t in W||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1},null,null,999),n.on("doubleclick",function(t){n.edit()&&t.cancel()}),t.data&&n.on("data",t.data),t.edit&&n.on("edit",t.edit)}function q(t){(t.wrapper=t.element.getParent()).setAttribute("data-cke-widget-id",t.id)}function H(t){t.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(t.data)))}function t(){function t(){}function e(t,e,n){return!(!n||!this.checkElement(t))&&((t=n.widgets.getByElement(t,!0))&&t.checkStyleActive(this))}var s={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(t){if(this.widget=t.widget,this.group="string"==typeof t.group?[t.group]:t.group){var e;t=this.widget,s[t]||(s[t]={});for(var n=0,i=this.group.length;n<i;n++)e=this.group[n],s[t][e]||(s[t][e]=[]),s[t][e].push(this)}},apply:function(t){var e;t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&(e=t.widgets.focused,this.group&&this.removeStylesFromSameGroup(t),e.applyStyle(this))},remove:function(t){t instanceof CKEDITOR.editor&&this.checkApplicable(t.elementPath(),t)&&t.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(t){var e,n,i=!1;if(!(t instanceof CKEDITOR.editor))return!1;if(n=t.elementPath(),this.checkApplicable(n,t))for(var o=0,r=this.group.length;o<r;o++){e=s[this.widget][this.group[o]];for(var a=0;a<e.length;a++)e[a]!==this&&e[a].checkActive(n,t)&&(t.widgets.focused.removeStyle(e[a]),i=!0)}return i},checkActive:function(t,e){return this.checkElementMatch(t.lastElement,0,e)},checkApplicable:function(t,e){return e instanceof CKEDITOR.editor&&this.checkElement(t.lastElement)},checkElementMatch:e,checkElementRemovable:e,checkElement:function(t){return!!c.isDomWidgetWrapper(t)&&((t=t.getFirst(c.isDomWidgetElement))&&t.data("widget")==this.widget)},buildPreview:function(t){return t||this._.definition.name},toAllowedContentRules:function(t){if(!t)return null;var e,n={};return(t=t.widgets.registered[this.widget])?t.styleableElements?(e=this.getClassesArray())?(n[t.styleableElements]={classes:e,propertiesOnly:!0},n):null:t.styleToAllowedContentRules?t.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var t=this._.definition.attributes&&this._.definition.attributes["class"];return t?CKEDITOR.tools.trim(t).split(/\s+/):null},applyToRange:t,removeFromRange:t,applyToObject:t})}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),t())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(t){if(void 0!==CKEDITOR.document.$.querySelectorAll){var e,n,i,o=t.widgets.registered;for(n in o)(i=(e=o[n]).button)&&t.ui.addButton&&t.ui.addButton(CKEDITOR.tools.capitalize(e.name,!0),{label:i,command:e.name,toolbar:"insert,10"});v(t)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(t,e){return(e=CKEDITOR.tools.prototypedCopy(e)).name=t,e._=e._||{},this.editor.fire("widgetDefinition",e),e.template&&(e.template=new CKEDITOR.template(e.template)),n(this.editor,e),o(this,e),this.registered[t]=e},addUpcastCallback:function(t){this._.upcastCallbacks.push(t)},checkSelection:function(){var t,e=this.editor.getSelection(),n=e.getSelectedElement(),i=k(this);if(n&&(t=this.getByElement(n,!0)))return i.focus(t).select(t).commit();if(!(e=e.getRanges()[0])||e.collapsed)return i.commit();for((e=new CKEDITOR.dom.walker(e)).evaluator=c.isDomWidgetWrapper;n=e.next();)i.select(this.getByElement(n));i.commit()},checkWidgets:function(t){this.fire("checkWidgets",CKEDITOR.tools.copy(t||{}))},del:function(t){if(this.focused===t){var e,n=t.editor,i=n.createRange();(e=i.moveToClosestEditablePosition(t.wrapper,!0))||(e=i.moveToClosestEditablePosition(t.wrapper,!1)),e&&n.getSelection().selectRanges([i])}t.wrapper.remove(),this.destroy(t,!0)},destroy:function(t,e){this.widgetHoldingFocusedEditable===t&&E(this,t,null,e),t.destroy(e),delete this.instances[t.id],this.fire("instanceDestroyed",t)},destroyAll:function(t,e){var n,i,o=this.instances;if(e&&!t){o=(i=e.find(".cke_widget_wrapper")).count();for(var r=0;r<o;++r)(n=this.getByElement(i.getItem(r),!0))&&this.destroy(n)}else for(i in o)n=o[i],this.destroy(n,t)},finalizeCreation:function(t){(t=t.getFirst())&&c.isDomWidgetWrapper(t)&&(this.editor.insertElement(t),(t=this.getByElement(t)).ready=!0,t.fire("ready"),t.focus())},getByElement:function(){function o(t){return t.is(e)&&t.data("cke-widget-id")}var e={div:1,span:1};return function(t,e){if(!t)return null;var n=o(t);if(!e&&!n)for(var i=this.editor.editable();(t=t.getParent())&&!t.equals(i)&&!(n=o(t)););return this.instances[n]||null}}(),initOn:function(t,e,n){if(e?"string"==typeof e&&(e=this.registered[e]):e=this.registered[t.data("widget")],!e)return null;var i=this.wrapElement(t,e.name);return i?i.hasClass("cke_widget_new")?(t=new c(this,this._.nextId++,t,e,n)).isInited()?this.instances[t.id]=t:null:this.getByElement(t):null},initOnAll:function(t){for(var e,n=[],i=(t=(t||this.editor.editable()).find(".cke_widget_new")).count();i--;)(e=this.initOn(t.getItem(i).getFirst(c.isDomWidgetElement)))&&n.push(e);return n},onWidget:function(e){var n=Array.prototype.slice.call(arguments);for(var t in n.shift(),this.instances){var i=this.instances[t];i.name==e&&i.on.apply(i,n)}this.on("instanceCreated",function(t){(t=t.data).name==e&&t.on.apply(t,n)})},parseElementClasses:function(t){if(!t)return null;t=CKEDITOR.tools.trim(t).split(/\s+/);for(var e,n={},i=0;e=t.pop();)-1==e.indexOf("cke_")&&(n[e]=i=1);return i?n:null},wrapElement:function(t,e){var n,i,o=null;if(t instanceof CKEDITOR.dom.element){if(e=e||t.data("widget"),!(n=this.registered[e]))return null;if((o=t.getParent())&&o.type==CKEDITOR.NODE_ELEMENT&&o.data("cke-widget-wrapper"))return o;t.hasAttribute("data-cke-widget-keep-attr")||t.data("cke-widget-keep-attr",t.data("widget")?1:0),t.data("widget",e),(i=g(n,t.getName()))&&a(t),(o=new CKEDITOR.dom.element(i?"span":"div")).setAttributes(f(i,e)),o.data("cke-display-name",n.pathName?n.pathName:t.getName()),t.getParent(!0)&&o.replace(t),t.appendTo(o)}else if(t instanceof CKEDITOR.htmlParser.element){if(e=e||t.attributes["data-widget"],!(n=this.registered[e]))return null;if((o=t.parent)&&o.type==CKEDITOR.NODE_ELEMENT&&o.attributes["data-cke-widget-wrapper"])return o;var r;"data-cke-widget-keep-attr"in t.attributes||(t.attributes["data-cke-widget-keep-attr"]=t.attributes["data-widget"]?1:0),e&&(t.attributes["data-widget"]=e),(i=g(n,t.name))&&a(t),(o=new CKEDITOR.htmlParser.element(i?"span":"div",f(i,e))).attributes["data-cke-display-name"]=n.pathName?n.pathName:t.name,(n=t.parent)&&(r=t.getIndex(),t.remove()),o.add(t),n&&p(n,r,o)}return o},_tests_createEditableFilter:s},CKEDITOR.event.implementOn(e.prototype),c.prototype={addClass:function(t){this.element.addClass(t),this.wrapper.addClass(c.WRAPPER_CLASS_PREFIX+t)},applyStyle:function(t){_(this,t,1)},checkStyleActive:function(t){var e;if(!(t=x(t)))return!1;for(;e=t.pop();)if(!this.hasClass(e))return!1;return!0},destroy:function(t){if(this.fire("destroy"),this.editables)for(var e in this.editables)this.destroyEditable(e,t);t||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(t,e){var n=this.editables[t],i=!0;if(n.removeListener("focus",A),n.removeListener("blur",S),this.editor.focusManager.remove(n),n.filter){for(var o in this.repository.instances){var r=this.repository.instances[o];r.editables&&(r=r.editables[t])&&r!==n&&n.filter===r.filter&&(i=!1)}i&&(n.filter.destroy(),(i=this.repository._.filters[this.name])&&delete i[t])}e||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[t]},edit:function(){var t={dialog:this.dialog},i=this;return!(!1===this.fire("edit",t)||!t.dialog)&&(this.editor.openDialog(t.dialog,function(n){var t,e;!1!==i.fire("dialog",n)&&(t=n.on("show",function(){n.setupContent(i)}),e=n.on("ok",function(){var e,t=i.on("data",function(t){e=1,t.cancel()},null,null,0);i.editor.fire("saveSnapshot"),n.commitContent(i),t.removeListener(),e&&(i.fire("data",i.data),i.editor.fire("saveSnapshot"))}),n.once("hide",function(){t.removeListener(),e.removeListener()}))}),!0)},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(t){return this.element.hasClass(t)},initEditable:function(t,e){var n=this._findOneNotNested(e.selector);return!(!n||!n.is(CKEDITOR.dtd.$editable))&&(n=new i(this.editor,n,{filter:s.call(this.repository,this.name,t,e)}),(this.editables[t]=n).setAttributes({contenteditable:"true","data-cke-widget-editable":t,"data-cke-enter-mode":n.enterMode}),n.filter&&n.data("cke-filter",n.filter.id),n.addClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),e.pathName&&n.data("cke-display-name",e.pathName),this.editor.focusManager.add(n),n.on("focus",A,this),CKEDITOR.env.ie&&n.on("blur",S,this),n._.initialSetData=!0,n.setData(n.getHtml()),!0)},_findOneNotNested:function(t){t=this.wrapper.find(t);for(var e,n,i=0;i<t.count();i++)if(n=(e=t.getItem(i)).getAscendant(c.isDomWidgetWrapper),this.wrapper.equals(n))return e;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var t=this.editor.getSelection();if(t){var e=this.editor.checkDirty();t.fake(this.wrapper),!e&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(t){this.element.removeClass(t),this.wrapper.removeClass(c.WRAPPER_CLASS_PREFIX+t)},removeStyle:function(t){_(this,t,0)},setData:function(t,e){var n=this.data,i=0;if("string"==typeof t)n[t]!==e&&(n[t]=e,i=1);else{var o=t;for(t in o)n[t]!==o[t]&&(i=1,n[t]=o[t])}return i&&this.dataReady&&(H(this),this.fire("data",n)),this},setFocused:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_focused"),this.fire(t?"focus":"blur"),this},setSelected:function(t){return this.wrapper[t?"addClass":"removeClass"]("cke_widget_selected"),this.fire(t?"select":"deselect"),this},updateDragHandlerPosition:function(){var t=this.editor,e=this.element.$,n=this._.dragHandlerOffset;e={x:e.offsetLeft,y:e.offsetTop-15};n&&e.x==n.x&&e.y==n.y||(n=t.checkDirty(),t.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:e.y+"px",left:e.x+"px",display:"block"}),t.fire("unlockSnapshot"),!n&&t.resetDirty(),this._.dragHandlerOffset=e)}},CKEDITOR.event.implementOn(c.prototype),c.getNestedEditable=function(t,e){return!e||e.equals(t)?null:c.isDomNestedEditable(e)?e:c.getNestedEditable(t,e.getParent())},c.isDomDragHandler=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-drag-handler")},c.isDomDragHandlerContainer=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasClass("cke_widget_drag_handler_container")},c.isDomNestedEditable=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-editable")},c.isDomWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-widget")},c.isDomWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("data-cke-widget-wrapper")},c.isDomWidget=function(t){return!!t&&(this.isDomWidgetWrapper(t)||this.isDomWidgetElement(t))},c.isParserWidgetElement=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-widget"]},c.isParserWidgetWrapper=function(t){return t.type==CKEDITOR.NODE_ELEMENT&&!!t.attributes["data-cke-widget-wrapper"]},c.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",i.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(t){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,t=this.editor.dataProcessor.toHtml(t,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(t),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var U=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,W={37:1,38:1,39:1,40:1,8:1,46:1};(CKEDITOR.plugins.widget=c).repository=e,c.nestedEditable=i}(),function(){function t(t,e,n){this.editor=t,
this.notification=null,this._message=new CKEDITOR.template(e),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function e(t){this._weight=t||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),t.prototype={createTask:function(t){t=t||{};var e,n=!this.notification;return n&&(this.notification=this._createNotification()),(e=this._addTask(t)).on("updated",this._onTaskUpdate,this),e.on("done",this._onTaskDone,this),e.on("canceled",function(){this._removeTask(e)},this),this.update(),n&&this.notification.show(),e},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var t=this.getTaskCount(),e={current:this.getDoneTaskCount(),max:t,percentage:Math.round(100*this.getPercentage())};return(1==t&&this._singularMessage?this._singularMessage:this._message).output(e)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(t){return t=new e(t.weight),this._tasks.push(t),this._totalWeights+=t._weight,t},_removeTask:function(t){var e=CKEDITOR.tools.indexOf(this._tasks,t);-1!==e&&(t._doneWeight&&(this._doneWeights-=t._doneWeight),this._totalWeights-=t._weight,this._tasks.splice(e,1),this.update())},_onTaskUpdate:function(t){this._doneWeights+=t.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(t.prototype),e.prototype={done:function(){this.update(this._weight)},update:function(t){if(!this.isDone()&&!this.isCanceled()){var e=(t=Math.min(this._weight,t))-this._doneWeight;this._doneWeight=t,this.fire("updated",e),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.plugins.notificationAggregator=t,CKEDITOR.plugins.notificationAggregator.task=e}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(t){t.filter.allow("*[!data-widget,!data-cke-upload-id]")}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(l,c,t){var u=CKEDITOR.fileTools,d=l.uploadRepository,e=t.supportedTypes?10:20;t.fileToElement&&l.on("paste",function(t){t=t.data;var e,n,i=l.widgets.registered[c],o=t.dataTransfer,r=o.getFilesCount(),a=i.loadMethod||"loadAndUpload";if(!t.dataValue&&r)for(n=0;n<r;n++)if(e=o.getFile(n),!i.supportedTypes||u.isTypeSupported(e,i.supportedTypes)){var s=i.fileToElement(e);e=d.create(e,void 0,i.loaderType),s&&(e[a](i.uploadUrl,i.additionalRequestParameters),CKEDITOR.fileTools.markElement(s,c,e.id),"loadAndUpload"!=a&&"upload"!=a||i.skipNotifications||CKEDITOR.fileTools.bindNotifications(l,e),t.dataValue+=s.getOuterHtml())}},null,null,e),CKEDITOR.tools.extend(t,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var e,n,i=this,o=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),r=d.loaders[o],a=CKEDITOR.tools.capitalize;r.on("update",function(t){"abort"===r.status&&"function"==typeof i.onAbort&&i.onAbort(r),i.wrapper&&i.wrapper.getParent()?(l.fire("lockSnapshot"),t="on"+a(r.status),"abort"!==r.status&&"function"==typeof i[t]&&!1===i[t](r)||(n="cke_upload_"+r.status,i.wrapper&&n!=e&&(e&&i.wrapper.removeClass(e),i.wrapper.addClass(n),e=n),"error"!=r.status&&"abort"!=r.status||l.widgets.del(i)),l.fire("unlockSnapshot")):(CKEDITOR.instances[l.name]&&l.editable().find('[data-cke-upload-id="'+o+'"]').count()||r.abort(),t.removeListener())}),r.update()},replaceWith:function(t,e){if(""===t.trim())l.widgets.del(this);else{var n,i,o=this==l.widgets.focused,r=l.editable(),a=l.createRange();o||(i=l.getSelection().createBookmarks()),a.setStartBefore(this.wrapper),a.setEndAfter(this.wrapper),o&&(n=a.createBookmark()),r.insertHtmlIntoRange(t,a,e),l.widgets.checkWidgets({initOnlyNew:!0}),l.widgets.destroy(this,!0),o?(a.moveToBookmark(n),a.select()):l.getSelection().selectBookmarks(i)}},_getLoader:function(){var t=this.wrapper.findOne("[data-cke-upload-id]");return t?this.editor.uploadRepository.loaders[t.data("cke-upload-id")]:null}}),l.widgets.add(c,t)},markElement:function(t,e,n){t.setAttributes({"data-cke-upload-id":n,"data-widget":e})},bindNotifications:function(e,t){function n(){(i=e._.uploadWidgetNotificaionAggregator)&&!i.isFinished()||(i=e._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(e,e.lang.uploadwidget.uploadMany,e.lang.uploadwidget.uploadOne)).once("finished",function(){var t=i.getTaskCount();0===t?i.notification.hide():i.notification.update({message:1==t?e.lang.uploadwidget.doneOne:e.lang.uploadwidget.doneMany.replace("%1",t),type:"success",important:1})})}var i,o=null;t.on("update",function(){!o&&t.uploadTotal&&(n(),o=i.createTask({weight:t.uploadTotal})),o&&"uploading"==t.status&&o.update(t.uploaded)}),t.on("uploaded",function(){o&&o.done()}),t.on("error",function(){o&&o.cancel(),e.showNotification(t.message,"warning")}),t.on("abort",function(){o&&o.cancel(),CKEDITOR.instances[e.name]&&e.showNotification(e.lang.uploadwidget.abort,"info")})}}),function(){function n(t){return t<=9&&(t="0"+t),String(t)}function d(t){var e=[(e=new Date).getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()];return i+=1,"image-"+CKEDITOR.tools.array.map(e,n).join("")+"-"+i+"."+t}var i=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(l){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var c=CKEDITOR.fileTools,u=c.getUploadUrl(l.config,"image");u&&(c.addUploadWidget(l,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:u,fileToElement:function(){var t=new CKEDITOR.dom.element("img");return t.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),t},parts:{img:"img"},onUploading:function(t){this.parts.img.setAttribute("src",t.data)},onUploaded:function(t){var e=this.parts.img.$;this.replaceWith('<img src="'+t.url+'" width="'+(t.responseData.width||e.naturalWidth)+'" height="'+(t.responseData.height||e.naturalHeight)+'">')}}),l.on("paste",function(t){if(t.data.dataValue.match(/<img[\s\S]+data:/i)){t=t.data;var e,n,i,o=document.implementation.createHTMLDocument("");for((o=new CKEDITOR.dom.element(o.body)).data("cke-editable",1),o.appendHtml(t.dataValue),e=o.find("img"),i=0;i<e.count();i++){var r=(n=e.getItem(i)).getAttribute("src"),a=r&&"data:"==r.substring(0,5),s=null===n.data("cke-realelement");a&&s&&!n.data("cke-upload-id")&&!n.isReadOnly(1)&&(a=(a=r.match(/image\/([a-z]+?);/i))&&a[1]||"jpg",(r=l.uploadRepository.create(r,d(a))).upload(u),c.markElement(n,"uploadimage",r.id),c.bindNotifications(l,r))}t.dataValue=o.getHtml()}}))}}})}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(t){t.config.wsc_onFinish="function"==typeof t.config.wsc_onFinish?t.config.wsc_onFinish:function(){},t.config.wsc_onClose="function"==typeof t.config.wsc_onClose?t.config.wsc_onClose:function(){}},parseConfig:function(t){t.config.wsc_customerId=t.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",t.config.wsc_customDictionaryIds=t.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",t.config.wsc_userDictionaryName=t.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",t.config.wsc_customLoaderScript=t.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,t.config.wsc_interfaceLang=t.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=t.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(t){"moono-lisa"==(CKEDITOR.skinName||t.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(t){var e=CKEDITOR.env;this.parseConfig(t),this.parseApi(t),t.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||e.ie&&(e.version<8||e.quirks))},"undefined"==typeof t.plugins.scayt&&t.ui.addButton&&t.ui.addButton("SpellChecker",{label:t.lang.wsc.toolbar,click:function(t){var e=t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?t.container.getText():t.document.getBody().getText();(e=e.replace(/\s/g,""))?t.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&CKEDITOR.env.version<=7?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),S=!1,CKEDITOR.plugins.add("balloonpanel",{init:function(){S||(CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/balloonpanel.css"),S=!0)}}),CKEDITOR.ui.balloonPanel=function(t,e){for(var n in this.editor=t,CKEDITOR.tools.extend(this,{width:360,height:"auto",triangleWidth:20,triangleHeight:20,triangleMinDistance:40},e,!0),this.templates={},this.templateDefinitions)this.templates[n]=new CKEDITOR.template(this.templateDefinitions[n]);this.parts={},this.focusables={},this.showListeners={},this.activeShowListeners={},this.rect={visible:!1},this.build(),t.on("destroy",function(){this.destroy()},this)},CKEDITOR.ui.balloonPanel.prototype={templateDefinitions:{panel:'<div class="cke {id} cke_reset_all cke_chrome cke_balloon cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="dialog" style="{style}" tabindex="-1" aria-labelledby="cke_{name}_arialbl"></div>',content:'<div class="cke_balloon_content">{content}</div>',title:'<div class="cke_balloon_title" role="presentation">{title}</div>',close:'<a class="cke_balloon_close_button" href="javascript:void(0)" title="Close" role="button" tabindex="-1"><span class="cke_label">X</span></a>',triangleOuter:'<span class="cke_balloon_triangle cke_balloon_triangle_outer"></span>',triangleInner:'<span class="cke_balloon_triangle cke_balloon_triangle_inner">&#8203;</span>'},build:function(){var t=this.editor;this.parts={title:CKEDITOR.dom.element.createFromHtml(this.templates.title.output({title:this.title})),close:CKEDITOR.dom.element.createFromHtml(this.templates.close.output()),panel:CKEDITOR.dom.element.createFromHtml(this.templates.panel.output({id:t.id,langDir:t.lang.dir,langCode:t.langCode,name:t.name,style:"display:none;",voiceLabel:t.lang.editorPanel+", "+t.name})),content:CKEDITOR.dom.element.createFromHtml(this.templates.content.output({content:this.content||""})),triangleOuter:CKEDITOR.dom.element.createFromHtml(this.templates.triangleOuter.output()),triangleInner:CKEDITOR.dom.element.createFromHtml(this.templates.triangleInner.output())},this.parts.panel.append(this.parts.title,1),this.parts.panel.append(this.parts.close,1),this.parts.panel.append(this.parts.triangleOuter),this.parts.panel.append(this.parts.content),this.parts.triangleOuter.append(this.parts.triangleInner),this.registerFocusable(this.parts.panel),this.registerFocusable(this.parts.close),this.parts.title.unselectable(),this.parts.close.unselectable(),CKEDITOR.document.getBody().append(this.parts.panel),this.resize(this.width,this.height),this.on("show",this.activateShowListeners,this),this.on("hide",this.deactivateShowListeners,this),this.parts.close.on("click",function(t){this.hide(),t.data.preventDefault()},this)},show:function(){this.rect.visible||(this.rect.visible=!0,this.parts.panel.show(),this.fire("show"))},hide:function(){this.rect.visible&&(this.rect.visible=!1,this.parts.panel.hide(),this.blur(),this.fire("hide"))},blur:function(){this.editor.focus()},move:function(t,e){this.rect.left=e,this.rect.top=t,this.parts.panel.setStyles({left:CKEDITOR.tools.cssLength(e),top:CKEDITOR.tools.cssLength(t)})},attach:function(){function p(t,e){return Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))*Math.max(0,Math.min(t.bottom,e.bottom)-Math.max(t.top,e.top))}function g(t,e,n,i){return(t={top:t,left:e}).right=t.left+n,t.bottom=t.top+i,t}function m(t,e){return t.right=e.right,t.width=t.right-t.left,e.y&&(t.y=e.y),t}function E(t){var e=n(t,!0);return t=n(t),e=m(e[0],e.pop()),t=m(t[0],t.pop()),e.bottom=t.bottom,e.height=e.bottom-e.top,t.y&&(e.y=t.y),t.top=e.top,t.height=e.height,[e,t]}function n(t,e){var n=e?t[0]:t[t.length-1],i=e?"top":"bottom";return CKEDITOR.tools.array.filter(t,function(t){if(t[i]===n[i])return t})}var v,T,y,b,C={right:"left",top:"bottom",topLeft:"bottomLeft",topRight:"bottomRight",bottom:"top",bottomLeft:"topLeft",bottomRight:"topRight",left:"right"};return function(t,e){if(t instanceof CKEDITOR.dom.selection){var n,i=t.getRanges();n=(o=(i=t.isFake&&t.isInTable()?CKEDITOR.tools.array.map(i,function(t){return t.getClientRects(!0)[0]}):i[i.length-1].getClientRects(!0))[0])===(l=i[i.length-1])?[o]:o.top===l.top?[m(o,l)]:E(i)}(e instanceof CKEDITOR.dom.element||!e)&&(e={focusElement:e}),!0===(e=CKEDITOR.tools.extend(e,{show:!0})).show&&this.show(),this.fire("attach"),v=CKEDITOR.document.getWindow(),T=this.editor.window.getFrame(),y=this.editor.editable(),b=y.isInline();var o,r,a,s,l=(i=this.getWidth())*(o=this.getHeight());r=t.getClientRect&&t.getClientRect(!0);var c=b?y.getClientRect(!0):T.getClientRect(!0),u=v.getViewPaneSize(),d=v.getScrollPosition(),h={top:Math.max(c.top,d.y),left:Math.max(c.left,d.x),right:Math.min(c.right,u.width+d.x),bottom:Math.min(c.bottom,u.height+d.y)};for(var f in b&&this.editor.elementMode===CKEDITOR.ELEMENT_MODE_INLINE&&((h=this._getViewPaneRect(v)).right+=this.triangleWidth,h.bottom+=this.triangleHeight),n?(CKEDITOR.tools.array.forEach(n,function(t){this._adjustElementRect(t,b?h:c)},this),r=this._getAlignments(n[0],i,o),1<n.length&&(r["bottom hcenter"]=this._getAlignments(n[1],i,o)["bottom hcenter"]),s={"top hcenter":!0,"bottom hcenter":!0}):(this._adjustElementRect(r,b?h:c),r=this._getAlignments(r,i,o)),s||r){if(s=g(r[f].top,r[f].left,i,o),0==(s=r[f].areaDifference=l-p(s,h))){a=f;break}a||(a=f),s<r[a].areaDifference&&(a=f)}f=(s=this.parts.panel.getAscendant(function(t){return!(t instanceof CKEDITOR.dom.document)&&"static"!==t.getComputedStyle("position")}))?parseInt(s.getComputedStyle("margin-left"),10):0,s=s?parseInt(s.getComputedStyle("margin-top"),10):0,this.move(r[a].top-s,r[a].left-f),a=a.split(" "),this.setTriangle(C[a[0]],a[1]),!1!==e.focusElement&&(e.focusElement||this.parts.panel).focus()}}(),resize:function(t,e){this.rect.width=t,this.rect.height=e,this.parts.panel.setStyles({width:CKEDITOR.tools.cssLength(t),height:CKEDITOR.tools.cssLength(e)})},getWidth:function(){return"auto"===this.rect.width?this.parts.panel.getClientRect().width:this.rect.width},getHeight:function(){return"auto"===this.rect.height?this.parts.panel.getClientRect().height:this.rect.height},setTriangle:function(t,e){var n=this.parts.triangleOuter,i=this.parts.triangleInner;this.triangleSide&&(n.removeClass("cke_balloon_triangle_"+this.triangleSide),n.removeClass("cke_balloon_triangle_align_"+this.triangleAlign),i.removeClass("cke_balloon_triangle_"+this.triangleSide)),this.triangleSide=t,this.triangleAlign=e,n.addClass("cke_balloon_triangle_"+t),n.addClass("cke_balloon_triangle_align_"+e),i.addClass("cke_balloon_triangle_"+t)},registerFocusable:function(t){this.editor.focusManager.add(t),this.focusables[t.getUniqueId()]=t},deregisterFocusable:function(t){this.editor.focusManager.remove(t),delete this.focusables[t.getUniqueId()]},addShowListener:function(t){var e=CKEDITOR.tools.getNextNumber();this.showListeners[e]=t,this.rect.visible&&this.activateShowListener(e);var n=this;return{removeListener:function(){n.removeShowListener(e)}}},removeShowListener:function(t){this.deactivateShowListener(t),delete this.showListeners[t]},activateShowListener:function(t){this.activeShowListeners[t]=this.showListeners[t].call(this)},deactivateShowListener:function(t){this.activeShowListeners[t]&&this.activeShowListeners[t].removeListener(),delete this.activeShowListeners[t]},activateShowListeners:function(){for(var t in this.showListeners)this.activateShowListener(t)},deactivateShowListeners:function(){for(var t in this.activeShowListeners)this.deactivateShowListener(t)},destroy:function(){this.deactivateShowListeners(),this.parts.panel.remove()},setTitle:function(t){this.parts.title.setHtml(t)},_getAlignments:function(t,e,n){return{"right vcenter":{top:t.top+t.height/2-n/2,left:t.right+this.triangleWidth},"left vcenter":{top:t.top+t.height/2-n/2,left:t.left-e-this.triangleWidth},"top hcenter":{top:t.top-n-this.triangleHeight,left:t.left+t.width/2-e/2},"top left":{top:t.top-n-this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"top right":{top:t.top-n-this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance},"bottom hcenter":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-e/2},"bottom left":{top:t.bottom+this.triangleHeight,left:t.left+t.width/2-this.triangleMinDistance},"bottom right":{top:t.bottom+this.triangleHeight,left:t.right-t.width/2-e+this.triangleMinDistance}}},_adjustElementRect:function(t,e){t.left=Math.max(e.left,Math.min(e.right-1,t.left)),t.right=Math.max(e.left,Math.min(e.right,t.right)),t.top=Math.max(e.top,Math.min(e.bottom-1,t.top)),t.bottom=Math.max(e.top,Math.min(e.bottom,t.bottom))},_getViewPaneRect:function(t){var e=t.getScrollPosition();return t=t.getViewPaneSize(),{top:e.y,bottom:e.y+t.height,left:e.x,right:e.x+t.width}}},CKEDITOR.event.implementOn(CKEDITOR.ui.balloonPanel.prototype),function(){function t(t,e){this.editor=t,this.options=e,this.toolbar=new CKEDITOR.ui.balloonToolbar(t),this.options&&"undefined"==typeof this.options.priority&&(this.options.priority=CKEDITOR.plugins.balloontoolbar.PRIORITY.MEDIUM),this._loadButtons()}function e(t){this.editor=t,this._contexts=[],this._listeners=[],this._attachListeners()}var n=CKEDITOR.tools.array.filter(["matches","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","oMatchesSelector"],function(t){return!!window.HTMLElement&&t in HTMLElement.prototype})[0];CKEDITOR.ui.balloonToolbarView=function(t,e){e=CKEDITOR.tools.extend(e||{},{width:"auto",triangleWidth:7,triangleHeight:7}),CKEDITOR.ui.balloonPanel.call(this,t,e),this._listeners=[]},CKEDITOR.ui.balloonToolbar=function(t,e){this._view=new CKEDITOR.ui.balloonToolbarView(t,e),this._items={}},CKEDITOR.ui.balloonToolbar.prototype.attach=function(t,e){this._view.renderItems(this._items),this._view.attach(t,{focusElement:!1,show:!e})},CKEDITOR.ui.balloonToolbar.prototype.show=function(){this._view.show()},CKEDITOR.ui.balloonToolbar.prototype.hide=function(){this._view.hide()},CKEDITOR.ui.balloonToolbar.prototype.addItem=function(t,e){this._items[t]=e},CKEDITOR.ui.balloonToolbar.prototype.addItems=function(t){for(var e in t)this.addItem(e,t[e])},CKEDITOR.ui.balloonToolbar.prototype.getItem=function(t){return this._items[t]},CKEDITOR.ui.balloonToolbar.prototype.deleteItem=function(t){this._items[t]&&(delete this._items[t],this._view.renderItems(this._items))},CKEDITOR.ui.balloonToolbar.prototype.destroy=function(){for(var t in this._items)this._items[t].destroy&&this._items[t].destroy(),this.deleteItem(t);this._pointedElement=null,this._view.destroy()},CKEDITOR.ui.balloonToolbar.prototype.refresh=function(){for(var t in this._items){var e=this._view.editor.getCommand(this._items[t].command);e&&e.refresh(this._view.editor,this._view.editor.elementPath())}},t.prototype={destroy:function(){this.toolbar&&this.toolbar.destroy()},show:function(t){t&&this.toolbar.attach(t),this.toolbar.show()},hide:function(){this.toolbar.hide()},refresh:function(){this.toolbar.refresh()},_matchRefresh:function(t,e){var n=null;return this.options.refresh&&(n=this.options.refresh(this.editor,t,e)||null)&&!1==n instanceof CKEDITOR.dom.element&&(n=t&&t.lastElement||this.editor.editable()),n},_matchWidget:function(){var t=this.options.widgets,e=null;if(t){var n=this.editor.widgets&&this.editor.widgets.focused&&this.editor.widgets.focused.name;"string"==typeof t&&(t=t.split(",")),-1!==CKEDITOR.tools.array.indexOf(t,n)&&(e=this.editor.widgets.focused.element)}return e},_matchElement:function(t){return this.options.cssSelector&&n&&t.$[n](this.options.cssSelector)?t:null},_loadButtons:function(){var t=this.options.buttons;t&&(t=t.split(","),CKEDITOR.tools.array.forEach(t,function(t){var e=this.editor.ui.create(t);e&&this.toolbar.addItem(t,e)},this))}};var i=!(e.prototype={create:function(t){return t=new CKEDITOR.plugins.balloontoolbar.context(this.editor,t),this.add(t),t},add:function(t){this._contexts.push(t)},check:function(e){function t(t,n,i){a(t,function(t){if(!r||r.options.priority>t.options.priority){var e=n(t,i);e instanceof CKEDITOR.dom.element&&(o=e,r=t)}})}function n(t,e){return t._matchElement(e)}if(e||(e=this.editor.getSelection(),CKEDITOR.tools.array.forEach(e.getRanges(),function(t){t.shrink(CKEDITOR.SHRINK_ELEMENT,!0)})),e){var o,r,a=CKEDITOR.tools.array.forEach,i=e.getRanges()[0],s=i&&i.startPath();if(t(this._contexts,function(t){return t._matchRefresh(s,e)}),t(this._contexts,function(t){return t._matchWidget()}),s)for((i=e.getSelectedElement())&&!i.isReadOnly()&&t(this._contexts,n,i),i=0;i<s.elements.length;i++){var l=s.elements[i];l.isReadOnly()||t(this._contexts,n,l)}this.hide(),r&&r.show(o)}},hide:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.hide()})},destroy:function(){CKEDITOR.tools.array.forEach(this._listeners,function(t){t.removeListener()}),this._listeners.splice(0,this._listeners.length),this._clear()},_clear:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.destroy()}),this._contexts.splice(0,this._contexts.length)},_refresh:function(){CKEDITOR.tools.array.forEach(this._contexts,function(t){t.refresh()})},_attachListeners:function(){this._listeners.push(this.editor.on("destroy",function(){this.destroy()},this),this.editor.on("selectionChange",function(){this.check()},this),this.editor.on("mode",function(){this.hide()},this,null,9999),this.editor.on("blur",function(){this.hide()},this,null,9999),this.editor.on("afterInsertHtml",function(){this.check(),this._refresh()},this,null,9999))}}),o=!1;CKEDITOR.plugins.add("balloontoolbar",{requires:"balloonpanel",beforeInit:function(t){o||(CKEDITOR.document.appendStyleSheet(this.path+"skins/default.css"),CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/balloontoolbar.css"),o=!0),t.balloonToolbars=new CKEDITOR.plugins.balloontoolbar.contextManager(t)},init:function(t){t.balloonToolbars=new CKEDITOR.plugins.balloontoolbar.contextManager(t),i||(i=!0,CKEDITOR.ui.balloonToolbarView.prototype=CKEDITOR.tools.extend({},CKEDITOR.ui.balloonPanel.prototype),CKEDITOR.ui.balloonToolbarView.prototype.build=function(){CKEDITOR.ui.balloonPanel.prototype.build.call(this),this.parts.panel.addClass("cke_balloontoolbar"),this.parts.title.remove(),this.deregisterFocusable(this.parts.close),this.parts.close.remove()},CKEDITOR.ui.balloonToolbarView.prototype.show=function(){function t(){this.attach(this._pointedElement,{focusElement:!1})}if(!this.rect.visible){var e=this.editor.editable();this._detachListeners(),this._listeners.push(this.editor.on("change",t,this)),this._listeners.push(this.editor.on("resize",t,this)),this._listeners.push(CKEDITOR.document.getWindow().on("resize",t,this)),this._listeners.push(e.attachListener(e.getDocument(),"scroll",t,this)),CKEDITOR.ui.balloonPanel.prototype.show.call(this)}},CKEDITOR.ui.balloonToolbarView.prototype.hide=function(){this._detachListeners(),CKEDITOR.ui.balloonPanel.prototype.hide.call(this)},CKEDITOR.ui.balloonToolbarView.prototype.blur=function(t){t&&this.editor.focus()},CKEDITOR.ui.balloonToolbarView.prototype._getAlignments=function(t,e,n){return{"bottom hcenter":(t=CKEDITOR.ui.balloonPanel.prototype._getAlignments.call(this,t,e,n))["bottom hcenter"],"top hcenter":t["top hcenter"]}},CKEDITOR.ui.balloonToolbarView.prototype._detachListeners=function(){this._listeners.length&&(CKEDITOR.tools.array.forEach(this._listeners,function(t){t.removeListener()}),this._listeners=[])},CKEDITOR.ui.balloonToolbarView.prototype.destroy=function(){this._deregisterItemFocusables(),CKEDITOR.ui.balloonPanel.prototype.destroy.call(this),this._detachListeners()},CKEDITOR.ui.balloonToolbarView.prototype.renderItems=function(e){var n=[],t=CKEDITOR.tools.objectKeys(e),i=!1;this._deregisterItemFocusables(),CKEDITOR.tools.array.forEach(t,function(t){CKEDITOR.ui.richCombo&&e[t]instanceof CKEDITOR.ui.richCombo&&i?(i=!1,n.push("</span>")):CKEDITOR.ui.richCombo&&e[t]instanceof CKEDITOR.ui.richCombo||i||(i=!0,n.push('<span class="cke_toolgroup">')),e[t].render(this.editor,n)},this),i&&n.push("</span>"),this.parts.content.setHtml(n.join("")),this.parts.content.unselectable(),CKEDITOR.tools.array.forEach(this.parts.content.find("a").toArray(),function(t){t.setAttribute("draggable","false"),this.registerFocusable(t)},this)},CKEDITOR.ui.balloonToolbarView.prototype.attach=function(t,e){this._pointedElement=t,CKEDITOR.ui.balloonPanel.prototype.attach.call(this,t,e)},CKEDITOR.ui.balloonToolbarView.prototype._deregisterItemFocusables=function(){var t,e=this.focusables;for(t in e)this.parts.content.contains(e[t])&&this.deregisterFocusable(e[t])})}}),CKEDITOR.plugins.balloontoolbar={context:t,contextManager:e,PRIORITY:{LOW:999,MEDIUM:500,HIGH:10}}}(),CKEDITOR.config.plugins="dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,notification,button,toolbar,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filetools,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,balloonpanel,balloontoolbar",CKEDITOR.config.skin="moono-lisa",A=function(t,e){var n=CKEDITOR.getUrl("plugins/"+e);t=t.split(",");for(var i=0;i<t.length;i++)CKEDITOR.skin.icons[t[i]]={path:n,offset:-t[++i],bgsize:t[++i]}},CKEDITOR.env.hidpi?A("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,","icons_hidpi.png"):A("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto","icons.png"),CKEDITOR.lang.languages={af:1,sq:1,ar:1,az:1,eu:1,bn:1,bs:1,bg:1,ca:1,"zh-cn":1,zh:1,hr:1,cs:1,da:1,nl:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,et:1,fo:1,fi:1,fr:1,"fr-ca":1,gl:1,ka:1,de:1,"de-ch":1,el:1,gu:1,he:1,hi:1,hu:1,is:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lv:1,lt:1,mk:1,ms:1,mn:1,no:1,nb:1,oc:1,fa:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,sr:1,"sr-latn":1,si:1,sk:1,sl:1,es:1,"es-mx":1,sv:1,tt:1,th:1,tr:1,ug:1,uk:1,vi:1,cy:1})}(),function(){}.call(this),function(){null==window.Set&&(window.Set=function(){function t(){this.clear()}return t.prototype.clear=function(){return this.values=[]},t.prototype.has=function(t){return-1!==this.values.indexOf(t)},t.prototype.add=function(t){return this.has(t)||this.values.push(t),this},t.prototype["delete"]=function(t){var e;return-1!==(e=this.values.indexOf(t))&&(this.values.splice(e,1),!0)},t.prototype.forEach=function(){var t;return(t=this.values).forEach.apply(t,arguments)},t}())}.call(this),function(t){function i(){}function o(t,e){return function(){t.apply(e,arguments)}}function r(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],d(t,this)}function a(n,i){for(;3===n._state;)n=n._value;return 0===n._state?void n._deferreds.push(i):(n._handled=!0,void h(function(){var t=1===n._state?i.onFulfilled:i.onRejected;if(null!==t){var e;try{e=t(n._value)}catch(a){return void l(i.promise,a)}s(i.promise,e)}else(1===n._state?s:l)(i.promise,n._value)}))}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void d(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(s){l(t,s)}}function l(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&setTimeout(function(){t._handled||f(t._value)},1);for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function d(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,l(e,t))})}catch(r){if(n)return;n=!0,l(e,r)}}var e=setTimeout,h="function"==typeof setImmediate&&setImmediate||function(t){e(t,1)},f=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var n=new r(i);return a(this,new u(t,e,n)),n},
r.all=function(t){var s=Array.prototype.slice.call(t);return new r(function(i,o){function r(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){r(e,t)},o)}s[e]=t,0==--a&&i(s)}catch(u){o(u)}}if(0===s.length)return i([]);for(var a=s.length,t=0;t<s.length;t++)r(t,s[t])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(n){return new r(function(t,e){e(n)})},r.race=function(o){return new r(function(t,e){for(var n=0,i=o.length;n<i;n++)o[n].then(t,e)})},r._setImmediateFn=function(t){h=t},r._setUnhandledRejectionFn=function(t){f=t},"undefined"!=typeof module&&module.exports?module.exports=r:t.Promise||(t.Promise=r)}(this),"undefined"==typeof WeakMap&&function(){var i=Object.defineProperty,t=Date.now()%1e9,e=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};e.prototype={set:function(t,e){var n=t[this.name];return n&&n[0]===t?n[1]=e:i(t,this.name,{value:[t,e],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=e}(),function(t){function o(t){C.push(t),b||(b=!0,g(e))}function r(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function e(){b=!1;var t=C;C=[],t.sort(function(t,e){return t.uid_-e.uid_});var n=!1;t.forEach(function(t){var e=t.takeRecords();i(t),e.length&&(t.callback_(e,t),n=!0)}),n&&e()}function i(n){n.nodes_.forEach(function(t){var e=m.get(t);e&&e.forEach(function(t){t.observer===n&&t.removeTransientObservers()})})}function d(t,e){for(var n=t;n;n=n.parentNode){var i=m.get(n);if(i)for(var o=0;o<i.length;o++){var r=i[o],a=r.options;if(n===t||a.subtree){var s=e(a);s&&r.enqueue(s)}}}}function n(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++D}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function s(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function h(t,e){return T=new a(t,e)}function f(t){return y||((y=s(T)).oldValue=t,y)}function p(){T=y=void 0}function l(t){return t===y||t===T}function c(t,e){return t===e?t:y&&l(t)?y:null}function u(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}if(!t.JsMutationObserver){var g,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))g=setTimeout;else if(window.setImmediate)g=window.setImmediate;else{var E=[],v=String(Math.random());window.addEventListener("message",function(t){if(t.data===v){var e=E;E=[],e.forEach(function(t){t()})}}),g=function(t){E.push(t),window.postMessage(v,"*")}}var T,y,b=!1,C=[],D=0;n.prototype={observe:function(t,e){if(t=r(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var n=m.get(t);n||m.set(t,n=[]);for(var i,o=0;o<n.length;o++)if(n[o].observer===this){(i=n[o]).removeListeners(),i.options=e;break}i||(i=new u(this,t,e),n.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=m.get(t),n=0;n<e.length;n++){var i=e[n];if(i.observer===this){i.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},u.prototype={enqueue:function(t){var e=this.observer.records_,n=e.length;if(0<e.length){var i=c(e[n-1],t);if(i)return void(e[n-1]=i)}else o(this.observer);e[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=m.get(t);e||m.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=m.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target;(r=new h("attributes",i)).attributeName=e,r.attributeNamespace=n;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;d(i,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?f(o):r});break;case"DOMCharacterDataModified":var r=h("characterData",i=t.target);o=t.prevValue;d(i,function(t){return t.characterData?t.characterDataOldValue?f(o):r:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,s,l=t.target;"DOMNodeInserted"===t.type?(a=[l],s=[]):(a=[],s=[l]);var c=l.previousSibling,u=l.nextSibling;(r=h("childList",t.target.parentNode)).addedNodes=a,r.removedNodes=s,r.previousSibling=c,r.nextSibling=u,d(t.relatedNode,function(t){return t.childList?r:void 0})}p()}},t.JsMutationObserver=n,t.MutationObserver||((t.MutationObserver=n)._isPolyfilled=!0)}}(self),function(){"use strict";if(!window.performance){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var e,n;if(window.requestAnimationFrame||(window.requestAnimationFrame=(e=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(t){return e(function(){t(performance.now())})}:function(t){return window.setTimeout(t,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}),!((n=document.createEvent("Event")).initEvent("foo",!0,!0),n.preventDefault(),n.defaultPrevented)){var i=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(i.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var o=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||o&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||o&&"function"!=typeof window.Event){var r=window.Event;window.Event=function(t,e){e=e||{};var n=document.createEvent("Event");return n.initEvent(t,Boolean(e.bubbles),Boolean(e.cancelable)),n},window.Event.prototype=r.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[],i=function(t){n.push(t)},o=function(){n.forEach(function(t){t(e)})};e.addModule=i,e.initializeModules=o,e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function i(t,e){o(t,function(t){return!!e(t)||void n(t,e)}),n(t,e)}function o(t,e,n){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)!0!==e(i,n)&&o(i,e,n),i=i.nextElementSibling;return null}function n(t,e){for(var n=t.shadowRoot;n;)i(n,e),n=n.olderShadowRoot}function e(t,e){s(t,e,[])}function s(t,e,n){if(t=window.wrap(t),!(0<=n.indexOf(t))){n.push(t);for(var i,o=t.querySelectorAll("link[rel="+l+"]"),r=0,a=o.length;r<a&&(i=o[r]);r++)i["import"]&&s(i["import"],e,n);e(t)}}var l=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=e,t.forSubtree=i}),window.CustomElements.addModule(function(n){function a(t,e){return i(t,e)||o(t,e)}function i(t,e){return!!n.upgrade(t,e)||void(e&&s(t))}function o(t,e){T(t,function(t){return!!i(t,e)||void 0})}function e(t){D.push(t),C||(C=!0,setTimeout(r))}function r(){C=!1;for(var t,e=D,n=0,i=e.length;n<i&&(t=e[n]);n++)t();D=[]}function s(t){b?e(function(){l(t)}):l(t)}function l(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function c(t){u(t),T(t,function(t){u(t)})}function u(t){b?e(function(){d(t)}):d(t)}function d(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function h(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function t(t){if(t.shadowRoot&&!t.shadowRoot.__watched){v.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)g(e),e=e.olderShadowRoot}}function f(t,e){if(v.dom){var n=e[0];if(n&&"childList"===n.type&&n.addedNodes&&n.addedNodes){for(var i=n.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",e.length,o||"")}var r=h(t);e.forEach(function(t){"childList"===t.type&&(I(t.addedNodes,function(t){t.localName&&a(t,r)}),I(t.removedNodes,function(t){t.localName&&c(t)}))}),v.dom&&console.groupEnd()}function p(t){for((t=window.wrap(t))||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(f(t,e.takeRecords()),r())}function g(t){if(!t.__observer){var e=new MutationObserver(f.bind(this,t));e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function m(t){t=window.wrap(t),v.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop()),a(t,t===window.wrap(document)),g(t),v.dom&&console.groupEnd()}function E(t){y(t,m)}var v=n.flags,T=n.forSubtree,y=n.forDocumentTree,b=window.MutationObserver._isPolyfilled&&v["throttle-attached"];n.hasPolyfillMutations=b,n.hasThrottledAttached=b;var C=!1,D=[],I=Array.prototype.forEach.call.bind(Array.prototype.forEach),O=Element.prototype.createShadowRoot;O&&(Element.prototype.createShadowRoot=function(){var t=O.call(this);return window.CustomElements.watchShadow(this),t}),n.watchShadow=t,n.upgradeDocumentTree=E,n.upgradeDocument=m,n.upgradeSubtree=o,n.upgradeAll=a,n.attached=s,n.takeRecords=p}),window.CustomElements.addModule(function(o){function t(t,e){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var n=t.getAttribute("is"),i=o.getRegisteredDefinition(t.localName)||o.getRegisteredDefinition(n);if(i&&(n&&i.tag==t.localName||!n&&!i["extends"]))return r(t,i,e)}}function r(t,e,n){return s.upgrade&&console.group("upgrade:",t.localName),e.is&&t.setAttribute("is",e.is),i(t,e),t.__upgraded__=!0,a(t),n&&o.attached(t),o.upgradeSubtree(t,n),s.upgrade&&console.groupEnd(),t}function i(t,e){Object.__proto__||n(t,e.prototype,e["native"]),t.__proto__=e.prototype}function n(t,e,n){for(var i={},o=e;o!==n&&o!==HTMLElement.prototype;){for(var r,a=Object.getOwnPropertyNames(o),s=0;r=a[s];s++)i[r]||(Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r)),i[r]=1);o=Object.getPrototypeOf(o)}}function a(t){t.createdCallback&&t.createdCallback()}var s=o.flags;o.upgrade=t,o.upgradeWithDefinition=r,o.implementPrototype=i}),window.CustomElements.addModule(function(i){function t(t,e){var n=e||{};if(!t)throw new Error("document.registerElement: first argument `name` must not be empty");if(t.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(t)+"'.");if(a(t))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(t)+"'. The type name is invalid.");if(u(t))throw new Error("DuplicateDefinitionError: a type with name '"+String(t)+"' is already registered");return n.prototype||(n.prototype=Object.create(HTMLElement.prototype)),n.__name=t.toLowerCase(),n["extends"]&&(n["extends"]=n["extends"].toLowerCase()),n.lifecycle=n.lifecycle||{},n.ancestry=s(n["extends"]),l(n),c(n),o(n.prototype),d(n.__name,n),n.ctor=h(n),n.ctor.prototype=n.prototype,n.prototype.constructor=n.ctor,i.ready&&m(document),n.ctor}function o(t){if(!t.setAttribute._polyfilled){var n=t.setAttribute;t.setAttribute=function(t,e){r.call(this,t,e,n)};var e=t.removeAttribute;t.removeAttribute=function(t){r.call(this,t,null,e)},t.setAttribute._polyfilled=!0}}function r(t,e,n){t=t.toLowerCase();var i=this.getAttribute(t);n.apply(this,arguments);var o=this.getAttribute(t);this.attributeChangedCallback&&o!==i&&this.attributeChangedCallback(t,i,o)}function a(t){for(var e=0;e<b.length;e++)if(t===b[e])return!0}function s(t){var e=u(t);return e?s(e["extends"]).concat([e]):[]}function l(t){for(var e,n=t["extends"],i=0;e=t.ancestry[i];i++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function c(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var i,o=t.prototype,r=!1;o;)o==e&&(r=!0),(i=Object.getPrototypeOf(o))&&(o.__proto__=i),o=i;r||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function e(t){return v(I(t.tag),t)}function u(t){return t?C[t.toLowerCase()]:void 0}function d(t,e){C[t]=e}function h(t){return function(){return e(t)}}function n(t,e,n){return t===D?f(e,n):O(t,e)}function f(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n,i=u(e||t);if(i){if(t==i.tag&&e==i.is)return new i.ctor;if(!e&&!i.is)return new i.ctor}return e?(n=f(t)).setAttribute("is",e):(n=I(t),0<=t.indexOf("-")&&T(n,HTMLElement)),n}function p(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return E(t),t}}var g,m=(i.isIE,i.upgradeDocumentTree),E=i.upgradeAll,v=i.upgradeWithDefinition,T=i.implementPrototype,y=i.useNative,b=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],C={},D="http://www.w3.org/1999/xhtml",I=document.createElement.bind(document),O=document.createElementNS.bind(document);g=Object.__proto__||y?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=t,document.createElement=f,document.createElementNS=n,i.registry=C,i["instanceof"]=g,i.reservedTagList=b,i.getRegisteredDefinition=u,document.register=document.registerElement}),function(t){function e(){r(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(t){setTimeout(t,16)})(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,i=t.initializeModules;if(t.isIE,n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t["instanceof"]=function(t,e){return t instanceof e}}else i();var r=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&a(wrap(t["import"]))}),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,e)}else e()}(window.CustomElements),function(){}.call(this),function(){var t=this;(function(){(function(){this.Trix={VERSION:"0.10.1",ZERO_WIDTH_SPACE:"\ufeff",NON_BREAKING_SPACE:"\xa0",OBJECT_REPLACEMENT_CHARACTER:"\ufffc",config:{}}}).call(this)}).call(t);var K=t.Trix;(function(){(function(){K.BasicObject=function(){function t(){}var a,s,i;return t.proxyMethod=function(t){var n,i,e,o,r;return e=s(t),n=e.name,o=e.toMethod,r=e.toProperty,i=e.optional,this.prototype[n]=function(){var t,e;return t=null!=o?i?"function"==typeof this[o]?this[o]():void 0:this[o]():null!=r?this[r]:void 0,i?null!=(e=null!=t?t[n]:void 0)?a.call(e,t,arguments):void 0:(e=t[n],a.call(e,t,arguments))}},s=function(t){var e,n;if(!(n=t.match(i)))throw new Error("can't parse @proxyMethod expression: "+t);return e={name:n[4]},null!=n[2]?e.toMethod=n[1]:e.toProperty=n[1],null!=n[3]&&(e.optional=!0),e},a=Function.prototype.apply,i=/^(.+?)(\(\))?(\?)?\.(.+?)$/,t}()}).call(this),function(){var i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Object=function(t){function e(){this.id=++n}var n;return i(e,t),n=0,e.fromJSONString=function(t){return this.fromJSON(JSON.parse(t))},e.prototype.hasSameConstructorAs=function(t){return this.constructor===(null!=t?t.constructor:void 0)},e.prototype.isEqualTo=function(t){return this===t},e.prototype.inspect=function(){var t,i,o;return t=function(){var t,e,n;for(i in n=[],e=null!=(t=this.contentsForInspection())?t:{})o=e[i],n.push(i+"="+o);return n}.call(this),"#<"+this.constructor.name+":"+this.id+(t.length?" "+t.join(", "):"")+">"},e.prototype.contentsForInspection=function(){},e.prototype.toJSONString=function(){return JSON.stringify(this)},e.prototype.toUTF16String=function(){return K.UTF16String.box(this)},e.prototype.getCacheKey=function(){return this.id.toString()},e}(K.BasicObject)}.call(this),function(){K.extend=function(t){var e,n;for(e in t)n=t[e],this[e]=n;return this}}.call(this),function(){K.extend({defer:function(t){return setTimeout(t,1)}})}.call(this),function(){var s,a;K.extend({normalizeSpaces:function(t){return t.replace(RegExp(""+K.ZERO_WIDTH_SPACE,"g"),"").replace(RegExp(""+K.NON_BREAKING_SPACE,"g")," ")},summarizeStringChange:function(t,e){var n,i,o,r;return t=K.UTF16String.box(t),(e=K.UTF16String.box(e)).length<t.length?(r=(i=a(t,e))[0],n=i[1]):(n=(o=a(e,t))[0],r=o[1]),{added:n,removed:r}}}),a=function(t,e){var n,i,o,r,a;return t.isEqualTo(e)?["",""]:(o=(r=(i=s(t,e)).utf16String.length)?(a=i.offset,n=t.codepoints.slice(0,a).concat(t.codepoints.slice(a+r)),s(e,K.UTF16String.fromCodepoints(n))):s(e,t),[i.utf16String.toString(),o.utf16String.toString()])},s=function(t,e){var n,i,o;for(n=0,i=t.length,o=e.length;n<i&&t.charAt(n).isEqualTo(e.charAt(n));)n++;for(;n+1<i&&t.charAt(i-1).isEqualTo(e.charAt(o-1));)i--,o--;return{utf16String:t.slice(n,i),offset:n}}}.call(this),function(){K.extend({copyObject:function(t){var e,n,i;for(e in null==t&&(t={}),n={},t)i=t[e],n[e]=i;return n},objectsAreEqual:function(t,e){var n;if(null==t&&(t={}),null==e&&(e={}),Object.keys(t).length!==Object.keys(e).length)return!1;for(n in t)if(t[n]!==e[n])return!1;return!0}})}.call(this),function(){var o=[].slice;K.extend({arraysAreEqual:function(t,e){var n,i,o;if(null==t&&(t=[]),null==e&&(e=[]),t.length!==e.length)return!1;for(i=n=0,o=t.length;n<o;i=++n)if(t[i]!==e[i])return!1;return!0},arrayStartsWith:function(t,e){return null==t&&(t=[]),null==e&&(e=[]),K.arraysAreEqual(t.slice(0,e.length),e)},spliceArray:function(t){var e,n,i;return n=t,e=2<=arguments.length?o.call(arguments,1):[],(i=n.slice(0)).splice.apply(i,e),i},summarizeArrayChange:function(t,e){var n,i,o,r,a,s,l,c,u,d,h;for(null==t&&(t=[]),null==e&&(e=[]),n=[],d=[],o=new Set,r=0,l=t.length;r<l;r++)h=t[r],o.add(h);for(i=new Set,a=0,c=e.length;a<c;a++)h=e[a],i.add(h),o.has(h)||n.push(h);for(s=0,u=t.length;s<u;s++)h=t[s],i.has(h)||d.push(h);return{added:n,removed:d}}})}.call(this),function(){var t,e,o,n;o=n=e=t=null,K.extend({getAllAttributeNames:function(){return null!=t?t:t=K.getTextAttributeNames().concat(K.getBlockAttributeNames())},getBlockConfig:function(t){return K.config.blockAttributes[t]},getBlockAttributeNames:function(){return null!=e?e:e=Object.keys(K.config.blockAttributes)},getTextConfig:function(t){return K.config.textAttributes[t]},getTextAttributeNames:function(){return null!=n?n:n=Object.keys(K.config.textAttributes)},getListAttributeNames:function(){var n,i;return null!=o?o:o=function(){var t,e;for(n in e=[],t=K.config.blockAttributes)null!=(i=t[n].listAttribute)&&e.push(i);return e}()}})}.call(this),function(){var f,n,t,e,i,o=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};f=document.documentElement,n=null!=(t=null!=(e=null!=(i=f.matchesSelector)?i:f.webkitMatchesSelector)?e:f.msMatchesSelector)?t:f.mozMatchesSelector,K.extend({handleEvent:function(t,e){var n,i,o,r,a,s,l,c,u,d,h;return a=(l=null!=e?e:{}).onElement,r=l.matchingSelector,h=l.withCallback,o=l.inPhase,s=l.preventDefault,u=l.times,n=null!=a?a:f,c=r,h,d="capturing"===o,(i=function(t){var e;return null!=u&&0==--u&&i.destroy(),null!=(e=K.findClosestElementFromNode(t.target,{matchingSelector:c}))&&(null!=h&&h.call(e,t,e),s)?t.preventDefault():void 0}).destroy=function(){return n.removeEventListener(t,i,d)},n.addEventListener(t,i,d),i},handleEventOnce:function(t,e){return null==e&&(e={}),e.times=1,K.handleEvent(t,e)},triggerEvent:function(t,e){var n,i,o,r,a,s,l;return s=(l=null!=e?e:{}).onElement,i=l.bubbles,o=l.cancelable,n=l.attributes,r=null!=s?s:f,i=!1!==i,o=!1!==o,(a=document.createEvent("Events")).initEvent(t,i,o),null!=n&&K.extend.call(a,n),r.dispatchEvent(a)},elementMatchesSelector:function(t,e){return 1===(null!=t?t.nodeType:void 0)?n.call(t,e):void 0},findClosestElementFromNode:function(t,e){var n,i,o;for(n=(i=null!=e?e:{}).matchingSelector,o=i.untilNode;null!=t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==n)return t;if(t.closest&&null==o)return t.closest(n);for(;t&&t!==o;){if(K.elementMatchesSelector(t,n))return t;t=t.parentNode}}},findInnerElement:function(t){for(;null!=t?t.firstElementChild:void 0;)t=t.firstElementChild;return t},innerElementIsActive:function(t){return document.activeElement!==t&&K.elementContainsNode(t,document.activeElement)},elementContainsNode:function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},findNodeFromContainerAndOffset:function(t,e){var n;if(t)return t.nodeType===Node.TEXT_NODE?t:0===e?null!=(n=t.firstChild)?n:t:t.childNodes.item(e-1)},findElementFromContainerAndOffset:function(t,e){var n;return n=K.findNodeFromContainerAndOffset(t,e),K.findClosestElementFromNode(n)},findChildIndexOfNode:function(t){var e;if(null!=t?t.parentNode:void 0){for(e=0;t=t.previousSibling;)e++;return e}},walkTree:function(t,e){var n,i,o,r,a;return i=(o=null!=e?e:{}).onlyNodesOfType,r=o.usingFilter,n=o.expandEntityReferences,a=function(){switch(i){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}}(),document.createTreeWalker(t,a,null!=r?r:null,!0===n)},tagName:function(t){var e;return null!=t&&null!=(e=t.tagName)?e.toLowerCase():void 0},makeElement:function(t,e){var n,i,o,r,a,s,l,c,u,d;if(null==e&&(e={}),"object"==typeof t?t=(e=t).tagName:e={attributes:e},i=document.createElement(t),null!=e.editable&&(null==e.attributes&&(e.attributes={}),e.attributes.contenteditable=e.editable),e.attributes)for(r in s=e.attributes)d=s[r],i.setAttribute(r,d);if(e.style)for(r in l=e.style)d=l[r],i.style[r]=d;if(e.data)for(r in c=e.data)d=c[r],i.dataset[r]=d;if(e.className)for(o=0,a=(u=e.className.split(" ")).length;o<a;o++)n=u[o],i.classList.add(n);return e.textContent&&(i.textContent=e.textContent),i},cloneFragment:function(t){var e,n,i,o,r;for(e=document.createDocumentFragment(),n=0,i=(r=t.childNodes).length;n<i;n++)o=r[n],e.appendChild(o.cloneNode(!0));return e},makeFragment:function(t){var e,n,i;for(null==t&&(t=""),(e=document.createElement("div")).innerHTML=t,n=document.createDocumentFragment();i=e.firstChild;)n.appendChild(i);return n},getBlockTagNames:function(){var n,i;return null!=K.blockTagNames?K.blockTagNames:K.blockTagNames=function(){var t,e;for(n in e=[],t=K.config.blockAttributes)i=t[n],e.push(i.tagName);return e}()},nodeIsBlockContainer:function(t){return K.nodeIsBlockStartComment(null!=t?t.firstChild:void 0)},nodeProbablyIsBlockContainer:function(t){var e,n;return e=K.tagName(t),0<=o.call(K.getBlockTagNames(),e)&&(n=K.tagName(t.firstChild),o.call(K.getBlockTagNames(),n)<0)},nodeIsBlockStart:function(t,e){return(null!=e?e:{strict:!0}).strict?K.nodeIsBlockStartComment(t):K.nodeIsBlockStartComment(t)||!K.nodeIsBlockStartComment(t.firstChild)&&K.nodeProbablyIsBlockContainer(t)},nodeIsBlockStartComment:function(t){return K.nodeIsCommentNode(t)&&"block"===(null!=t?t.data:void 0)},nodeIsCommentNode:function(t){return(null!=t?t.nodeType:void 0)===Node.COMMENT_NODE},nodeIsCursorTarget:function(t){return t?K.nodeIsTextNode(t)?t.data===K.ZERO_WIDTH_SPACE:K.nodeIsCursorTarget(t.firstChild):void 0},nodeIsAttachmentElement:function(t){return K.elementMatchesSelector(t,K.AttachmentView.attachmentSelector)},nodeIsEmptyTextNode:function(t){return K.nodeIsTextNode(t)&&""===(null!=t?t.data:void 0)},nodeIsTextNode:function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE}})}.call(this),function(){var e,n,l,i,c;e=K.copyObject,i=K.objectsAreEqual,K.extend({normalizeRange:l=function(t){var e;if(null!=t)return Array.isArray(t)||(t=[t,t]),[n(t[0]),n(null!=(e=t[1])?e:t[0])]},rangeIsCollapsed:function(t){var e,n,i;if(null!=t)return i=(n=l(t))[0],e=n[1],c(i,e)},rangesAreEqual:function(t,e){var n,i,o,r,a,s;if(null!=t&&null!=e)return i=(o=l(t))[0],n=o[1],s=(r=l(e))[0],a=r[1],c(i,s)&&c(n,a)}}),n=function(t){return"number"==typeof t?t:e(t)},c=function(t,e){return"number"==typeof t?t===e:i(t,e)}}.call(this),function(){var c,n,u,d;c={extendsTagName:"div",css:"%t { display: block; }"},K.registerElement=function(t,e){var n,i,o,r,a,s,l;return null==e&&(e={}),t=t.toLowerCase(),r=null!=(l=(a=d(e)).extendsTagName)?l:c.extendsTagName,delete a.extendsTagName,i=a.defaultCSS,delete a.defaultCSS,null!=i&&r===c.extendsTagName?i+="\n"+c.css:i=c.css,u(i,t),(o=Object.getPrototypeOf(document.createElement(r))).__super__=o,s=Object.create(o,a),n=document.registerElement(t,{prototype:s}),Object.defineProperty(s,"constructor",{value:n}),n},u=function(t,e){return n(e).textContent=t.replace(/%t/g,e)},n=function(t){var e;return(e=document.createElement("style")).setAttribute("type","text/css"),e.setAttribute("data-tag-name",t.toLowerCase()),document.head.insertBefore(e,document.head.firstChild),e},d=function(t){var e,n,i;for(e in n={},t)i=t[e],n[e]="function"==typeof i?{value:i}:i;return n}}.call(this),function(){var n,e;K.extend({getDOMSelection:function(){var t;return 0<(t=window.getSelection()).rangeCount?t:void 0},getDOMRange:function(){var t,e;return(t=null!=(e=K.getDOMSelection())?e.getRangeAt(0):void 0)&&!n(t)?t:void 0},setDOMRange:function(t){var e;return(e=window.getSelection()).removeAllRanges(),e.addRange(t),K.selectionChangeObserver.update()}}),n=function(t){return e(t.startContainer)||e(t.endContainer)},e=function(t){return!Object.getPrototypeOf(t)}}.call(this),function(){}.call(this),function(){var a,l=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;a=K.arraysAreEqual,K.Hash=function(t){function e(t){null==t&&(t={}),this.values=r(t),e.__super__.constructor.apply(this,arguments)}var s,r,n,i,o;return l(e,t),e.fromCommonAttributesOfObjects=function(t){var e,n,i,o,r,a;if(null==t&&(t=[]),!t.length)return new this;for(i=(e=s(t[0])).getKeys(),n=0,o=(a=t.slice(1)).length;n<o;n++)r=a[n],i=e.getKeysCommonToHash(s(r)),e=e.slice(i);return e},e.box=function(t){return s(t)},e.prototype.add=function(t,e){return this.merge(i(t,e))},e.prototype.remove=function(t){return new K.Hash(r(this.values,t))},e.prototype.get=function(t){return this.values[t]},e.prototype.has=function(t){return t in this.values},e.prototype.merge=function(t){return new K.Hash(n(this.values,o(t)))},e.prototype.slice=function(t){var e,n,i,o;for(o={},e=0,i=t.length;e<i;e++)n=t[e],this.has(n)&&(o[n]=this.values[n]);return new K.Hash(o)},e.prototype.getKeys=function(){return Object.keys(this.values)},e.prototype.getKeysCommonToHash=function(t){var e,n,i,o,r;for(t=s(t),r=[],e=0,i=(o=this.getKeys()).length;e<i;e++)n=o[e],this.values[n]===t.values[n]&&r.push(n);return r},e.prototype.isEqualTo=function(t){return a(this.toArray(),s(t).toArray())},e.prototype.isEmpty=function(){return 0===this.getKeys().length},e.prototype.toArray=function(){var e,n,i;return(null!=this.array?this.array:this.array=function(){var t;for(e in n=[],t=this.values)i=t[e],n.push(e,i);return n}.call(this)).slice(0)},e.prototype.toObject=function(){return r(this.values)},e.prototype.toJSON=function(){return this.toObject()},e.prototype.contentsForInspection=function(){return{values:JSON.stringify(this.values)}},i=function(t,e){var n;return(n={})[t]=e,n},n=function(t,e){var n,i,o;for(n in i=r(t),e)o=e[n],i[n]=o;return i},r=function(t,e){var n,i,o,r,a;for(r={},n=0,o=(a=Object.keys(t).sort()).length;n<o;n++)(i=a[n])!==e&&(r[i]=t[i]);return r},s=function(t){return t instanceof K.Hash?t:new K.Hash(t)},o=function(t){return t instanceof K.Hash?t.values:t},e}(K.Object)}.call(this),function(){K.ObjectGroup=function(){function t(t,e){var n,i;this.objects=null!=t?t:[],i=e.depth,(n=e.asTree)&&(this.depth=i,this.objects=this.constructor.groupObjects(this.objects,{asTree:n,depth:this.depth+1}))}return t.groupObjects=function(t,e){var n,i,o,r,a,s,l,c,u;for(null==t&&(t=[]),o=(u=null!=e?e:{}).depth,(n=u.asTree)&&null==o&&(o=0),c=[],a=0,s=t.length;a<s;a++){if(l=t[a],r){if(("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)&&("function"==typeof(i=r[r.length-1]).canBeGroupedWith?i.canBeGroupedWith(l,o):void 0)){r.push(l);continue}c.push(new this(r,{depth:o,asTree:n})),r=null}("function"==typeof l.canBeGrouped?l.canBeGrouped(o):void 0)?r=[l]:c.push(l)}return r&&c.push(new this(r,{depth:o,asTree:n})),c},t.prototype.getObjects=function(){return this.objects},t.prototype.getDepth=function(){return this.depth},t.prototype.getCacheKey=function(){var t,e,n,i,o;for(e=["objectGroup"],t=0,n=(o=this.getObjects()).length;t<n;t++)i=o[t],e.push(i.getCacheKey());return e.join("/")},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.ObjectMap=function(t){function e(t){var e,n,i,o,r;for(null==t&&(t=[]),this.objects={},i=0,o=t.length;i<o;i++)r=t[i],n=JSON.stringify(r),null==(e=this.objects)[n]&&(e[n]=r)}return n(e,t),e.prototype.find=function(t){var e;return e=JSON.stringify(t),this.objects[e]},e}(K.BasicObject)}.call(this),function(){K.ElementStore=function(){function t(t){this.reset(t)}var i;return t.prototype.add=function(t){var e;return e=i(t),this.elements[e]=t},t.prototype.remove=function(t){var e,n;return e=i(t),(n=this.elements[e])?(delete this.elements[e],n):void 0},t.prototype.reset=function(t){var e,n,i;for(null==t&&(t=[]),this.elements={},n=0,i=t.length;n<i;n++)e=t[n],this.add(e);return t},i=function(t){return t.dataset.trixStoreKey},t}()}.call(this),function(){}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Operation=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e.prototype.isPerforming=function(){return!0===this.performing},e.prototype.hasPerformed=function(){return!0===this.performed},
e.prototype.hasSucceeded=function(){return this.performed&&this.succeeded},e.prototype.hasFailed=function(){return this.performed&&!this.succeeded},e.prototype.getPromise=function(){return null!=this.promise?this.promise:this.promise=new Promise((o=this,function(n,i){return o.performing=!0,o.perform(function(t,e){return o.succeeded=t,o.performing=!1,o.performed=!0,o.succeeded?n(e):i(e)})}));var o},e.prototype.perform=function(t){return t(!1)},e.prototype.release=function(){var t;return null!=(t=this.promise)&&"function"==typeof t.cancel&&t.cancel(),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null},e.proxyMethod("getPromise().then"),e.proxyMethod("getPromise().catch"),e}(K.BasicObject)}.call(this),function(){var t,e,n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;K.UTF16String=function(t){function e(t,e){this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}return r(e,t),e.box=function(t){return null==t&&(t=""),t instanceof this?t:this.fromUCS2String(null!=t?t.toString():void 0)},e.fromUCS2String=function(t){return new this(t,i(t))},e.fromCodepoints=function(t){return new this(o(t),t)},e.prototype.offsetToUCS2Offset=function(t){return o(this.codepoints.slice(0,Math.max(0,t))).length},e.prototype.offsetFromUCS2Offset=function(t){return i(this.ucs2String.slice(0,Math.max(0,t))).length},e.prototype.slice=function(){var t;return this.constructor.fromCodepoints((t=this.codepoints).slice.apply(t,arguments))},e.prototype.charAt=function(t){return this.slice(t,t+1)},e.prototype.isEqualTo=function(t){return this.constructor.box(t).ucs2String===this.ucs2String},e.prototype.toJSON=function(){return this.ucs2String},e.prototype.getCacheKey=function(){return this.ucs2String},e.prototype.toString=function(){return this.ucs2String},e}(K.BasicObject),t=1===("function"==typeof Array.from?Array.from("\ud83d\udc7c").length:void 0),e=null!=("function"==typeof" ".codePointAt?" ".codePointAt(0):void 0),n=" \ud83d\udc7c"===("function"==typeof String.fromCodePoint?String.fromCodePoint(32,128124):void 0),i=t&&e?function(t){return Array.from(t).map(function(t){return t.codePointAt(0)})}:function(t){var e,n,i,o,r;for(o=[],e=0,i=t.length;e<i;)55296<=(r=t.charCodeAt(e++))&&r<=56319&&e<i&&(56320==(64512&(n=t.charCodeAt(e++)))?r=((1023&r)<<10)+(1023&n)+65536:e--),o.push(r);return o},o=n?function(t){return String.fromCodePoint.apply(String,t)}:function(i){var o,r;return function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)r=i[t],o="",65535<r&&(r-=65536,o+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),n.push(o+String.fromCharCode(r));return n}().join("")}}.call(this),function(){}.call(this),function(){}.call(this),function(){K.config.lang={bold:"Bold",bullets:"Bullets","byte":"Byte",bytes:"Bytes",captionPlaceholder:"Type a caption here\u2026",captionPrompt:"Add a caption\u2026",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",urlPlaceholder:"Enter a URL\u2026",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"}}.call(this),function(){K.config.css={classNames:{attachment:{container:"attachment",typePrefix:"attachment-",caption:"caption",captionEdited:"caption-edited",captionEditor:"caption-editor",editingCaption:"caption-editing",progressBar:"progress",removeButton:"remove icon",size:"size"}}}}.call(this),function(){var e;K.config.blockAttributes=e={"default":{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test:function(t){return K.tagName(t.parentNode)===e[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test:function(t){return K.tagName(t.parentNode)===e[this.listAttribute].tagName}}}}.call(this),function(){var i,o;i=K.config.lang,o=[i.bytes,i.KB,i.MB,i.GB,i.TB,i.PB],K.config.fileSize={prefix:"IEC",precision:2,formatter:function(t){var e,n;switch(t){case 0:return"0 "+i.bytes;case 1:return"1 "+i["byte"];default:return e=function(){switch(this.prefix){case"SI":return 1e3;case"IEC":return 1024}}.call(this),n=Math.floor(Math.log(t)/Math.log(e)),(t/Math.pow(e,n)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"")+" "+o[n]}}}}.call(this),function(){K.config.textAttributes={bold:{tagName:"strong",inheritable:!0,parser:function(t){var e;return"bold"===(e=window.getComputedStyle(t)).fontWeight||600<=e.fontWeight}},italic:{tagName:"em",inheritable:!0,parser:function(t){return"italic"===window.getComputedStyle(t).fontStyle}},href:{groupTagName:"a",parser:function(t){var e,n;return n="a:not("+K.AttachmentView.attachmentSelector+")",(e=K.findClosestElementFromNode(t,{matchingSelector:n}))?e.getAttribute("href"):void 0}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}}}.call(this),function(){var T,y,b,C,D;D="[data-trix-serialize=false]",C=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable"],b="["+(y="data-trix-serialized-attributes")+"]",T=new RegExp("<!--block-->","g"),K.extend({serializers:{"application/json":function(t){var e;if(t instanceof K.Document)e=t;else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");e=K.Document.fromHTML(t.innerHTML)}return e.toSerializableDocument().toJSONString()},"text/html":function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E;if(t instanceof K.Document)o=K.DocumentView.render(t);else{if(!(t instanceof HTMLElement))throw new Error("unserializable object");o=t.cloneNode(!0)}for(r=0,c=(p=o.querySelectorAll(D)).length;r<c;r++)(i=p[r]).parentNode.removeChild(i);for(a=0,u=C.length;a<u;a++)for(e=C[a],s=0,d=(g=o.querySelectorAll("["+e+"]")).length;s<d;s++)(i=g[s]).removeAttribute(e);for(l=0,h=(m=o.querySelectorAll(b)).length;l<h;l++){i=m[l];try{for(f in n=JSON.parse(i.getAttribute(y)),i.removeAttribute(y),n)E=n[f],i.setAttribute(f,E)}catch(v){}}return o.innerHTML.replace(T,"")}},deserializers:{"application/json":function(t){return K.Document.fromJSONString(t)},"text/html":function(t){return K.Document.fromHTML(t)}},serializeToContentType:function(t,e){var n;if(n=K.serializers[e])return n(t);throw new Error("unknown content type: "+e)},deserializeFromContentType:function(t,e){var n;if(n=K.deserializers[e])return n(t);throw new Error("unknown content type: "+e)}})}.call(this),function(){var t,e;e=K.makeFragment,t=K.config.lang,K.config.toolbar={content:e('<div class="button_row">\n  <span class="button_group text_tools">\n    <button type="button" class="icon bold" data-trix-attribute="bold" data-trix-key="b" title="'+t.bold+'">'+t.bold+'</button>\n    <button type="button" class="icon italic" data-trix-attribute="italic" data-trix-key="i" title="'+t.italic+'">'+t.italic+'</button>\n    <button type="button" class="icon strike" data-trix-attribute="strike" title="'+t.strike+'">'+t.strike+'</button>\n    <button type="button" class="icon link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="'+t.link+'">'+t.link+'</button>\n  </span>\n\n  <span class="button_group block_tools">\n    <button type="button" class="icon heading-1" data-trix-attribute="heading1" title="'+t.heading1+'">'+t.heading1+'</button>\n    <button type="button" class="icon quote" data-trix-attribute="quote" title="'+t.quote+'">'+t.quote+'</button>\n    <button type="button" class="icon code" data-trix-attribute="code" title="'+t.code+'">'+t.code+'</button>\n    <button type="button" class="icon list bullets" data-trix-attribute="bullet" title="'+t.bullets+'">'+t.bullets+'</button>\n    <button type="button" class="icon list numbers" data-trix-attribute="number" title="'+t.numbers+'">'+t.numbers+'</button>\n    <button type="button" class="icon nesting-level decrease" data-trix-action="decreaseNestingLevel" title="'+t.outdent+'">'+t.outdent+'</button>\n    <button type="button" class="icon nesting-level increase" data-trix-action="increaseNestingLevel" title="'+t.indent+'">'+t.indent+'</button>\n  </span>\n\n  <span class="button_group history_tools">\n    <button type="button" class="icon undo" data-trix-action="undo" data-trix-key="z" title="'+t.undo+'">'+t.undo+'</button>\n    <button type="button" class="icon redo" data-trix-action="redo" data-trix-key="shift+z" title="'+t.redo+'">'+t.redo+'</button>\n  </span>\n</div>\n\n<div class="dialogs">\n  <div class="dialog link_dialog" data-trix-attribute="href" data-trix-dialog="href">\n    <div class="link_url_fields">\n      <input type="url" required name="href" placeholder="'+t.urlPlaceholder+'">\n      <div class="button_group">\n        <input type="button" value="'+t.link+'" data-trix-method="setAttribute">\n        <input type="button" value="'+t.unlink+'" data-trix-method="removeAttribute">\n      </div>\n    </div>\n  </div>\n</div>')}}.call(this),function(){K.config.undoInterval=5e3}.call(this),function(){var t,e;t=K.makeElement,e={cursorTarget:t({tagName:"span",textContent:K.ZERO_WIDTH_SPACE,data:{trixSelection:!0,trixCursorTarget:!0,trixSerialize:!1}})},K.extend({selectionElements:{selector:"[data-trix-selection]",cssText:"font-size: 0 !important;\npadding: 0 !important;\nmargin: 0 !important;\nborder: none !important;\nline-height: 0 !important;",create:function(t){return e[t].cloneNode(!0)}}})}.call(this),function(){}.call(this),function(){var t;t=K.cloneFragment,K.registerElement("trix-toolbar",{defaultCSS:"%t {\n  white-space: collapse;\n}\n\n%t .dialog {\n  display: none;\n}\n\n%t .dialog.active {\n  display: block;\n}\n\n%t .dialog input.validate:invalid {\n  background-color: #ffdddd;\n}\n\n%t[native] {\n  display: none;\n}",createdCallback:function(){return""===this.innerHTML?this.appendChild(t(K.config.toolbar.content)):void 0}})}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,a=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};K.ObjectView=function(t){function e(t,e){this.object=t,this.options=null!=e?e:{},this.childViews=[],this.rootView=this}return n(e,t),e.prototype.getNodes=function(){var t,e,n,i,o;for(null==this.nodes&&(this.nodes=this.createNodes()),o=[],t=0,e=(i=this.nodes).length;t<e;t++)n=i[t],o.push(n.cloneNode(!0));return o},e.prototype.invalidate=function(){var t;return(this.nodes=null)!=(t=this.parentView)?t.invalidate():void 0},e.prototype.invalidateViewForObject=function(t){var e;return null!=(e=this.findViewForObject(t))?e.invalidate():void 0},e.prototype.findOrCreateCachedChildView=function(t,e){var n;return(n=this.getCachedViewForObject(e))?this.recordChildView(n):(n=this.createChildView.apply(this,arguments),this.cacheViewForObject(n,e)),n},e.prototype.createChildView=function(t,e,n){var i;return null==n&&(n={}),e instanceof K.ObjectGroup&&(n.viewClass=t,t=K.ObjectGroupView),i=new t(e,n),this.recordChildView(i)},e.prototype.recordChildView=function(t){return t.parentView=this,t.rootView=this.rootView,a.call(this.childViews,t)<0&&this.childViews.push(t),t},e.prototype.getAllChildViews=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.childViews).length;e<n;e++)t=i[e],o.push(t),o=o.concat(t.getAllChildViews());return o},e.prototype.findElement=function(){return this.findElementForObject(this.object)},e.prototype.findElementForObject=function(t){var e;return(e=null!=t?t.id:void 0)?this.rootView.element.querySelector("[data-trix-id='"+e+"']"):void 0},e.prototype.findViewForObject=function(t){var e,n,i,o;for(e=0,n=(i=this.getAllChildViews()).length;e<n;e++)if((o=i[e]).object===t)return o},e.prototype.getViewCache=function(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?null!=this.viewCache?this.viewCache:this.viewCache={}:void 0},e.prototype.isViewCachingEnabled=function(){return!1!==this.shouldCacheViews},e.prototype.enableViewCaching=function(){return this.shouldCacheViews=!0},e.prototype.disableViewCaching=function(){return this.shouldCacheViews=!1},e.prototype.getCachedViewForObject=function(t){var e;return null!=(e=this.getViewCache())?e[t.getCacheKey()]:void 0},e.prototype.cacheViewForObject=function(t,e){var n;return null!=(n=this.getViewCache())?n[e.getCacheKey()]=t:void 0},e.prototype.garbageCollectCachedViews=function(){var t,e,n,i,o,r;if(t=this.getViewCache()){for(e in r=this.getAllChildViews().concat(this),n=function(){var t,e,n;for(n=[],t=0,e=r.length;t<e;t++)o=r[t],n.push(o.object.getCacheKey());return n}(),i=[],t)a.call(n,e)<0&&i.push(delete t[e]);return i}},e}(K.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.ObjectGroupView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}return n(e,t),e.prototype.getChildViews=function(){var t,e,n,i;if(!this.childViews.length)for(t=0,e=(i=this.objectGroup.getObjects()).length;t<e;t++)n=i[t],this.findOrCreateCachedChildView(this.viewClass,n,this.options);return this.childViews},e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s;for(t=this.createContainerElement(),e=0,i=(a=this.getChildViews()).length;e<i;e++)for(n=0,o=(s=a[e].getNodes()).length;n<o;n++)r=s[n],t.appendChild(r);return[t]},e.prototype.createContainerElement=function(t){return null==t&&(t=this.objectGroup.getDepth()),this.getChildViews()[0].createContainerElement(t)},e}(K.ObjectView)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Controller=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return n(e,t),e}(K.BasicObject)}.call(this),function(){var r,d,a,h,l,s,c=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,p=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};r=K.findClosestElementFromNode,a=K.nodeIsEmptyTextNode,d=K.nodeIsBlockStartComment,h=K.normalizeSpaces,l=K.summarizeStringChange,s=K.tagName,K.MutationObserver=function(t){function e(t){this.element=t,this.didMutate=c(this.didMutate,this),this.observer=new window.MutationObserver(this.didMutate),this.start()}var u,n,i,o;return f(e,t),i="["+(n="data-trix-mutable")+"]",o={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},e.prototype.start=function(){return this.reset(),this.observer.observe(this.element,o)},e.prototype.stop=function(){return this.observer.disconnect()},e.prototype.didMutate=function(t){var e,n;return(e=this.mutations).push.apply(e,this.findSignificantMutations(t)),this.mutations.length?(null!=(n=this.delegate)&&"function"==typeof n.elementDidMutate&&n.elementDidMutate(this.getMutationSummary()),this.reset()):void 0},e.prototype.reset=function(){return this.mutations=[]},e.prototype.findSignificantMutations=function(t){var e,n,i,o;for(o=[],e=0,n=t.length;e<n;e++)i=t[e],this.mutationIsSignificant(i)&&o.push(i);return o},e.prototype.mutationIsSignificant=function(t){var e,n,i,o;for(e=0,n=(o=this.nodesModifiedByMutation(t)).length;e<n;e++)if(i=o[e],this.nodeIsSignificant(i))return!0;return!1},e.prototype.nodeIsSignificant=function(t){return t!==this.element&&!this.nodeIsMutable(t)&&!a(t)},e.prototype.nodeIsMutable=function(t){return r(t,{matchingSelector:i})},e.prototype.nodesModifiedByMutation=function(t){var e;switch(e=[],t.type){case"attributes":t.attributeName!==n&&e.push(t.target);break;case"characterData":e.push(t.target.parentNode),e.push(t.target);break;case"childList":e.push.apply(e,t.addedNodes),e.push.apply(e,t.removedNodes)}return e},e.prototype.getMutationSummary=function(){return this.getTextMutationSummary()},e.prototype.getTextMutationSummary=function(){var t,e,n,i,o,r,a,s,l,c,u;for(n=(s=this.getTextChangesFromCharacterData()).additions,o=s.deletions,r=0,a=(l=(u=this.getTextChangesFromChildList()).additions).length;r<a;r++)e=l[r],p.call(n,e)<0&&n.push(e);return o.push.apply(o,u.deletions),c={},(t=n.join(""))&&(c.textAdded=t),(i=o.join(""))&&(c.textDeleted=i),c},e.prototype.getMutationsByType=function(t){var e,n,i,o,r;for(r=[],e=0,n=(o=this.mutations).length;e<n;e++)(i=o[e]).type===t&&r.push(i);return r},e.prototype.getTextChangesFromChildList=function(){var t,e,i,n,o,r,a,s,l,c;for(t=[],a=[],e=0,n=(r=this.getMutationsByType("childList")).length;e<n;e++)o=r[e],t.push.apply(t,o.addedNodes),a.push.apply(a,o.removedNodes);return 0===t.length&&1===a.length&&d(a[0])?(l=[],c=["\n"]):(l=u(t),c=u(a)),{additions:function(){var t,e,n;for(n=[],i=t=0,e=l.length;t<e;i=++t)(s=l[i])!==c[i]&&n.push(h(s));return n}(),deletions:function(){var t,e,n;for(n=[],i=t=0,e=c.length;t<e;i=++t)(s=c[i])!==l[i]&&n.push(h(s));return n}()}},e.prototype.getTextChangesFromCharacterData=function(){var t,e,n,i,o,r,a,s;return(e=this.getMutationsByType("characterData")).length&&(s=e[0],n=e[e.length-1],o=h(s.oldValue),i=h(n.target.data),t=(r=l(o,i)).added,a=r.removed),{additions:t?[t]:[],deletions:a?[a]:[]}},u=function(t){var e,n,i,o;for(null==t&&(t=[]),o=[],e=0,n=t.length;e<n;e++)switch(i=t[e],i.nodeType){case Node.TEXT_NODE:o.push(i.data);break;case Node.ELEMENT_NODE:"br"===s(i)?o.push("\n"):o.push.apply(o,u(i.childNodes))}return o},e}(K.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.FileVerificationOperation=function(t){function e(t){this.file=t}return n(e,t),e.prototype.perform=function(e){var n,i;return(n=new FileReader).onerror=function(){return e(!1)},n.onload=(i=this,function(){n.onerror=null;try{n.abort()}catch(t){}return e(!0,i.file)}),n.readAsArrayBuffer(this.file)},e}(K.Operation)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.CompositionInput=function(t){function e(t){var e;this.inputController=t,e=this.inputController,this.responder=e.responder,this.delegate=e.delegate,this.inputSummary=e.inputSummary,this.data={}}return n(e,t),e.prototype.start=function(t){var e,n;return this.data.start=t,"keypress"===this.inputSummary.eventName&&this.inputSummary.textAdded&&null!=(e=this.responder)&&e.deleteInDirection("left"),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null!=(n=this.responder)?n.getSelectedRange():void 0},e.prototype.update=function(t){var e;return this.data.update=t,(e=this.selectPlaceholder())?(this.forgetPlaceholder(),this.range=e):void 0},e.prototype.end=function(t){var e,n,i,o;return this.data.end=t,this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0}),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.setSelectedRange(this.range),null!=(i=this.responder)&&i.insertString(this.data.end),null!=(o=this.responder)?o.setSelectedRange(this.range[0]+this.data.end.length):void 0):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0},e.prototype.getEndData=function(){return this.data.end},e.prototype.isEnded=function(){return null!=this.getEndData()},e.prototype.canApplyToDocument=function(){var t,e;return 0===(null!=(t=this.data.start)?t.length:void 0)&&0<(null!=(e=this.data.end)?e.length:void 0)&&null!=this.range},e.proxyMethod("inputController.setInputSummary"),e.proxyMethod("inputController.requestRender"),e.proxyMethod("inputController.requestReparse"),e.proxyMethod("responder?.selectionIsExpanded"),e.proxyMethod("responder?.insertPlaceholder"),e.proxyMethod("responder?.selectPlaceholder"),e.proxyMethod("responder?.forgetPlaceholder"),e}(K.BasicObject)}.call(this),function(){var O,i,R,n,o,u,r,a,s,l,k,c,d=function(t,e){function n(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},h={}.hasOwnProperty,_=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=K.handleEvent,s=K.makeElement,o=K.innerElementIsActive,l=K.objectsAreEqual,K.tagName,K.InputController=function(t){function e(t){var e;for(e in this.element=t,this.resetInputSummary(),this.mutationObserver=new K.MutationObserver(this.element),(this.mutationObserver.delegate=this).events)n(e,{onElement:this.element,withCallback:this.handlerFor(e),inPhase:"capturing"})}var I;return d(e,t),I=0,e.keyNames={8:"backspace",9:"tab",13:"return",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},e.prototype.handlerFor=function(e){return n=this,function(t){return n.handleInput(function(){return o(this.element)?void 0:(this.eventName=e,this.events[e].call(this,t))})};var n},e.prototype.setInputSummary=function(t){var e,n;for(e in null==t&&(t={}),this.inputSummary.eventName=this.eventName,t)n=t[e],this.inputSummary[e]=n;return this.inputSummary},e.prototype.resetInputSummary=function(){return this.inputSummary={}},e.prototype.reset=function(){return this.resetInputSummary(),K.selectionChangeObserver.reset()},e.prototype.editorWillSyncDocumentView=function(){return this.mutationObserver.stop()},e.prototype.editorDidSyncDocumentView=function(){return this.mutationObserver.start()},e.prototype.requestRender=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestRender?t.inputControllerDidRequestRender():void 0},e.prototype.requestReparse=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidRequestReparse&&t.inputControllerDidRequestReparse(),this.requestRender()},e.prototype.elementDidMutate=function(t){var e;return this.isComposing()?null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidAllowUnhandledInput?e.inputControllerDidAllowUnhandledInput():void 0:this.handleInput(function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()})},e.prototype.mutationIsExpected=function(t){var e,n,i,o,r,a,s,l,c;return a=t.textAdded,s=t.textDeleted,!!this.inputSummary.preferDocument||(e=null!=a?a===this.inputSummary.textAdded:!this.inputSummary.textAdded,n=null!=s?this.inputSummary.didDelete:!this.inputSummary.didDelete,c="\n"===s&&!n,!!(((l="\n"===a&&!e)&&!c||c&&!l)&&(o=this.getSelectedRange())&&(i=l?-1:1,null!=(r=this.responder)?r.positionIsBlockBreak(o[1]+i):void 0))||e&&n)},e.prototype.mutationIsSignificant=function(t){var e,n,i;return i=0<Object.keys(t).length,e=""===(null!=(n=this.compositionInput)?n.getEndData():void 0),i||!e},e.prototype.attachFiles=function(i){var o,t,e;return t=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(new K.FileVerificationOperation(o));return n}(),Promise.all(t).then((e=this,function(n){return e.handleInput(function(){var t,e;return null!=(t=this.delegate)&&t.inputControllerWillAttachFiles(),null!=(e=this.responder)&&e.insertFiles(n),this.requestRender()})}))},e.prototype.events={keydown:function(o){var t,e,n,i,r,a,s,l,c;if(this.isComposing()||this.resetInputSummary(),i=this.constructor.keyNames[o.keyCode]){for(e=this.keys,n=0,a=(l=["ctrl","alt","shift","meta"]).length;n<a;n++)s=l[n],o[s+"Key"]&&("ctrl"===s&&(s="control"),e=null!=e?e[s]:void 0);null!=(null!=e?e[i]:void 0)&&(this.setInputSummary({keyName:i}),K.selectionChangeObserver.reset(),e[i].call(this,o))}return u(o)&&(t=String.fromCharCode(o.keyCode).toLowerCase())&&((r=function(){var t,e,n,i;for(i=[],t=0,e=(n=["alt","shift"]).length;t<e;t++)s=n[t],o[s+"Key"]&&i.push(s);return i}()).push(t),null!=(c=this.delegate)?c.inputControllerDidReceiveKeyboardCommand(r):void 0)?o.preventDefault():void 0},keypress:function(t){var e,n,i;if(null==this.inputSummary.eventName&&(!t.metaKey&&!t.ctrlKey||t.altKey)&&!a(t)&&!r(t))return null===t.which?e=String.fromCharCode(t.keyCode):0!==t.which&&0!==t.charCode&&(e=String.fromCharCode(t.charCode)),null!=e?(null!=(n=this.delegate)&&n.inputControllerWillPerformTyping(),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput:function(t){var e,n,i,o;return e=t.data,(o=this.inputSummary.textAdded)&&o!==e&&o.toUpperCase()===e?(n=this.getSelectedRange(),this.setSelectedRange([n[0],n[1]+o.length]),null!=(i=this.responder)&&i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(n)):void 0},dragenter:function(t){return t.preventDefault()},dragstart:function(t){var e;return t.target,this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null!=(e=this.delegate)&&"function"==typeof e.inputControllerDidStartDrag?e.inputControllerDidStartDrag():void 0},dragover:function(t){var e,n;return!this.draggedRange&&!this.canAcceptDataTransfer(t.dataTransfer)||(t.preventDefault(),e={x:t.clientX,y:t.clientY},l(e,this.draggingPoint))?void 0:(this.draggingPoint=e,null!=(n=this.delegate)&&"function"==typeof n.inputControllerDidReceiveDragOverPoint?n.inputControllerDidReceiveDragOverPoint(this.draggingPoint):void 0)},dragend:function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.inputControllerDidCancelDrag&&t.inputControllerDidCancelDrag(),this.draggedRange=null,this.draggingPoint=null},drop:function(t){var e,n,i,o,r,a,s,l,c;return t.preventDefault(),i=null!=(r=t.dataTransfer)?r.files:void 0,o={x:t.clientX,y:t.clientY},null!=(a=this.responder)&&a.setLocationRangeFromPointRange(o),(null!=i?i.length:void 0)?this.attachFiles(i):this.draggedRange?(null!=(s=this.delegate)&&s.inputControllerWillMoveText(),null!=(l=this.responder)&&l.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()):(n=t.dataTransfer.getData("application/x-trix-document"))&&(e=K.Document.fromJSONString(n),null!=(c=this.responder)&&c.insertDocument(e),this.requestRender()),this.draggedRange=null,this.draggingPoint=null},cut:function(t){var e;return this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillCutText(),this.deleteInDirection("backward"),t.defaultPrevented?this.requestRender():void 0},copy:function(t){return this.serializeSelectionToDataTransfer(t.clipboardData)?t.preventDefault():void 0},paste:function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E,v,T,y,b,C,D;return r=null!=(s=t.clipboardData)?s:t.testClipboardData,a={paste:r},null==r||k(t)?void this.getPastedHTMLUsingHiddenElement((D=this,function(t){var e,n,i;return a.html=t,null!=(e=D.delegate)&&e.inputControllerWillPasteText(a),null!=(n=D.responder)&&n.insertHTML(t),D.requestRender(),null!=(i=D.delegate)?i.inputControllerDidPaste(a):void 0})):((i=r.getData("URL"))?(C=r.getData("public.url-name")||i,a.string=C,this.setInputSummary({textAdded:C,didDelete:this.selectionIsExpanded()}),null!=(l=this.delegate)&&l.inputControllerWillPasteText(a),null!=(p=this.responder)&&p.insertText(K.Text.textForStringWithAttributes(C,{href:i})),this.requestRender(),null!=(g=this.delegate)&&g.inputControllerDidPaste(a)):O(r)?(C=r.getData("text/plain"),a.string=C,this.setInputSummary({textAdded:C,didDelete:this.selectionIsExpanded()}),null!=(m=this.delegate)&&m.inputControllerWillPasteText(a),null!=(E=this.responder)&&E.insertString(C),this.requestRender(),null!=(v=this.delegate)&&v.inputControllerDidPaste(a)):(o=r.getData("text/html"))?(a.html=o,null!=(T=this.delegate)&&T.inputControllerWillPasteText(a),null!=(y=this.responder)&&y.insertHTML(o),this.requestRender(),null!=(b=this.delegate)&&b.inputControllerDidPaste(a)):0<=_.call(r.types,"Files")&&(n=null!=(c=r.items)&&null!=(u=c[0])&&"function"==typeof u.getAsFile?u.getAsFile():void 0)&&(!n.name&&(e=R(n))&&(n.name="pasted-file-"+ ++I+"."+e),a.file=n,null!=(d=this.delegate)&&d.inputControllerWillAttachFiles(),null!=(h=this.responder)&&h.insertFile(n),this.requestRender(),null!=(f=this.delegate)&&f.inputControllerDidPaste(a)),t.preventDefault())},compositionstart:function(t){return this.getCompositionInput().start(t.data)},compositionupdate:function(t){return this.getCompositionInput().update(t.data)},compositionend:function(t){return this.getCompositionInput().end(t.data)},input:function(t){return t.stopPropagation()}},e.prototype.keys={backspace:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},"delete":function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},"return":function(){var t,e;return this.setInputSummary({preferDocument:!0}),null!=(t=this.delegate)&&t.inputControllerWillPerformTyping(),null!=(e=this.responder)?e.insertLineBreak():void 0},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canIncreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.increaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("backward"):void 0):void 0},right:function(t){var e;return this.selectionIsInCursorTarget()?(t.preventDefault(),null!=(e=this.responder)?e.moveCursorInDirection("forward"):void 0):void 0},control:{d:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",t)},h:function(t){var e;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",t)},o:function(t){var e,n;return t.preventDefault(),null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n",{updatePosition:!1}),this.requestRender()}},shift:{"return":function(t){var e,n;return null!=(e=this.delegate)&&e.inputControllerWillPerformTyping(),null!=(n=this.responder)&&n.insertString("\n"),this.requestRender(),t.preventDefault()},tab:function(t){var e,n;return(null!=(e=this.responder)?e.canDecreaseNestingLevel():void 0)?(null!=(n=this.responder)&&n.decreaseNestingLevel(),this.requestRender(),t.preventDefault()):void 0},left:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("backward")):void 0},right:function(t){return this.selectionIsInCursorTarget()?(t.preventDefault(),this.expandSelectionInDirection("forward")):void 0}},alt:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}},meta:{backspace:function(){var t;return this.setInputSummary({preferDocument:!1}),null!=(t=this.delegate)?t.inputControllerWillPerformTyping():void 0}}},e.prototype.handleInput=function(t){var e,n;try{return null!=(e=this.delegate)&&e.inputControllerWillHandleInput(),t.call(this)}finally{null!=(n=this.delegate)&&n.inputControllerDidHandleInput()}},e.prototype.getCompositionInput=function(){return this.isComposing()?this.compositionInput:this.compositionInput=new K.CompositionInput(this)},e.prototype.isComposing=function(){return null!=this.compositionInput&&!this.compositionInput.isEnded()},e.prototype.deleteInDirection=function(t,e){var n;return!1!==(null!=(n=this.responder)?n.deleteInDirection(t):void 0)?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0},e.prototype.serializeSelectionToDataTransfer=function(t){var e,n;if(i(t))return e=null!=(n=this.responder)?n.getSelectedDocument().toSerializableDocument():void 0,t.setData("application/x-trix-document",JSON.stringify(e)),t.setData("text/html",K.DocumentView.render(e).innerHTML),t.setData("text/plain",e.toString().replace(/\n$/,"")),!0},e.prototype.canAcceptDataTransfer=function(t){var e,n,i,o,r;for(r={},e=0,n=(o=null!=(i=null!=t?t.types:void 0)?i:[]).length;e<n;e++)r[o[e]]=!0;return r.Files||r["application/x-trix-document"]||r["text/html"]||r["text/plain"]},
e.prototype.getPastedHTMLUsingHiddenElement=function(e){var n,i,t,o;return i=this.getSelectedRange(),t={position:"absolute",left:window.pageXOffset+"px",top:window.pageYOffset+"px",opacity:0},n=s({style:t,tagName:"div",editable:!0}),document.body.appendChild(n),n.focus(),requestAnimationFrame((o=this,function(){var t;return t=n.innerHTML,document.body.removeChild(n),o.setSelectedRange(i),e(t)}))},e.proxyMethod("responder?.getSelectedRange"),e.proxyMethod("responder?.setSelectedRange"),e.proxyMethod("responder?.expandSelectionInDirection"),e.proxyMethod("responder?.selectionIsInCursorTarget"),e.proxyMethod("responder?.selectionIsExpanded"),e}(K.BasicObject),R=function(t){var e,n;return null!=(e=t.type)&&null!=(n=e.match(/\/(\w+)$/))?n[1]:void 0},a=function(t){return t.metaKey&&t.altKey&&!t.shiftKey&&94===t.keyCode},r=function(t){return t.metaKey&&t.altKey&&t.shiftKey&&9674===t.keyCode},u=function(t){return/Mac|^iP/.test(navigator.platform)?t.metaKey:t.ctrlKey},k=function(t){var e,n;return(n=null!=(e=t.clipboardData)?e.types:void 0)?_.call(n,"text/html")<0&&(0<=_.call(n,"com.apple.webarchive")||0<=_.call(n,"com.apple.flat-rtfd")):void 0},O=function(t){var e,n,i;return i=t.getData("text/plain"),n=t.getData("text/html"),i&&n?((e=s("div")).innerHTML=n,e.textContent===i?!e.querySelector(":not(meta)"):void 0):null!=i?i.length:void 0},c={"application/x-trix-feature-detection":"test"},i=function(t){var e,n;if(null!=(null!=t?t.setData:void 0)){for(e in c)if(n=c[e],t.setData(e,n),t.getData(e)!==n)return;return!0}}}.call(this),function(){var r,a,i,s,l,o,c=function(t,e){return function(){return t.apply(e,arguments)}},u=function(t,e){function n(){this.constructor=t}for(var i in e)d.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;a=K.handleEvent,l=K.makeElement,o=K.tagName,i=K.InputController.keyNames,s=K.config.lang,r=K.config.css.classNames,K.AttachmentEditorController=function(t){function e(t,e,n){this.attachmentPiece=t,this.element=e,this.container=n,this.uninstall=c(this.uninstall,this),this.didKeyDownCaption=c(this.didKeyDownCaption,this),this.didChangeCaption=c(this.didChangeCaption,this),this.didClickCaption=c(this.didClickCaption,this),this.didClickRemoveButton=c(this.didClickRemoveButton,this),this.attachment=this.attachmentPiece.attachment,"a"===o(this.element)&&(this.element=this.element.firstChild),this.install()}var n;return u(e,t),n=function(e){return function(){var t;return(t=e.apply(this,arguments))["do"](),null==this.undos&&(this.undos=[]),this.undos.push(t.undo)}},e.prototype.install=function(){return this.makeElementMutable(),this.attachment.isPreviewable()&&this.makeCaptionEditable(),this.addRemoveButton()},e.prototype.makeElementMutable=n(function(){return{"do":(e=this,function(){return e.element.dataset.trixMutable=!0}),undo:(t=this,function(){return delete t.element.dataset.trixMutable})};var t,e}),e.prototype.makeCaptionEditable=n(function(){var t,e,n;return t=this.element.querySelector("figcaption"),e=null,{"do":(n=this,function(){return e=a("click",{onElement:t,withCallback:n.didClickCaption,inPhase:"capturing"})}),undo:function(){return e.destroy()}}}),e.prototype.addRemoveButton=n(function(){var t,e,n;return t=l({tagName:"button",textContent:s.remove,className:r.attachment.removeButton,attributes:{type:"button",title:s.remove},data:{trixMutable:!0}}),a("click",{onElement:t,withCallback:this.didClickRemoveButton}),{"do":(n=this,function(){return n.element.appendChild(t)}),undo:(e=this,function(){return e.element.removeChild(t)})}}),e.prototype.editCaption=n(function(){var t,e,n,i,o;return(i=l({tagName:"textarea",className:r.attachment.captionEditor,attributes:{placeholder:s.captionPlaceholder}})).value=this.attachmentPiece.getCaption(),(o=i.cloneNode()).classList.add("trix-autoresize-clone"),t=function(){return o.value=i.value,i.style.height=o.scrollHeight+"px"},a("input",{onElement:i,withCallback:t}),a("keydown",{onElement:i,withCallback:this.didKeyDownCaption}),a("change",{onElement:i,withCallback:this.didChangeCaption}),a("blur",{onElement:i,withCallback:this.uninstall}),n=this.element.querySelector("figcaption"),e=n.cloneNode(),{"do":function(){return n.style.display="none",e.appendChild(i),e.appendChild(o),e.classList.add(r.attachment.editingCaption),n.parentElement.insertBefore(e,n),t(),i.focus()},undo:function(){return e.parentNode.removeChild(e),n.style.display=null}}}),e.prototype.didClickRemoveButton=function(t){var e;return t.preventDefault(),t.stopPropagation(),null!=(e=this.delegate)?e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment):void 0},e.prototype.didClickCaption=function(t){return t.preventDefault(),this.editCaption()},e.prototype.didChangeCaption=function(t){var e,n,i;return(e=t.target.value.replace(/\s/g," ").trim())?null!=(n=this.delegate)&&"function"==typeof n.attachmentEditorDidRequestUpdatingAttributesForAttachment?n.attachmentEditorDidRequestUpdatingAttributesForAttachment({caption:e},this.attachment):void 0:null!=(i=this.delegate)&&"function"==typeof i.attachmentEditorDidRequestRemovingAttributeForAttachment?i.attachmentEditorDidRequestRemovingAttributeForAttachment("caption",this.attachment):void 0},e.prototype.didKeyDownCaption=function(t){var e;return"return"===i[t.keyCode]?(t.preventDefault(),this.didChangeCaption(t),null!=(e=this.delegate)&&"function"==typeof e.attachmentEditorDidRequestDeselectingAttachment?e.attachmentEditorDidRequestDeselectingAttachment(this.attachment):void 0):void 0},e.prototype.uninstall=function(){for(var t,e;e=this.undos.pop();)e();return null!=(t=this.delegate)?t.didUninstallAttachmentEditor(this):void 0},e}(K.BasicObject)}.call(this),function(){var d,n,h,f,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;h=K.makeElement,f=K.selectionElements,d=K.config.css.classNames,K.AttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment=this.object,(this.attachment.uploadProgressDelegate=this).attachmentPiece=this.options.piece}return i(e,t),e.attachmentSelector="[data-trix-attachment]",e.prototype.createContentNodes=function(){return[]},e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s,l,c,u;if(i=h({tagName:"figure",className:this.getClassName()}),this.attachment.hasContent())i.innerHTML=this.attachment.getContent();else for(r=0,s=(c=this.createContentNodes()).length;r<s;r++)l=c[r],i.appendChild(l);for(a in i.appendChild(this.createCaptionElement()),e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},(t=this.attachmentPiece.getAttributesForAttachment()).isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(this.progressElement=h({tagName:"progress",attributes:{"class":d.attachment.progressBar,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),i.appendChild(this.progressElement),e.trixSerialize=!1),(o=this.getHref())?(n=h("a",{href:o})).appendChild(i):n=i,e)u=e[a],n.dataset[a]=u;return n.setAttribute("contenteditable",!1),[f.create("cursorTarget"),n,f.create("cursorTarget")]},e.prototype.createCaptionElement=function(){var t,e,n,i,o;return e=h({tagName:"figcaption",className:d.attachment.caption}),(t=this.attachmentPiece.getCaption())?(e.classList.add(d.attachment.captionEdited),e.textContent=t):(n=this.attachment.getFilename())&&(e.textContent=n,(i=this.attachment.getFormattedFilesize())&&(e.appendChild(document.createTextNode(" ")),o=h({tagName:"span",className:d.attachment.size,textContent:i}),e.appendChild(o))),e},e.prototype.getClassName=function(){var t,e;return e=[d.attachment.container,""+d.attachment.typePrefix+this.attachment.getType()],(t=this.attachment.getExtension())&&e.push(t),e.join(" ")},e.prototype.getHref=function(){return n(this.attachment.getContent(),"a")?void 0:this.attachment.getHref()},e.prototype.findProgressElement=function(){var t;return null!=(t=this.findElement())?t.querySelector("progress"):void 0},e.prototype.attachmentDidChangeUploadProgress=function(){var t,e;return e=this.attachment.getUploadProgress(),null!=(t=this.findProgressElement())?t.value=e:void 0},e}(K.ObjectView),n=function(t,e){var n;return(n=h("div")).innerHTML=null!=t?t:"",n.querySelector(e)}}.call(this),function(){var n,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;n=K.makeElement,K.PreviewableAttachmentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.attachment.previewDelegate=this}return i(e,t),e.prototype.createContentNodes=function(){return this.image=n({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]},e.prototype.refresh=function(t){var e;return null==t&&(t=null!=(e=this.findElement())?e.querySelector("img"):void 0),t?this.updateAttributesForImage(t):void 0},e.prototype.updateAttributesForImage=function(t){var e,n,i,o,r,a;return r=this.attachment.getURL(),n=this.attachment.getPreviewURL(),t.src=n||r,n===r?t.removeAttribute("data-trix-serialized-attributes"):(i=JSON.stringify({src:r}),t.setAttribute("data-trix-serialized-attributes",i)),a=this.attachment.getWidth(),e=this.attachment.getHeight(),null!=a&&(t.width=a),null!=e&&(t.height=e),o=["imageElement",this.attachment.id,t.src,t.width,t.height].join("/"),t.dataset.trixStoreKey=o},e.prototype.attachmentDidChangePreviewURL=function(){return this.refresh(this.image),this.refresh()},e}(K.AttachmentView)}.call(this),function(){var a,l,c,i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;c=K.makeElement,a=K.findInnerElement,l=K.getTextConfig,K.PieceView=function(t){function e(){var t;e.__super__.constructor.apply(this,arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),t=this.options,this.textConfig=t.textConfig,this.context=t.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}var n;return i(e,t),e.prototype.createNodes=function(){var t,e,n,i,o,r;if(r=this.attachment?this.createAttachmentNodes():this.createStringNodes(),t=this.createElement()){for(n=a(t),e=0,i=r.length;e<i;e++)o=r[e],n.appendChild(o);r=[t]}return r},e.prototype.createAttachmentNodes=function(){var t;return t=this.attachment.isPreviewable()?K.PreviewableAttachmentView:K.AttachmentView,this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()},e.prototype.createStringNodes=function(){var t,e,n,i,o,r,a,s,l;if(null!=(a=this.textConfig)?a.plaintext:void 0)return[document.createTextNode(this.string)];for(r=[],n=e=0,i=(s=this.string.split("\n")).length;e<i;n=++e)l=s[n],0<n&&(t=c("br"),r.push(t)),l.length&&(o=document.createTextNode(this.preserveSpaces(l)),r.push(o));return r},e.prototype.createElement=function(){var t,e,n,i,o,r,a,s;for(i in this.attributes)if((t=l(i))&&(t.tagName&&(o=c(t.tagName),n?(n.appendChild(o),n=o):e=n=o),t.style))if(a)for(i in r=t.style)s=r[i],a[i]=s;else a=t.style;if(a)for(i in null==e&&(e=c("span")),a)s=a[i],e.style[i]=s;return e},e.prototype.createContainerElement=function(){var t,e,n,i,o;for(n in i=this.attributes)if(o=i[n],(e=l(n))&&e.groupTagName)return(t={})[n]=o,c(e.groupTagName,t)},n=K.NON_BREAKING_SPACE,e.prototype.preserveSpaces=function(t){return this.context.isLast&&(t=t.replace(/\ $/,n)),t=t.replace(/(\S)\ {3}(\S)/g,"$1 "+n+" $2").replace(/\ {2}/g,n+" ").replace(/\ {2}/g," "+n),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\ /,n)),t},e}(K.ObjectView)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.TextView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.text=this.object,this.textConfig=this.options.textConfig}var u;return n(e,t),e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s,l,c;for(r=[],i=(s=K.ObjectGroup.groupObjects(this.getPieces())).length-1,n=e=0,o=s.length;e<o;n=++e)a=s[n],t={},0===n&&(t.isFirst=!0),n===i&&(t.isLast=!0),u(l)&&(t.followsWhitespace=!0),c=this.findOrCreateCachedChildView(K.PieceView,a,{textConfig:this.textConfig,context:t}),r.push.apply(r,c.getNodes()),l=a;return r},e.prototype.getPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.text.getPieces()).length;t<e;t++)(n=i[t]).hasAttribute("blockBreak")||o.push(n);return o},u=function(t){return/\s$/.test(null!=t?t.toString():void 0)},e}(K.ObjectView)}.call(this),function(){var l,c,n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;c=K.makeElement,l=K.getBlockConfig,K.BlockView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.block=this.object,this.attributes=this.block.getAttributes()}return n(e,t),e.prototype.createNodes=function(){var t,e,n,i,o,r,a,s;if(o=[document.createComment("block")],this.block.isEmpty()?o.push(c("br")):(a=null!=(r=l(this.block.getLastAttribute()))?r.text:void 0,s=this.findOrCreateCachedChildView(K.TextView,this.block.text,{textConfig:a}),o.push.apply(o,s.getNodes()),this.shouldAddExtraNewlineElement()&&o.push(c("br"))),this.attributes.length)return o;for(t=c(K.config.blockAttributes["default"].tagName),e=0,n=o.length;e<n;e++)i=o[e],t.appendChild(i);return[t]},e.prototype.createContainerElement=function(t){var e,n;return e=this.attributes[t],n=l(e),c(n.tagName)},e.prototype.shouldAddExtraNewlineElement=function(){return/\n\n$/.test(this.block.toString())},e}(K.ObjectView)}.call(this),function(){var o,s,r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;o=K.defer,s=K.makeElement,K.DocumentView=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.element=this.options.element,this.elementStore=new K.ElementStore,this.setDocument(this.object)}var n,u,i;return r(e,t),e.render=function(t){var e,n;return(n=new this(t,{element:e=s("div")})).render(),n.sync(),e},e.prototype.setDocument=function(t){return t.isEqualTo(this.document)?void 0:this.document=this.object=t},e.prototype.render=function(){var t,e,o,n,i,r,a;if(this.childViews=[],this.shadowElement=s("div"),!this.document.isEmpty()){for(r=[],t=0,e=(i=K.ObjectGroup.groupObjects(this.document.getBlocks(),{asTree:!0})).length;t<e;t++)n=i[t],a=this.findOrCreateCachedChildView(K.BlockView,n),r.push(function(){var t,e,n,i;for(i=[],t=0,e=(n=a.getNodes()).length;t<e;t++)o=n[t],i.push(this.shadowElement.appendChild(o));return i}.call(this));return r}},e.prototype.isSynced=function(){return n(this.shadowElement,this.element)},e.prototype.sync=function(){var t;for(t=this.createDocumentFragmentForSync();this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()},e.prototype.didSync=function(){return this.elementStore.reset(u(this.element)),o((t=this,function(){return t.garbageCollectCachedViews()}));var t},e.prototype.createDocumentFragmentForSync=function(){var t,e,n,i,o,r,a,s,l,c;for(e=document.createDocumentFragment(),n=0,o=(s=this.shadowElement.childNodes).length;n<o;n++)a=s[n],e.appendChild(a.cloneNode(!0));for(i=0,r=(l=u(e)).length;i<r;i++)t=l[i],(c=this.elementStore.remove(t))&&t.parentNode.replaceChild(c,t);return e},u=function(t){return t.querySelectorAll("[data-trix-store-key]")},n=function(t,e){return i(t.innerHTML)===i(e.innerHTML)},i=function(t){return t.replace(/&nbsp;/g," ")},e}(K.ObjectView)}.call(this),function(){var n,i,o,r,a=function(t,e){return function(){return t.apply(e,arguments)}},s=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=K.handleEvent,r=K.innerElementIsActive,i=K.defer,n=K.AttachmentView.attachmentSelector,K.CompositionController=function(t){function e(t,e){this.element=t,this.composition=e,this.didClickAttachment=a(this.didClickAttachment,this),this.didBlur=a(this.didBlur,this),this.didFocus=a(this.didFocus,this),this.documentView=new K.DocumentView(this.composition.document,{element:this.element}),o("focus",{onElement:this.element,withCallback:this.didFocus}),o("blur",{onElement:this.element,withCallback:this.didBlur}),o("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),o("mousedown",{onElement:this.element,matchingSelector:n,withCallback:this.didClickAttachment}),o("click",{onElement:this.element,matchingSelector:"a"+n,preventDefault:!0})}return s(e,t),e.prototype.didFocus=function(){var t,e,n,i;return t=function(){var t;return i.focused?void 0:(i.focused=!0,null!=(t=i.delegate)&&"function"==typeof t.compositionControllerDidFocus?t.compositionControllerDidFocus():void 0)},null!=(e=null!=(n=(i=this).blurPromise)?n.then(t):void 0)?e:t()},e.prototype.didBlur=function(){return this.blurPromise=new Promise((n=this,function(e){return i(function(){var t;return r(n.element)||(n.focused=null)!=(t=n.delegate)&&"function"==typeof t.compositionControllerDidBlur&&t.compositionControllerDidBlur(),n.blurPromise=null,e()})}));var n},e.prototype.didClickAttachment=function(t,e){var n,i;return n=this.findAttachmentForElement(e),null!=(i=this.delegate)&&"function"==typeof i.compositionControllerDidSelectAttachment?i.compositionControllerDidSelectAttachment(n):void 0},e.prototype.render=function(){var t,e,n;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.documentView.isSynced()||(null!=(t=this.delegate)&&"function"==typeof t.compositionControllerWillSyncDocumentView&&t.compositionControllerWillSyncDocumentView(),this.documentView.sync(),this.reinstallAttachmentEditor(),null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidSyncDocumentView&&e.compositionControllerDidSyncDocumentView()),null!=(n=this.delegate)&&"function"==typeof n.compositionControllerDidRender?n.compositionControllerDidRender():void 0},e.prototype.rerenderViewForObject=function(t){return this.invalidateViewForObject(t),this.render()},e.prototype.invalidateViewForObject=function(t){return this.documentView.invalidateViewForObject(t)},e.prototype.isViewCachingEnabled=function(){return this.documentView.isViewCachingEnabled()},e.prototype.enableViewCaching=function(){return this.documentView.enableViewCaching()},e.prototype.disableViewCaching=function(){return this.documentView.disableViewCaching()},e.prototype.refreshViewCache=function(){return this.documentView.garbageCollectCachedViews()},e.prototype.installAttachmentEditorForAttachment=function(t){var e,n,i;if((null!=(i=this.attachmentEditor)?i.attachment:void 0)!==t&&(n=this.documentView.findElementForObject(t)))return this.uninstallAttachmentEditor(),e=this.composition.document.getAttachmentPieceForAttachment(t),this.attachmentEditor=new K.AttachmentEditorController(e,n,this.element),this.attachmentEditor.delegate=this},e.prototype.uninstallAttachmentEditor=function(){var t;return null!=(t=this.attachmentEditor)?t.uninstall():void 0},e.prototype.reinstallAttachmentEditor=function(){var t;return this.attachmentEditor?(t=this.attachmentEditor.attachment,this.uninstallAttachmentEditor(),this.installAttachmentEditorForAttachment(t)):void 0},e.prototype.editAttachmentCaption=function(){var t;return null!=(t=this.attachmentEditor)?t.editCaption():void 0},e.prototype.didUninstallAttachmentEditor=function(){return this.attachmentEditor=null,this.render()},e.prototype.attachmentEditorDidRequestUpdatingAttributesForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.updateAttributesForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovingAttributeForAttachment=function(t,e){var n;return null!=(n=this.delegate)&&"function"==typeof n.compositionControllerWillUpdateAttachment&&n.compositionControllerWillUpdateAttachment(e),this.composition.removeAttributeForAttachment(t,e)},e.prototype.attachmentEditorDidRequestRemovalOfAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestRemovalOfAttachment?e.compositionControllerDidRequestRemovalOfAttachment(t):void 0},e.prototype.attachmentEditorDidRequestDeselectingAttachment=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionControllerDidRequestDeselectingAttachment?e.compositionControllerDidRequestDeselectingAttachment(t):void 0},e.prototype.findAttachmentForElement=function(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))},e}(K.BasicObject)}.call(this),function(){var f,p,g,m=function(t,e){return function(){return t.apply(e,arguments)}},E=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;p=K.handleEvent,g=K.triggerEvent,f=K.findClosestElementFromNode,K.ToolbarController=function(t){function e(t){this.element=t,this.didKeyDownDialogInput=m(this.didKeyDownDialogInput,this),this.didClickDialogButton=m(this.didClickDialogButton,this),this.didClickAttributeButton=m(this.didClickAttributeButton,this),this.didClickActionButton=m(this.didClickActionButton,this),this.attributes={},this.actions={},this.resetDialogInputs(),p("mousedown",{onElement:this.element,matchingSelector:a,withCallback:this.didClickActionButton}),p("mousedown",{onElement:this.element,matchingSelector:s,withCallback:this.didClickAttributeButton}),p("click",{onElement:this.element,matchingSelector:h,preventDefault:!0}),p("click",{onElement:this.element,matchingSelector:i,withCallback:this.didClickDialogButton}),p("keydown",{onElement:this.element,matchingSelector:r,withCallback:this.didKeyDownDialogInput})}var a,n,s,i,r,o,l,u,c,d,h;return E(e,t),h=[a="button[data-trix-action]",s="button[data-trix-attribute]"].join(", "),n=(o=".dialog[data-trix-dialog]")+".active",i=o+" input[data-trix-method]",r=o+" input[type=text], "+o+" input[type=url]",e.prototype.didClickActionButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=l(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)?o.toolbarDidInvokeAction(n):void 0},e.prototype.didClickAttributeButton=function(t,e){var n,i,o;return null!=(i=this.delegate)&&i.toolbarDidClickButton(),t.preventDefault(),n=u(e),this.getDialog(n)?this.toggleDialog(n):null!=(o=this.delegate)&&o.toolbarDidToggleAttribute(n),this.refreshAttributeButtons()},e.prototype.didClickDialogButton=function(t,e){var n;return n=f(e,{matchingSelector:o}),this[e.getAttribute("data-trix-method")].call(this,n)},e.prototype.didKeyDownDialogInput=function(t,e){var n,i;return 13===t.keyCode&&(t.preventDefault(),n=e.getAttribute("name"),i=this.getDialog(n),this.setAttribute(i)),27===t.keyCode?(t.preventDefault(),this.hideDialog()):void 0},e.prototype.updateActions=function(t){return this.actions=t,this.refreshActionButtons()},e.prototype.refreshActionButtons=function(){return this.eachActionButton((n=this,function(t,e){return t.disabled=!1===n.actions[e]}));var n},e.prototype.eachActionButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(a)).length;n<i;n++)e=o[n],r.push(t(e,l(e)));return r},e.prototype.updateAttributes=function(t){return this.attributes=t,this.refreshAttributeButtons()},e.prototype.refreshAttributeButtons=function(){return this.eachAttributeButton((n=this,function(t,e){return t.disabled=!1===n.attributes[e],n.attributes[e]||n.dialogIsVisible(e)?t.classList.add("active"):t.classList.remove("active")}));var n},e.prototype.eachAttributeButton=function(t){var e,n,i,o,r;for(r=[],n=0,i=(o=this.element.querySelectorAll(s)).length;n<i;n++)e=o[n],r.push(t(e,u(e)));return r},e.prototype.applyKeyboardCommand=function(t){var e,n,i,o,r,a;for(o=JSON.stringify(t.sort()),i=0,r=(a=this.element.querySelectorAll("[data-trix-key]")).length;i<r;i++)if(n=(e=a[i]).getAttribute("data-trix-key").split("+"),JSON.stringify(n.sort())===o)return g("mousedown",{onElement:e}),!0;return!1},e.prototype.dialogIsVisible=function(t){var e;return(e=this.getDialog(t))?e.classList.contains("active"):void 0},e.prototype.toggleDialog=function(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)},e.prototype.showDialog=function(t){var e,n,i,o,r,a,s,l,c;for(this.hideDialog(),null!=(a=this.delegate)&&a.toolbarWillShowDialog(),(n=this.getDialog(t)).classList.add("active"),i=0,r=(s=n.querySelectorAll("input[disabled]")).length;i<r;i++)s[i].removeAttribute("disabled");return(e=u(n))&&(o=d(n,t))&&(o.value=null!=(l=this.attributes[e])?l:"",o.select()),null!=(c=this.delegate)?c.toolbarDidShowDialog(t):void 0},e.prototype.setAttribute=function(t){var e,n,i;return e=u(t),(n=d(t,e)).willValidate&&!n.checkValidity()?(n.classList.add("validate"),n.focus()):(null!=(i=this.delegate)&&i.toolbarDidUpdateAttribute(e,n.value),this.hideDialog())},e.prototype.removeAttribute=function(t){var e,n;return e=u(t),null!=(n=this.delegate)&&n.toolbarDidRemoveAttribute(e),this.hideDialog()},e.prototype.hideDialog=function(){var t,e;return(t=this.element.querySelector(n))?(t.classList.remove("active"),this.resetDialogInputs(),null!=(e=this.delegate)?e.toolbarDidHideDialog(c(t)):void 0):void 0},e.prototype.resetDialogInputs=function(){var t,e,n,i,o;for(o=[],t=0,n=(i=this.element.querySelectorAll(r)).length;t<n;t++)(e=i[t]).setAttribute("disabled","disabled"),o.push(e.classList.remove("validate"));return o},e.prototype.getDialog=function(t){return this.element.querySelector(".dialog[data-trix-dialog="+t+"]")},d=function(t,e){return null==e&&(e=u(t)),t.querySelector("input[name='"+e+"']")},l=function(t){return t.getAttribute("data-trix-action")},u=function(t){return t.getAttribute("data-trix-attribute")},c=function(t){return t.getAttribute("data-trix-dialog")},e}(K.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.ImagePreloadOperation=function(t){function e(t){this.url=t}return n(e,t),e.prototype.perform=function(t){var e,n;return(e=new Image).onload=(n=this,function(){return e.width=n.width=e.naturalWidth,e.height=n.height=e.naturalHeight,t(!0,e)}),e.onerror=function(){return t(!1)},e.src=this.url},e}(K.Operation)}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Attachment=function(t){function e(t){null==t&&(t={}),this.releaseFile=n(this.releaseFile,this),e.__super__.constructor.apply(this,arguments),this.attributes=K.Hash.box(t),this.didChangeAttributes()}return i(e,t),e.previewablePattern=/^image(\/(gif|png|jpe?g)|$)/,e.attachmentForFile=function(t){var e;return(e=new this(this.attributesForFile(t))).setFile(t),e},e.attributesForFile=function(t){return new K.Hash({filename:t.name,filesize:t.size,contentType:t.type})},e.fromJSON=function(t){return new this(t)},e.prototype.getAttribute=function(t){return this.attributes.get(t)},e.prototype.hasAttribute=function(t){return this.attributes.has(t)},e.prototype.getAttributes=function(){return this.attributes.toObject()},e.prototype.setAttributes=function(t){var e,n;return null==t&&(t={}),e=this.attributes.merge(t),this.attributes.isEqualTo(e)?void 0:(this.attributes=e,this.didChangeAttributes(),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangeAttributes?n.attachmentDidChangeAttributes(this):void 0)},e.prototype.didChangeAttributes=function(){return this.isPreviewable()?this.preloadURL():void 0},e.prototype.isPending=function(){return null!=this.file&&!(this.getURL()||this.getHref())},e.prototype.isPreviewable=function(){return this.attributes.has("previewable")?this.attributes.get("previewable"):this.constructor.previewablePattern.test(this.getContentType())},e.prototype.getType=function(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"},e.prototype.getURL=function(){return this.attributes.get("url")},e.prototype.getHref=function(){return this.attributes.get("href")},e.prototype.getFilename=function(){var t;return null!=(t=this.attributes.get("filename"))?t:""},e.prototype.getFilesize=function(){return this.attributes.get("filesize")},e.prototype.getFormattedFilesize=function(){var t;return"number"==typeof(t=this.attributes.get("filesize"))?K.config.fileSize.formatter(t):""},e.prototype.getExtension=function(){var t;return null!=(t=this.getFilename().match(/\.(\w+)$/))?t[1].toLowerCase():void 0},e.prototype.getContentType=function(){return this.attributes.get("contentType")},e.prototype.hasContent=function(){return this.attributes.has("content")},e.prototype.getContent=function(){return this.attributes.get("content")},e.prototype.getWidth=function(){return this.attributes.get("width")},e.prototype.getHeight=function(){return this.attributes.get("height")},e.prototype.getFile=function(){return this.file},e.prototype.setFile=function(t){return this.file=t,this.isPreviewable()?this.preloadFile():void 0},e.prototype.releaseFile=function(){return this.releasePreloadedFile(),this.file=null},e.prototype.getUploadProgress=function(){var t;return null!=(t=this.uploadProgress)?t:0},e.prototype.setUploadProgress=function(t){var e;return this.uploadProgress!==t?(this.uploadProgress=t,null!=(e=this.uploadProgressDelegate)&&"function"==typeof e.attachmentDidChangeUploadProgress?e.attachmentDidChangeUploadProgress(this):void 0):void 0},e.prototype.toJSON=function(){return this.getAttributes()},e.prototype.getCacheKey=function(){return[e.__super__.getCacheKey.apply(this,arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")},e.prototype.getPreviewURL=function(){return this.previewURL||this.preloadingURL},e.prototype.setPreviewURL=function(t){var e,n;return t!==this.getPreviewURL()?(this.previewURL=t,null!=(e=this.previewDelegate)&&"function"==typeof e.attachmentDidChangePreviewURL&&e.attachmentDidChangePreviewURL(this),null!=(n=this.delegate)&&"function"==typeof n.attachmentDidChangePreviewURL?n.attachmentDidChangePreviewURL(this):void 0):void 0},e.prototype.preloadURL=function(){return this.preload(this.getURL(),this.releaseFile)},e.prototype.preloadFile=function(){return this.file?(this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)):void 0},e.prototype.releasePreloadedFile=function(){return this.fileObjectURL?(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null):void 0},e.prototype.preload=function(i,o){var r;return i&&i!==this.getPreviewURL()?(this.preloadingURL=i,new K.ImagePreloadOperation(i).then((r=this,function(t){var e,n;return n=t.width,e=t.height,r.setAttributes({width:n,height:e}),r.preloadingURL=null,r.setPreviewURL(i),"function"==typeof o?o():void 0}))):void 0},e}(K.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Piece=function(t){function n(t,e){null==e&&(e={}),n.__super__.constructor.apply(this,arguments),this.attributes=K.Hash.box(e)}return e(n,t),n.types={},n.registerType=function(t,e){return e.type=t,this.types[t]=e},n.fromJSON=function(t){var e;return(e=this.types[t.type])?e.fromJSON(t):void 0},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.getValue(),t)},n.prototype.copyWithAdditionalAttributes=function(t){return this.copyWithAttributes(this.attributes.merge(t))},n.prototype.copyWithoutAttribute=function(t){return this.copyWithAttributes(this.attributes.remove(t))},n.prototype.copy=function(){return this.copyWithAttributes(this.attributes)},n.prototype.getAttribute=function(t){return this.attributes.get(t)},n.prototype.getAttributesHash=function(){return this.attributes},
n.prototype.getAttributes=function(){return this.attributes.toObject()},n.prototype.getCommonAttributes=function(){var e,n,t;return(t=pieceList.getPieceAtIndex(0))?(e=t.attributes,n=e.getKeys(),pieceList.eachPiece(function(t){return n=e.getKeysCommonToHash(t.attributes),e=e.slice(n)}),e.toObject()):{}},n.prototype.hasAttribute=function(t){return this.attributes.has(t)},n.prototype.hasSameStringValueAsPiece=function(t){return null!=t&&this.toString()===t.toString()},n.prototype.hasSameAttributesAsPiece=function(t){return null!=t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))},n.prototype.isBlockBreak=function(){return!1},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)},n.prototype.isEmpty=function(){return 0===this.length},n.prototype.isSerializable=function(){return!0},n.prototype.toJSON=function(){return{type:this.constructor.type,attributes:this.getAttributes()}},n.prototype.contentsForInspection=function(){return{type:this.constructor.type,attributes:this.attributes.inspect()}},n.prototype.canBeGrouped=function(){return this.hasAttribute("href")},n.prototype.canBeGroupedWith=function(t){return this.getAttribute("href")===t.getAttribute("href")},n.prototype.getLength=function(){return this.length},n.prototype.canBeConsolidatedWith=function(){return!1},n}(K.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Piece.registerType("attachment",K.AttachmentPiece=function(t){function n(t){this.attachment=t,n.__super__.constructor.apply(this,arguments),this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href")}return e(n,t),n.fromJSON=function(t){return new this(K.Attachment.fromJSON(t.attachment),t.attributes)},n.prototype.ensureAttachmentExclusivelyHasAttribute=function(t){return this.hasAttribute(t)&&this.attachment.hasAttribute(t)?this.attributes=this.attributes.remove(t):void 0},n.prototype.getValue=function(){return this.attachment},n.prototype.isSerializable=function(){return!this.attachment.isPending()},n.prototype.getCaption=function(){var t;return null!=(t=this.attributes.get("caption"))?t:""},n.prototype.getAttributesForAttachment=function(){return this.attributes.slice(["caption"])},n.prototype.canBeGrouped=function(){return n.__super__.canBeGrouped.apply(this,arguments)&&!this.attachment.hasAttribute("href")},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)&&this.attachment.id===(null!=t&&null!=(e=t.attachment)?e.id:void 0)},n.prototype.toString=function(){return K.OBJECT_REPLACEMENT_CHARACTER},n.prototype.toJSON=function(){var t;return(t=n.__super__.toJSON.apply(this,arguments)).attachment=this.attachment,t},n.prototype.getCacheKey=function(){return[n.__super__.getCacheKey.apply(this,arguments),this.attachment.getCacheKey()].join("/")},n.prototype.toConsole=function(){return JSON.stringify(this.toString())},n}(K.Piece))}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Piece.registerType("string",K.StringPiece=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.string=t,this.length=this.string.length}return n(e,t),e.fromJSON=function(t){return new this(t.string,t.attributes)},e.prototype.getValue=function(){return this.string},e.prototype.toString=function(){return this.string.toString()},e.prototype.isBlockBreak=function(){return"\n"===this.toString()&&!0===this.getAttribute("blockBreak")},e.prototype.toJSON=function(){var t;return(t=e.__super__.toJSON.apply(this,arguments)).string=this.string,t},e.prototype.canBeConsolidatedWith=function(t){return null!=t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)},e.prototype.consolidateWith=function(t){return new this.constructor(this.toString()+t.toString(),this.attributes)},e.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.length?(e=this,n=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),n=new this.constructor(this.string.slice(t),this.attributes)),[e,n]},e.prototype.toConsole=function(){var t;return 15<(t=this.string).length&&(t=t.slice(0,14)+"\u2026"),JSON.stringify(t.toString())},e}(K.Piece))}.call(this),function(){var i,o=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty,l=[].slice;i=K.spliceArray,K.SplittableList=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),this.objects=t.slice(0),this.length=this.objects.length}var a,n,s;return o(e,t),e.box=function(t){return t instanceof this?t:new this(t)},e.prototype.indexOf=function(t){return this.objects.indexOf(t)},e.prototype.splice=function(){var t;return t=1<=arguments.length?l.call(arguments,0):[],new this.constructor(i.apply(null,[this.objects].concat(l.call(t))))},e.prototype.eachObject=function(t){var e,n,i,o,r,a;for(a=[],n=e=0,i=(r=this.objects).length;e<i;n=++e)o=r[n],a.push(t(o,n));return a},e.prototype.insertObjectAtIndex=function(t,e){return this.splice(e,0,t)},e.prototype.insertSplittableListAtIndex=function(t,e){return this.splice.apply(this,[e,0].concat(l.call(t.objects)))},e.prototype.insertSplittableListAtPosition=function(t,e){var n,i,o;return i=(o=this.splitObjectAtPosition(e))[0],n=o[1],new this.constructor(i).insertSplittableListAtIndex(t,n)},e.prototype.editObjectAtIndex=function(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)},e.prototype.replaceObjectAtIndex=function(t,e){return this.splice(e,1,t)},e.prototype.removeObjectAtIndex=function(t){return this.splice(t,1)},e.prototype.getObjectAtIndex=function(t){return this.objects[t]},e.prototype.getSplittableListInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n.slice(e,o+1))},e.prototype.selectSplittableList=function(o){var r,t;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)r=n[t],o(r)&&i.push(r);return i}.call(this),new this.constructor(t)},e.prototype.removeObjectsInRange=function(t){var e,n,i,o;return n=(i=this.splitObjectsAtRange(t))[0],e=i[1],o=i[2],new this.constructor(n).splice(e,o-e+1)},e.prototype.transformObjectsInRange=function(t,i){var o,r,a,s,e,l,n;return e=this.splitObjectsAtRange(t),s=e[0],r=e[1],l=e[2],n=function(){var t,e,n;for(n=[],o=t=0,e=s.length;t<e;o=++t)a=s[o],n.push(r<=o&&o<=l?i(a):a);return n}(),new this.constructor(n)},e.prototype.splitObjectsAtRange=function(t){var e,n,i,o,r;return n=(o=this.splitObjectAtPosition(s(t)))[0],e=o[1],i=o[2],[n=(r=new this.constructor(n).splitObjectAtPosition(a(t)+i))[0],e,r[1]-1]},e.prototype.getObjectAtPosition=function(t){var e,n;return e=(n=this.findIndexAndOffsetAtPosition(t)).index,n.offset,this.objects[e]},e.prototype.splitObjectAtPosition=function(t){var e,n,i,o,r,a,s,l,c;return e=(r=this.findIndexAndOffsetAtPosition(t)).index,o=r.offset,i=this.objects.slice(0),null!=e?0===o?(l=e,c=0):(n=(a=this.getObjectAtIndex(e).splitAtOffset(o))[0],s=a[1],i.splice(e,1,n,s),l=e+1,c=n.getLength()-o):(l=i.length,c=0),[i,l,c]},e.prototype.consolidate=function(){var t,e,n,i,o,r;for(i=[],o=this.objects[0],t=0,e=(r=this.objects.slice(1)).length;t<e;t++)n=r[t],("function"==typeof o.canBeConsolidatedWith?o.canBeConsolidatedWith(n):void 0)?o=o.consolidateWith(n):(i.push(o),o=n);return null!=o&&i.push(o),new this.constructor(i)},e.prototype.consolidateFromIndexToIndex=function(t,e){var n,i;return i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray(),this.splice.apply(this,[t,i.length].concat(l.call(n)))},e.prototype.findIndexAndOffsetAtPosition=function(t){var e,n,i,o,r,a;for(i=n=e=0,o=(a=this.objects).length;n<o;i=++n){if(r=e+a[i].getLength(),e<=t&&t<r)return{index:i,offset:t-e};e=r}return{index:null,offset:null}},e.prototype.findPositionAtIndexAndOffset=function(t,e){var n,i,o,r,a,s;for(n=i=a=0,o=(s=this.objects).length;i<o;n=++i)if(r=s[n],n<t)a+=r.getLength();else if(n===t){a+=e;break}return a},e.prototype.getEndPosition=function(){var i,o;return null!=this.endPosition?this.endPosition:this.endPosition=function(){var t,e,n;for(t=o=0,e=(n=this.objects).length;t<e;t++)i=n[t],o+=i.getLength();return o}.call(this)},e.prototype.toString=function(){return this.objects.join("")},e.prototype.toArray=function(){return this.objects.slice(0)},e.prototype.toJSON=function(){return this.toArray()},e.prototype.isEqualTo=function(t){return e.__super__.isEqualTo.apply(this,arguments)||n(this.objects,null!=t?t.objects:void 0)},n=function(t,e){var n,i,o,r,a;if(null==e&&(e=[]),t.length!==e.length)return!1;for(a=!0,i=n=0,o=t.length;n<o;i=++n)r=t[i],a&&!r.isEqualTo(e[i])&&(a=!1);return a},e.prototype.contentsForInspection=function(){var o;return{objects:"["+function(){var t,e,n,i;for(i=[],t=0,e=(n=this.objects).length;t<e;t++)o=n[t],i.push(o.inspect());return i}.call(this).join(", ")+"]"}},s=function(t){return t[0]},a=function(t){return t[1]},e}(K.Object)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.Text=function(t){function n(i){var o;null==i&&(i=[]),n.__super__.constructor.apply(this,arguments),this.pieceList=new K.SplittableList(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(o=i[t]).isEmpty()||n.push(o);return n}())}return e(n,t),n.textForAttachmentWithAttributes=function(t,e){return new this([new K.AttachmentPiece(t,e)])},n.textForStringWithAttributes=function(t,e){return new this([new K.StringPiece(t,e)])},n.fromJSON=function(i){var o;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(K.Piece.fromJSON(o));return n}())},n.prototype.copy=function(){return this.copyWithPieceList(this.pieceList)},n.prototype.copyWithPieceList=function(t){return new this.constructor(t.consolidate().toArray())},n.prototype.copyUsingObjectMap=function(r){var a,t;return t=function(){var t,e,n,i,o;for(o=[],t=0,e=(n=this.getPieces()).length;t<e;t++)a=n[t],o.push(null!=(i=r.find(a))?i:a);return o}.call(this),new this.constructor(t)},n.prototype.appendText=function(t){return this.insertTextAtPosition(t,this.getLength())},n.prototype.insertTextAtPosition=function(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))},n.prototype.removeTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))},n.prototype.replaceTextAtRange=function(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])},n.prototype.moveTextFromRangeToPosition=function(t,e){var n,i;if(!(t[0]<=e&&e<=t[1]))return n=(i=this.getTextAtRange(t)).getLength(),t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)},n.prototype.addAttributeAtRange=function(t,e,n){var i;return(i={})[t]=e,this.addAttributesAtRange(i,n)},n.prototype.addAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAdditionalAttributes(e)}))},n.prototype.removeAttributeAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithoutAttribute(e)}))},n.prototype.setAttributesAtRange=function(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,function(t){return t.copyWithAttributes(e)}))},n.prototype.getAttributesAtPosition=function(t){var e,n;return null!=(e=null!=(n=this.pieceList.getObjectAtPosition(t))?n.getAttributes():void 0)?e:{}},n.prototype.getCommonAttributes=function(){var t,o;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)o=n[t],i.push(o.getAttributes());return i}.call(this),K.Hash.fromCommonAttributesOfObjects(t).toObject()},n.prototype.getCommonAttributesAtRange=function(t){var e;return null!=(e=this.getTextAtRange(t).getCommonAttributes())?e:{}},n.prototype.getExpandedRangeForAttributeAtOffset=function(t,e){var n,i,o;for(n=o=e,i=this.getLength();0<n&&this.getCommonAttributesAtRange([n-1,o])[t];)n--;for(;o<i&&this.getCommonAttributesAtRange([e,o+1])[t];)o++;return[n,o]},n.prototype.getTextAtRange=function(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))},n.prototype.getStringAtRange=function(t){return this.pieceList.getSplittableListInRange(t).toString()},n.prototype.getStringAtPosition=function(t){return this.getStringAtRange([t,t+1])},n.prototype.startsWithString=function(t){return this.getStringAtRange([0,t.length])===t},n.prototype.endsWithString=function(t){var e;return e=this.getLength(),this.getStringAtRange([e-t.length,e])===t},n.prototype.getAttachmentPieces=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.pieceList.toArray()).length;t<e;t++)null!=(n=i[t]).attachment&&o.push(n);return o},n.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],o.push(n.attachment);return o},n.prototype.getAttachmentAndPositionById=function(t){var e,n,i,o,r,a;for(e=o=0,n=(r=this.pieceList.toArray()).length;e<n;e++){if((null!=(a=(i=r[e]).attachment)?a.id:void 0)===t)return{attachment:i.attachment,position:o};o+=i.length}return{attachment:null,position:null}},n.prototype.getAttachmentById=function(t){var e,n;return e=(n=this.getAttachmentAndPositionById(t)).attachment,n.position,e},n.prototype.getRangeOfAttachment=function(t){var e,n;return t=(n=this.getAttachmentAndPositionById(t.id)).attachment,e=n.position,null!=t?[e,e+1]:void 0},n.prototype.updateAttributesForAttachment=function(t,e){var n;return(n=this.getRangeOfAttachment(e))?this.addAttributesAtRange(t,n):this},n.prototype.getLength=function(){return this.pieceList.getEndPosition()},n.prototype.isEmpty=function(){return 0===this.getLength()},n.prototype.isEqualTo=function(t){var e;return n.__super__.isEqualTo.apply(this,arguments)||(null!=t&&null!=(e=t.pieceList)?e.isEqualTo(this.pieceList):void 0)},n.prototype.isBlockBreak=function(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()},n.prototype.eachPiece=function(t){return this.pieceList.eachObject(t)},n.prototype.getPieces=function(){return this.pieceList.toArray()},n.prototype.getPieceAtPosition=function(t){return this.pieceList.getObjectAtPosition(t)},n.prototype.contentsForInspection=function(){return{pieceList:this.pieceList.inspect()}},n.prototype.toSerializableText=function(){var t;return t=this.pieceList.selectSplittableList(function(t){return t.isSerializable()}),this.copyWithPieceList(t)},n.prototype.toString=function(){return this.pieceList.toString()},n.prototype.toJSON=function(){return this.pieceList.toJSON()},n.prototype.toConsole=function(){var o;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.pieceList.toArray()).length;t<e;t++)o=n[t],i.push(JSON.parse(o.toConsole()));return i}.call(this))},n}(K.Object)}.call(this),function(){var d,h,f,p,g=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,m=[].slice,E=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};d=K.arraysAreEqual,p=K.spliceArray,h=K.getBlockConfig,K.getBlockAttributeNames,f=K.getListAttributeNames,K.Block=function(t){function n(t,e){null==t&&(t=new K.Text),null==e&&(e=[]),n.__super__.constructor.apply(this,arguments),this.text=i(t),this.attributes=e}var e,i,o,r,a,s,l,c,u;return g(n,t),n.fromJSON=function(t){return new this(K.Text.fromJSON(t.text),t.attributes)},n.prototype.isEmpty=function(){return this.text.isBlockBreak()},n.prototype.isEqualTo=function(t){return n.__super__.isEqualTo.apply(this,arguments)||this.text.isEqualTo(null!=t?t.text:void 0)&&d(this.attributes,null!=t?t.attributes:void 0)},n.prototype.copyWithText=function(t){return new this.constructor(t,this.attributes)},n.prototype.copyWithoutText=function(){return this.copyWithText(null)},n.prototype.copyWithAttributes=function(t){return new this.constructor(this.text,t)},n.prototype.copyUsingObjectMap=function(t){var e;return this.copyWithText((e=t.find(this.text))?e:this.text.copyUsingObjectMap(t))},n.prototype.addAttribute=function(t){var e;return e=this.attributes.concat(r(t)),this.copyWithAttributes(e)},n.prototype.removeAttribute=function(t){var e,n;return n=h(t).listAttribute,e=s(s(this.attributes,t),n),this.copyWithAttributes(e)},n.prototype.removeLastAttribute=function(){return this.removeAttribute(this.getLastAttribute())},n.prototype.getLastAttribute=function(){return a(this.attributes)},n.prototype.getAttributes=function(){return this.attributes.slice(0)},n.prototype.getAttributeLevel=function(){return this.attributes.length},n.prototype.getAttributeAtLevel=function(t){return this.attributes[t-1]},n.prototype.hasAttributes=function(){return 0<this.getAttributeLevel()},n.prototype.getLastNestableAttribute=function(){return a(this.getNestableAttributes())},n.prototype.getNestableAttributes=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],h(t).nestable&&o.push(t);return o},n.prototype.getNestingLevel=function(){return this.getNestableAttributes().length},n.prototype.decreaseNestingLevel=function(){var t;return(t=this.getLastNestableAttribute())?this.removeAttribute(t):this},n.prototype.increaseNestingLevel=function(){var t,e,n;return(t=this.getLastNestableAttribute())?(n=this.attributes.lastIndexOf(t),e=p.apply(null,[this.attributes,n+1,0].concat(m.call(r(t)))),this.copyWithAttributes(e)):this},n.prototype.getListItemAttributes=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.attributes).length;e<n;e++)t=i[e],h(t).listAttribute&&o.push(t);return o},n.prototype.isListItem=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.listAttribute:void 0},n.prototype.isTerminalBlock=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.terminal:void 0},n.prototype.breaksOnReturn=function(){var t;return null!=(t=h(this.getLastAttribute()))?t.breakOnReturn:void 0},n.prototype.findLineBreakInDirectionFromPosition=function(t,e){var n,i;return i=this.toString(),-1!==(n=function(){switch(t){case"forward":return i.indexOf("\n",e);case"backward":return i.slice(0,e).lastIndexOf("\n")}}())?n:void 0},n.prototype.contentsForInspection=function(){return{text:this.text.inspect(),attributes:this.attributes}},n.prototype.toString=function(){return this.text.toString()},n.prototype.toJSON=function(){return{text:this.text,attributes:this.attributes}},n.prototype.getLength=function(){return this.text.getLength()},n.prototype.canBeConsolidatedWith=function(t){return!this.hasAttributes()&&!t.hasAttributes()},n.prototype.consolidateWith=function(t){var e,n;return e=K.Text.textForStringWithAttributes("\n"),n=this.getTextWithoutBlockBreak().appendText(e),this.copyWithText(n.appendText(t.text))},n.prototype.splitAtOffset=function(t){var e,n;return 0===t?(e=null,n=this):t===this.getLength()?(e=this,n=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),n=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,n]},n.prototype.getBlockBreakPosition=function(){return this.text.getLength()-1},n.prototype.getTextWithoutBlockBreak=function(){return l(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()},n.prototype.canBeGrouped=function(t){return this.attributes[t]},n.prototype.canBeGroupedWith=function(t,e){var n,i,o,r;return i=(o=t.getAttributes())[e],(n=this.attributes[e])===i&&!(!1===h(n).group&&(r=o[e+1],E.call(f(),r)<0))},i=function(t){return t=u(t),e(t)},u=function(t){var e,i,n,o,r,a;return o=!1,a=t.getPieces(),i=2<=a.length?m.call(a,0,e=a.length-1):(e=0,[]),null==(n=a[e++])?t:(i=function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)(r=i[t]).isBlockBreak()?(o=!0,n.push(c(r))):n.push(r);return n}(),o?new K.Text(m.call(i).concat([n])):t)},o=K.Text.textForStringWithAttributes("\n",{blockBreak:!0}),e=function(t){return l(t)?t:t.appendText(o)},l=function(t){var e;return 0!==(e=t.getLength())&&t.getTextAtRange([e-1,e]).isBlockBreak()},c=function(t){return t.copyWithoutAttribute("blockBreak")},r=function(t){var e;return null!=(e=h(t).listAttribute)?[e,t]:[t]},a=function(t){return t.slice(-1)[0]},s=function(t,e){var n;return-1===(n=t.lastIndexOf(e))?t:p(t,n,1)},n}(K.Object)}.call(this),function(){var v,T,y,b,C,D,I,O,R,k=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,_=[].slice,w=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};v=K.arraysAreEqual,I=K.normalizeSpaces,C=K.makeElement,O=K.tagName,b=K.getBlockTagNames,R=K.walkTree,y=K.findClosestElementFromNode,T=K.elementContainsNode,D=K.nodeIsAttachmentElement,K.HTMLParser=function(t){function e(t,e){this.html=t,this.referenceElement=(null!=e?e:{}).referenceElement,this.blocks=[],this.blockElements=[],this.processedElements=[]}var m,i,n,o,E,a,r,s,l,c,u,d,h,f,p,g;return k(e,t),m="style href src width height class".split(" "),e.parse=function(t,e){var n;return(n=new this(t,e)).parse(),n},e.prototype.getDocument=function(){return K.Document.fromJSON(this.blocks)},e.prototype.parse=function(){var t,e;try{for(this.createHiddenContainer(),t=h(this.html),this.containerElement.innerHTML=t,e=R(this.containerElement,{usingFilter:c});e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}},e.prototype.createHiddenContainer=function(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=C({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))},e.prototype.removeHiddenContainer=function(){return this.containerElement.parentNode.removeChild(this.containerElement)},h=function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,g;for(t=t.replace(/<\/html[^>]*>[^]*$/i,"</html>"),(n=document.implementation.createHTMLDocument("")).documentElement.innerHTML=t,e=n.body,i=0,a=(h=n.head.querySelectorAll("style")).length;i<a;i++)p=h[i],e.appendChild(p);for(d=[],g=R(e);g.nextNode();)switch(u=g.currentNode,u.nodeType){case Node.ELEMENT_NODE:if(E(u))d.push(u);else for(o=0,s=(f=_.call(u.attributes)).length;o<s;o++)c=f[o].name,0<=w.call(m,c)||0===c.indexOf("data-trix")||u.removeAttribute(c);break;case Node.COMMENT_NODE:d.push(u)}for(r=0,l=d.length;r<l;r++)(u=d[r]).parentNode.removeChild(u);return e.innerHTML},E=function(t){return(null!=t?t.nodeType:void 0)!==Node.ELEMENT_NODE||D(t)?void 0:"script"===O(t)||"false"===t.getAttribute("data-trix-serialize")},c=function(t){return"style"===O(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},e.prototype.processNode=function(t){switch(t.nodeType){case Node.TEXT_NODE:return this.processTextNode(t);case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}},e.prototype.appendBlockForElement=function(t){var e,n,i,o;if(i=this.isBlockElement(t),n=T(this.currentBlockElement,t),i&&!this.isBlockElement(t.firstChild)){if(!(this.isInsignificantTextNode(t.firstChild)&&this.isBlockElement(t.firstElementChild)||(e=this.getBlockAttributes(t),n&&v(e,this.currentBlock.attributes))))return this.currentBlock=this.appendBlockForAttributesWithElement(e,t),this.currentBlockElement=t}else if(this.currentBlockElement&&!n&&!i)return(o=this.findParentBlockElement(t))?this.appendBlockForElement(o):(this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null)},e.prototype.findParentBlockElement=function(t){var e;for(e=t.parentElement;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&0<=w.call(this.blockElements,e))return e;e=e.parentElement}return null},e.prototype.processTextNode=function(t){var e,n;return this.isInsignificantTextNode(t)?void 0:(n=t.data,o(t.parentNode)||(n=f(n),p(null!=(e=t.previousSibling)?e.textContent:void 0)&&(n=l(n))),this.appendStringWithAttributes(n,this.getTextAttributes(t.parentNode)))},e.prototype.processElement=function(t){var e,n,i,o,r;if(D(t))return e=a(t),Object.keys(e).length&&(o=this.getTextAttributes(t),this.appendAttachmentWithAttributes(e,o),t.innerHTML=""),this.processedElements.push(t);switch(O(t)){case"br":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes("\n",this.getTextAttributes(t)),this.processedElements.push(t);case"img":for(n in e={url:t.getAttribute("src"),contentType:"image"},i=s(t))r=i[n],e[n]=r;return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case"tr":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes("\n");break;case"td":if(t.parentNode.firstChild!==t)return this.appendStringWithAttributes(" | ")}},e.prototype.appendBlockForAttributesWithElement=function(t,e){var n;return this.blockElements.push(e),n=i(t),this.blocks.push(n),n},e.prototype.appendEmptyBlock=function(){return this.appendBlockForAttributesWithElement([],null)},e.prototype.appendStringWithAttributes=function(t,e){return this.appendPiece(d(t,e))},e.prototype.appendAttachmentWithAttributes=function(t,e){return this.appendPiece(u(t,e))},e.prototype.appendPiece=function(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)},e.prototype.appendStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[i.length-1])?n.type:void 0)?n.string+=t:i.push(d(t))},e.prototype.prependStringToTextAtIndex=function(t,e){var n,i;return"string"===(null!=(n=(i=this.blocks[e].text)[0])?n.type:void 0)?n.string=t+n.string:i.unshift(d(t))},d=function(t,e){var n;return null==e&&(e={}),n="string",{string:t=I(t),attributes:e,type:n}},u=function(t,e){return null==e&&(e={}),{attachment:t,attributes:e,type:"attachment"}},i=function(t){return null==t&&(t={}),{text:[],attributes:t}},e.prototype.getTextAttributes=function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f;for(e in i={},u=K.config.textAttributes)if((r=u[e]).tagName&&y(t,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[e]=!0;else if(r.parser&&(f=r.parser(t))){for(n=!1,a=0,c=(d=this.findBlockElementAncestors(t)).length;a<c;a++)if(o=d[a],r.parser(o)===f){n=!0;break}n||(i[e]=f)}if(D(t)&&(s=t.getAttribute("data-trix-attributes")))for(l in h=JSON.parse(s))f=h[l],i[l]=f;return i},e.prototype.getBlockAttributes=function(t){var e,n,i,o;for(n=[];t&&t!==this.containerElement;){for(e in o=K.config.blockAttributes)!1!==(i=o[e]).parse&&O(t)===i.tagName&&(("function"==typeof i.test?i.test(t):void 0)||!i.test)&&(n.push(e),i.listAttribute&&n.push(i.listAttribute));t=t.parentNode}return n.reverse()},e.prototype.findBlockElementAncestors=function(t){var e,n;for(e=[];t&&t!==this.containerElement;)n=O(t),0<=w.call(b(),n)&&e.push(t),t=t.parentNode;return e},a=function(t){return JSON.parse(t.getAttribute("data-trix-attachment"))},s=function(t){var e,n,i;return i=t.getAttribute("width"),n=t.getAttribute("height"),e={},i&&(e.width=parseInt(i,10)),n&&(e.height=parseInt(n,10)),e},e.prototype.isBlockElement=function(t){var e;if((null!=t?t.nodeType:void 0)===Node.ELEMENT_NODE&&!y(t,{matchingSelector:"td",untilNode:this.containerElement}))return e=O(t),0<=w.call(b(),e)||"block"===window.getComputedStyle(t).display},e.prototype.isInsignificantTextNode=function(t){return(null!=t?t.nodeType:void 0)===Node.TEXT_NODE&&g(t.data)&&!o(t.parentNode)?!t.previousSibling||this.isBlockElement(t.previousSibling)||!t.nextSibling||this.isBlockElement(t.nextSibling):void 0},e.prototype.isExtraBR=function(t){return"br"===O(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t},o=function(t){var e;return"pre"===(e=window.getComputedStyle(t).whiteSpace)||"pre-wrap"===e||"pre-line"===e},e.prototype.translateBlockElementMarginsToNewlines=function(){var t,e,n,i,o,r,a;for(t=this.getMarginOfDefaultBlockElement(),a=[],n=e=0,i=(r=this.blocks).length;e<i;n=++e)r[n],(o=this.getMarginOfBlockElementAtIndex(n))&&(o.top>2*t.top&&this.prependStringToTextAtIndex("\n",n),a.push(o.bottom>2*t.bottom?this.appendStringToTextAtIndex("\n",n):void 0));return a},e.prototype.getMarginOfBlockElementAtIndex=function(t){var e,n;return!(e=this.blockElements[t])||(n=O(e),0<=w.call(b(),n)||0<=w.call(this.processedElements,e))?void 0:r(e)},e.prototype.getMarginOfDefaultBlockElement=function(){var t;return t=C(K.config.blockAttributes["default"].tagName),this.containerElement.appendChild(t),r(t)},r=function(t){var e;return"block"===(e=window.getComputedStyle(t)).display?{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}:void 0},n=RegExp("[^\\S"+K.NON_BREAKING_SPACE+"]"),f=function(t){return t.replace(RegExp(""+n.source,"g")," ").replace(/\ {2,}/g," ")},l=function(t){return t.replace(RegExp("^"+n.source+"+"),"")},g=function(t){return RegExp("^"+n.source+"*$").test(t)},p=function(t){return/\s$/.test(t)},e}(K.BasicObject)}.call(this),function(){var p,s,T,y,n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty,h=[].slice,f=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};p=K.arraysAreEqual,T=K.normalizeRange,y=K.rangeIsCollapsed,s=K.getBlockConfig,K.Document=function(t){function e(t){null==t&&(t=[]),e.__super__.constructor.apply(this,arguments),0===t.length&&(t=[new K.Block]),this.blockList=K.SplittableList.box(t)}var d;return n(e,t),e.fromJSON=function(i){var o;return new this(function(){var t,e,n;for(n=[],t=0,e=i.length;t<e;t++)o=i[t],n.push(K.Block.fromJSON(o));return n}())},e.fromHTML=function(t,e){return K.HTMLParser.parse(t,e).getDocument()},e.fromString=function(t,e){var n;return n=K.Text.textForStringWithAttributes(t,e),new this([new K.Block(n)])},e.prototype.isEmpty=function(){var t;return 1===this.blockList.length&&((t=this.getBlockAtIndex(0)).isEmpty()&&!t.hasAttributes())},e.prototype.copy=function(t){var e;return null==t&&(t={}),e=t.consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray(),new this.constructor(e)},e.prototype.copyUsingObjectsFromDocument=function(t){var e;return e=new K.ObjectMap(t.getObjects()),this.copyUsingObjectMap(e)},e.prototype.copyUsingObjectMap=function(o){var r,t,a;return t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)r=n[t],i.push((a=o.find(r))?a:r.copyUsingObjectMap(o));return i}.call(this),new this.constructor(t)},e.prototype.copyWithBaseBlockAttributes=function(o){var r,a,t;return null==o&&(o=[]),t=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.getBlocks()).length;t<e;t++)a=n[t],r=o.concat(a.getAttributes()),i.push(a.copyWithAttributes(r));return i}.call(this),new this.constructor(t)},e.prototype.replaceBlock=function(t,e){var n;return-1===(n=this.blockList.indexOf(t))?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,n))},e.prototype.insertDocumentAtRange=function(t,e){var n,i,o,r,a,s,l;return i=t.blockList,a=(e=T(e))[0],o=(s=this.locationFromPosition(a)).index,r=s.offset,n=(l=this).getBlockAtPosition(a),y(e)&&n.isEmpty()&&!n.hasAttributes()?l=new this.constructor(l.blockList.removeObjectAtIndex(o)):n.getBlockBreakPosition()===r&&a++,l=l.removeTextAtRange(e),new this.constructor(l.blockList.insertSplittableListAtPosition(i,a))},e.prototype.mergeDocumentAtRange=function(t,e){var n,i,o,r,a,s,l,c,u,d,h,f;return h=(e=T(e))[0],d=this.locationFromPosition(h),i=this.getBlockAtIndex(d.index).getAttributes(),n=t.getBaseBlockAttributes(),f=i.slice(-n.length),p(n,f)?(l=i.slice(0,-n.length),s=t.copyWithBaseBlockAttributes(l)):s=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(i),o=s.getBlockCount(),r=s.getBlockAtIndex(0),p(i,r.getAttributes())?(a=r.getTextWithoutBlockBreak(),u=this.insertTextAtRange(a,e),1<o&&(s=new this.constructor(s.getBlocks().slice(1)),c=h+a.getLength(),u=u.insertDocumentAtRange(s,c))):u=this.insertDocumentAtRange(s,e),u},e.prototype.insertTextAtRange=function(e,t){var n,i,o,r,a;return a=(t=T(t))[0],i=(
r=this.locationFromPosition(a)).index,o=r.offset,n=this.removeTextAtRange(t),new this.constructor(n.blockList.editObjectAtIndex(i,function(t){return t.copyWithText(t.text.insertTextAtPosition(e,o))}))},e.prototype.removeTextAtRange=function(t){var e,n,i,o,r,a,s,l,c,u,d,h,f,p,g,m,E,v;return l=(u=t=T(t))[0],m=u[1],y(t)?this:(a=(d=this.locationRangeFromRange(t))[0],p=d[1],r=a.index,s=a.offset,o=this.getBlockAtIndex(r),f=p.index,g=p.offset,h=this.getBlockAtIndex(f),m-l==1&&o.getBlockBreakPosition()===s&&h.getBlockBreakPosition()!==g&&"\n"===h.text.getStringAtPosition(g)?i=this.blockList.editObjectAtIndex(f,function(t){return t.copyWithText(t.text.removeTextAtRange([g,g+1]))}):(c=o.text.getTextAtRange([0,s]),E=h.text.getTextAtRange([g,h.getLength()]),v=c.appendText(E),n=r!==f&&0===s&&o.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(v):o.copyWithText(v),e=f+1-r,i=this.blockList.splice(r,e,n)),new this.constructor(i))},e.prototype.moveTextFromRangeToPosition=function(t,e){var n,i,o,r,a,s,l,c,u,d;if(u=(s=t=T(t))[0],o=s[1],u<=e&&e<=o)return this;if(i=this.getDocumentAtRange(t),c=this.removeTextAtRange(t),(a=u<e)&&(e-=i.getLength()),!c.firstBlockInRangeIsEntirelySelected(t)){if(r=(l=i.getBlocks())[0],0===(n=2<=l.length?h.call(l,1):[]).length?(d=r.getTextWithoutBlockBreak(),a&&(e+=1)):d=r.text,c=c.insertTextAtRange(d,e),0===n.length)return c;i=new this.constructor(n),e+=d.getLength()}return c.insertDocumentAtRange(i,e)},e.prototype.addAttributeAtRange=function(i,o,t){var r;return r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return r=r.editObjectAtIndex(n,function(){return s(i)?t.addAttribute(i,o):e[0]===e[1]?t:t.copyWithText(t.text.addAttributeAtRange(i,o,e))})}),new this.constructor(r)},e.prototype.addAttribute=function(n,i){var o;return o=this.blockList,this.eachBlock(function(t,e){return o=o.editObjectAtIndex(e,function(){return t.addAttribute(n,i)})}),new this.constructor(o)},e.prototype.removeAttributeAtRange=function(i,t){var o;return o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){return s(i)?o=o.editObjectAtIndex(n,function(){return t.removeAttribute(i)}):e[0]!==e[1]?o=o.editObjectAtIndex(n,function(){return t.copyWithText(t.text.removeAttributeAtRange(i,e))}):void 0}),new this.constructor(o)},e.prototype.updateAttributesForAttachment=function(e,n){var t,i,o;return i=this.getRangeOfAttachment(n)[0],t=this.locationFromPosition(i).index,o=this.getTextAtIndex(t),new this.constructor(this.blockList.editObjectAtIndex(t,function(t){return t.copyWithText(o.updateAttributesForAttachment(e,n))}))},e.prototype.removeAttributeForAttachment=function(t,e){var n;return n=this.getRangeOfAttachment(e),this.removeAttributeAtRange(t,n)},e.prototype.insertBlockBreakAtRange=function(t){var e,n,i,o;return o=(t=T(t))[0],i=this.locationFromPosition(o).offset,n=this.removeTextAtRange(t),0===i&&(e=[new K.Block]),new this.constructor(n.blockList.insertSplittableListAtPosition(new K.SplittableList(e),o))},e.prototype.applyBlockAttributeAtRange=function(t,e,n){var i,o,r,a;return o=(r=this.expandRangeToLineBreaksAndSplitBlocks(n)).document,n=r.range,(i=s(t)).listAttribute?(o=(a=(o=o.removeLastListAttributeAtRange(n,{exceptAttributeName:t})).convertLineBreaksToBlockBreaksInRange(n)).document,n=a.range):o=i.terminal?o.removeLastTerminalAttributeAtRange(n):o.consolidateBlocksAtRange(n),o.addAttributeAtRange(t,e,n)},e.prototype.removeLastListAttributeAtRange=function(t,o){var r;return null==o&&(o={}),r=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&s(i).listAttribute&&i!==o.exceptAttributeName)return r=r.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(r)},e.prototype.removeLastTerminalAttributeAtRange=function(t){var o;return o=this.blockList,this.eachBlockAtRange(t,function(t,e,n){var i;if((i=t.getLastAttribute())&&s(i).terminal)return o=o.editObjectAtIndex(n,function(){return t.removeAttribute(i)})}),new this.constructor(o)},e.prototype.firstBlockInRangeIsEntirelySelected=function(t){var e,n,i,o,r,a;return a=(o=t=T(t))[0],e=o[1],n=this.locationFromPosition(a),r=this.locationFromPosition(e),0===n.offset&&n.index<r.index||n.index===r.index&&(i=this.getBlockAtIndex(n.index).getLength(),0===n.offset&&r.offset===i)},e.prototype.expandRangeToLineBreaksAndSplitBlocks=function(t){var e,n,i,o,r,a,s,l,c;return c=(a=t=T(t))[0],o=a[1],l=this.locationFromPosition(c),i=this.locationFromPosition(o),s=(e=this).getBlockAtIndex(l.index),null!=(l.offset=s.findLineBreakInDirectionFromPosition("backward",l.offset))&&(r=e.positionFromLocation(l),e=e.insertBlockBreakAtRange([r,r+1]),i.index+=1,i.offset-=e.getBlockAtIndex(l.index).getLength(),l.index+=1),(l.offset=0)===i.offset&&i.index>l.index?(i.index-=1,i.offset=e.getBlockAtIndex(i.index).getBlockBreakPosition()):("\n"===(n=e.getBlockAtIndex(i.index)).text.getStringAtRange([i.offset-1,i.offset])?i.offset-=1:i.offset=n.findLineBreakInDirectionFromPosition("forward",i.offset),i.offset!==n.getBlockBreakPosition()&&(r=e.positionFromLocation(i),e=e.insertBlockBreakAtRange([r,r+1]))),c=e.positionFromLocation(l),o=e.positionFromLocation(i),{document:e,range:t=T([c,o])}},e.prototype.convertLineBreaksToBlockBreaksInRange=function(t){var e,n,i;return n=(t=T(t))[0],i=this.getStringAtRange(t).slice(0,-1),e=this,i.replace(/.*?\n/g,function(t){return n+=t.length,e=e.insertBlockBreakAtRange([n-1,n])}),{document:e,range:t}},e.prototype.consolidateBlocksAtRange=function(t){var e,n,i,o,r;return r=(i=t=T(t))[0],n=i[1],o=this.locationFromPosition(r).index,e=this.locationFromPosition(n).index,new this.constructor(this.blockList.consolidateFromIndexToIndex(o,e))},e.prototype.getDocumentAtRange=function(t){var e;return t=T(t),e=this.blockList.getSplittableListInRange(t).toArray(),new this.constructor(e)},e.prototype.getStringAtRange=function(t){return this.getDocumentAtRange(t).toString()},e.prototype.getBlockAtIndex=function(t){return this.blockList.getObjectAtIndex(t)},e.prototype.getBlockAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getBlockAtIndex(e)},e.prototype.getTextAtIndex=function(t){var e;return null!=(e=this.getBlockAtIndex(t))?e.text:void 0},e.prototype.getTextAtPosition=function(t){var e;return e=this.locationFromPosition(t).index,this.getTextAtIndex(e)},e.prototype.getPieceAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getPieceAtPosition(n)},e.prototype.getCharacterAtPosition=function(t){var e,n,i;return e=(i=this.locationFromPosition(t)).index,n=i.offset,this.getTextAtIndex(e).getStringAtRange([n,n+1])},e.prototype.getLength=function(){return this.blockList.getEndPosition()},e.prototype.getBlocks=function(){return this.blockList.toArray()},e.prototype.getBlockCount=function(){return this.blockList.length},e.prototype.getEditCount=function(){return this.editCount},e.prototype.eachBlock=function(t){return this.blockList.eachObject(t)},e.prototype.eachBlockAtRange=function(t,e){var n,i,o,r,a,s,l,c,u,d,h,f;if(h=(s=t=T(t))[0],o=s[1],d=this.locationFromPosition(h),i=this.locationFromPosition(o),d.index===i.index)return n=this.getBlockAtIndex(d.index),f=[d.offset,i.offset],e(n,f,d.index);for(u=[],a=r=l=d.index,c=i.index;l<=c?r<=c:c<=r;a=l<=c?++r:--r)(n=this.getBlockAtIndex(a))?(f=function(){switch(a){case d.index:return[d.offset,n.text.getLength()];case i.index:return[0,i.offset];default:return[0,n.text.getLength()]}}(),u.push(e(n,f,a))):u.push(void 0);return u},e.prototype.getCommonAttributesAtRange=function(t){var n,e,i;return e=(t=T(t))[0],y(t)?this.getCommonAttributesAtPosition(e):(i=[],n=[],this.eachBlockAtRange(t,function(t,e){return e[0]!==e[1]?(i.push(t.text.getCommonAttributesAtRange(e)),n.push(d(t))):void 0}),K.Hash.fromCommonAttributesOfObjects(i).merge(K.Hash.fromCommonAttributesOfObjects(n)).toObject())},e.prototype.getCommonAttributesAtPosition=function(t){var e,n,i,o,r,a,s,l,c,u;if(r=(c=this.locationFromPosition(t)).index,l=c.offset,!(i=this.getBlockAtIndex(r)))return{};for(s in o=d(i),e=i.text.getAttributesAtPosition(l),n=i.text.getAttributesAtPosition(l-1),a=function(){var t,e;for(s in e=[],t=K.config.textAttributes)(u=t[s]).inheritable&&e.push(s);return e}(),n)((u=n[s])===e[s]||0<=f.call(a,s))&&(o[s]=u);return o},e.prototype.getRangeOfCommonAttributeAtPosition=function(t,e){var n,i,o,r,a,s,l,c;return o=(a=this.locationFromPosition(e)).index,r=a.offset,c=(s=this.getTextAtIndex(o).getExpandedRangeForAttributeAtOffset(t,r))[0],i=s[1],l=this.positionFromLocation({index:o,offset:c}),n=this.positionFromLocation({index:o,offset:i}),T([l,n])},e.prototype.getBaseBlockAttributes=function(){var i,o,t,e,r,a,n;for(i=this.getBlockAtIndex(0).getAttributes(),t=e=1,n=this.getBlockCount();1<=n?e<n:n<e;t=1<=n?++e:--e)o=this.getBlockAtIndex(t).getAttributes(),a=Math.min(i.length,o.length),i=function(){var t,e,n;for(n=[],r=t=0,e=a;(0<=e?t<e:e<t)&&o[r]===i[r];r=0<=e?++t:--t)n.push(o[r]);return n}();return i},d=function(t){var e,n;return n={},(e=t.getLastAttribute())&&(n[e]=!0),n},e.prototype.getAttachmentById=function(t){var e,n,i,o;for(n=0,i=(o=this.getAttachments()).length;n<i;n++)if((e=o[n]).id===t)return e},e.prototype.getAttachmentPieces=function(){var n;return n=[],this.blockList.eachObject(function(t){var e;return e=t.text,n=n.concat(e.getAttachmentPieces())}),n},e.prototype.getAttachments=function(){var t,e,n,i,o;for(o=[],t=0,e=(i=this.getAttachmentPieces()).length;t<e;t++)n=i[t],o.push(n.attachment);return o},e.prototype.getRangeOfAttachment=function(t){var e,n,i,o,r,a,s;for(n=e=o=0,i=(r=this.blockList.toArray()).length;e<i;n=++e){if(s=(a=r[n].text).getRangeOfAttachment(t))return T([o+s[0],o+s[1]]);o+=a.getLength()}},e.prototype.getLocationRangeOfAttachment=function(t){var e;return e=this.getRangeOfAttachment(t),this.locationRangeFromRange(e)},e.prototype.getAttachmentPieceForAttachment=function(t){var e,n,i,o;for(e=0,n=(o=this.getAttachmentPieces()).length;e<n;e++)if((i=o[e]).attachment===t)return i},e.prototype.locationFromPosition=function(t){var e,n;return null!=(n=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t))).index?n:{index:(e=this.getBlocks()).length-1,offset:e[e.length-1].getLength()}},e.prototype.positionFromLocation=function(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)},e.prototype.locationRangeFromPosition=function(t){return T(this.locationFromPosition(t))},e.prototype.locationRangeFromRange=function(t){var e,n,i,o;if(t=T(t))return o=t[0],n=t[1],i=this.locationFromPosition(o),e=this.locationFromPosition(n),T([i,e])},e.prototype.rangeFromLocationRange=function(t){var e,n;return t=T(t),e=this.positionFromLocation(t[0]),y(t)||(n=this.positionFromLocation(t[1])),T([e,n])},e.prototype.isEqualTo=function(t){return this.blockList.isEqualTo(null!=t?t.blockList:void 0)},e.prototype.getTexts=function(){var t,e,n,i,o;for(o=[],e=0,n=(i=this.getBlocks()).length;e<n;e++)t=i[e],o.push(t.text);return o},e.prototype.getPieces=function(){var t,e,n,i,o;for(n=[],t=0,e=(i=this.getTexts()).length;t<e;t++)o=i[t],n.push.apply(n,o.getPieces());return n},e.prototype.getObjects=function(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())},e.prototype.toSerializableDocument=function(){var e;return e=[],this.blockList.eachObject(function(t){return e.push(t.copyWithText(t.text.toSerializableText()))}),new this.constructor(e)},e.prototype.toString=function(){return this.blockList.toString()},e.prototype.toJSON=function(){return this.blockList.toJSON()},e.prototype.toConsole=function(){var o;return JSON.stringify(function(){var t,e,n,i;for(i=[],t=0,e=(n=this.blockList.toArray()).length;t<e;t++)o=n[t],i.push(JSON.parse(o.text.toConsole()));return i}.call(this))},e}(K.Object)}.call(this),function(){K.LineBreakInsertion=function(){function t(t){var e;this.composition=t,this.document=this.composition.document,e=this.composition.getSelectedRange(),this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}return t.prototype.shouldInsertBlockBreak=function(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&"\n"!==this.nextCharacter},t.prototype.shouldBreakFormattedBlock=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&"\n"===this.nextCharacter||"\n"===this.previousCharacter)},t.prototype.shouldDecreaseListLevel=function(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()},t.prototype.shouldPrependListItem=function(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()},t.prototype.shouldRemoveLastBlockAttribute=function(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()},t}()}.call(this),function(){var i,o,a,r,s,l,c,u,d,h,f=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;l=K.normalizeRange,d=K.rangesAreEqual,u=K.rangeIsCollapsed,c=K.objectsAreEqual,i=K.arrayStartsWith,h=K.summarizeArrayChange,a=K.getAllAttributeNames,r=K.getBlockConfig,s=K.getTextConfig,o=K.extend,K.Composition=function(t){function e(){this.document=new K.Document,this.attachments=[],this.currentAttributes={},this.revision=0}var n;return f(e,t),e.prototype.setDocument=function(t){var e;return t.isEqualTo(this.document)?void 0:(this.document=t,this.refreshAttachments(),this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeDocument?e.compositionDidChangeDocument(t):void 0)},e.prototype.getSnapshot=function(){return{document:this.document,selectedRange:this.getSelectedRange()}},e.prototype.loadSnapshot=function(t){var e,n,i,o;return e=t.document,o=t.selectedRange,null!=(n=this.delegate)&&"function"==typeof n.compositionWillLoadSnapshot&&n.compositionWillLoadSnapshot(),this.setDocument(null!=e?e:new K.Document),this.setSelection(null!=o?o:[0,0]),null!=(i=this.delegate)&&"function"==typeof i.compositionDidLoadSnapshot?i.compositionDidLoadSnapshot():void 0},e.prototype.insertText=function(t,e){var n,i,o,r;return r=(null!=e?e:{updatePosition:!0}).updatePosition,i=this.getSelectedRange(),this.setDocument(this.document.insertTextAtRange(t,i)),n=(o=i[0])+t.getLength(),r&&this.setSelection(n),this.notifyDelegateOfInsertionAtRange([o,n])},e.prototype.insertBlock=function(t){var e;return null==t&&(t=new K.Block),e=new K.Document([t]),this.insertDocument(e)},e.prototype.insertDocument=function(t){var e,n,i;return null==t&&(t=new K.Document),n=this.getSelectedRange(),this.setDocument(this.document.insertDocumentAtRange(t,n)),e=(i=n[0])+t.getLength(),this.setSelection(e),this.notifyDelegateOfInsertionAtRange([i,e])},e.prototype.insertString=function(t,e){var n,i;return n=this.getCurrentTextAttributes(),i=K.Text.textForStringWithAttributes(t,n),this.insertText(i,e)},e.prototype.insertBlockBreak=function(){var t,e,n;return e=this.getSelectedRange(),this.setDocument(this.document.insertBlockBreakAtRange(e)),t=(n=e[0])+1,this.setSelection(t),this.notifyDelegateOfInsertionAtRange([n,t])},e.prototype.insertLineBreak=function(){var t,e;return(e=new K.LineBreakInsertion(this)).shouldDecreaseListLevel()?(this.decreaseListLevel(),this.setSelection(e.startPosition)):e.shouldPrependListItem()?(t=new K.Document([e.block.copyWithoutText()]),this.insertDocument(t)):e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString("\n")},e.prototype.insertHTML=function(t){var e,n,i,o;return o=this.getPosition(),i=this.document.getLength(),e=K.Document.fromHTML(t),this.setDocument(this.document.mergeDocumentAtRange(e,this.getSelectedRange())),n=o+(this.document.getLength()-i),this.setSelection(n),this.notifyDelegateOfInsertionAtRange([n,n])},e.prototype.replaceHTML=function(t){var e,n,i;return e=K.Document.fromHTML(t).copyUsingObjectsFromDocument(this.document),n=this.getLocationRange({strict:!1}),i=this.document.rangeFromLocationRange(n),this.setDocument(e),this.setSelection(i)},e.prototype.insertFile=function(t){var e,n;return(null!=(n=this.delegate)?n.compositionShouldAcceptFile(t):void 0)?(e=K.Attachment.attachmentForFile(t),this.insertAttachment(e)):void 0},e.prototype.insertFiles=function(t){var e,n,i,o,r,a,s;for(s=new K.Text,o=0,r=t.length;o<r;o++)i=t[o],(null!=(a=this.delegate)?a.compositionShouldAcceptFile(i):void 0)&&(e=K.Attachment.attachmentForFile(i),n=K.Text.textForAttachmentWithAttributes(e,this.currentAttributes),s=s.appendText(n));return this.insertText(s)},e.prototype.insertAttachment=function(t){var e;return e=K.Text.textForAttachmentWithAttributes(t,this.currentAttributes),this.insertText(e)},e.prototype.deleteInDirection=function(t){var e,n,i,o,r,a,s;return o=this.getLocationRange(),r=this.getSelectedRange(),(a=u(r))?i="backward"===t&&0===o[0].offset:s=o[0].index!==o[1].index,!(i&&this.canDecreaseBlockAttributeLevel()&&((n=this.getBlock()).isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(r[0]),n.isEmpty()))&&(a&&(r=this.getExpandedRangeInDirection(t),"backward"===t&&(e=this.getAttachmentAtRange(r))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(r)),this.setSelection(r[0]),!i&&!s&&void 0))},e.prototype.moveTextFromRange=function(t){var e;return e=this.getSelectedRange()[0],this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)},e.prototype.removeAttachment=function(t){var e;return(e=this.document.getRangeOfAttachment(t))?(this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])):void 0},e.prototype.removeLastBlockAttribute=function(){var t,e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],t=this.document.getBlockAtPosition(e),this.removeCurrentAttribute(t.getLastAttribute()),this.setSelection(i)},n=" ",e.prototype.insertPlaceholder=function(){return this.placeholderPosition=this.getPosition(),this.insertString(n)},e.prototype.selectPlaceholder=function(){return null!=this.placeholderPosition?(this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+n.length]),this.getSelectedRange()):void 0},e.prototype.forgetPlaceholder=function(){return this.placeholderPosition=null},e.prototype.hasCurrentAttribute=function(t){var e;return null!=(e=this.currentAttributes[t])&&!1!==e},e.prototype.toggleCurrentAttribute=function(t){var e;return(e=!this.currentAttributes[t])?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)},e.prototype.canSetCurrentAttribute=function(t){return r(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)},e.prototype.canSetCurrentTextAttribute=function(t){switch(t){case"href":return!this.selectionContainsAttachmentWithAttribute(t);default:return!0}},e.prototype.canSetCurrentBlockAttribute=function(){var t;if(t=this.getBlock())return!t.isTerminalBlock()},e.prototype.setCurrentAttribute=function(t,e){return r(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())},e.prototype.setTextAttribute=function(t,e){var n,i;if(n=this.getSelectedRange())return n[0]!==n[1]?this.setDocument(this.document.addAttributeAtRange(t,e,n)):"href"===t?(i=K.Text.textForStringWithAttributes(e,{href:e}),this.insertText(i)):void 0},e.prototype.setBlockAttribute=function(t,e){var n;if(n=this.getSelectedRange())return this.canSetCurrentAttribute(t)?(this.getBlock(),this.setDocument(this.document.applyBlockAttributeAtRange(t,e,n)),this.setSelection(n)):void 0},e.prototype.removeCurrentAttribute=function(t){return r(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())},e.prototype.removeTextAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.removeBlockAttribute=function(t){var e;if(e=this.getSelectedRange())return this.setDocument(this.document.removeAttributeAtRange(t,e))},e.prototype.canDecreaseNestingLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getNestingLevel():void 0)},e.prototype.canIncreaseNestingLevel=function(){var t,e,n;if(t=this.getBlock())return null!=(n=r(t.getLastNestableAttribute()))&&n.listAttribute?(e=this.getPreviousBlock())?i(e.getListItemAttributes(),t.getListItemAttributes()):void 0:0<t.getNestingLevel()},e.prototype.decreaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))},e.prototype.increaseNestingLevel=function(){var t;if(t=this.getBlock())return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))},e.prototype.canDecreaseBlockAttributeLevel=function(){var t;return 0<(null!=(t=this.getBlock())?t.getAttributeLevel():void 0)},e.prototype.decreaseBlockAttributeLevel=function(){var t,e;return(t=null!=(e=this.getBlock())?e.getLastAttribute():void 0)?this.removeCurrentAttribute(t):void 0},e.prototype.decreaseListLevel=function(){var t,e,n,i,o,r;for(r=this.getSelectedRange()[0],n=o=this.document.locationFromPosition(r).index,t=this.getBlock().getAttributeLevel();(e=this.document.getBlockAtIndex(n+1))&&e.isListItem()&&e.getAttributeLevel()>t;)n++;return r=this.document.positionFromLocation({index:o,offset:0}),i=this.document.positionFromLocation({index:n,offset:0}),this.setDocument(this.document.removeLastListAttributeAtRange([r,i]))},e.prototype.updateCurrentAttributes=function(){var t,e,n,i,o,r;if(r=this.getSelectedRange({ignoreLock:!0})){for(e=this.document.getCommonAttributesAtRange(r),n=0,i=(o=a()).length;n<i;n++)e[t=o[n]]||this.canSetCurrentAttribute(t)||(e[t]=!1);if(!c(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}},e.prototype.getCurrentAttributes=function(){return o.call({},this.currentAttributes)},e.prototype.getCurrentTextAttributes=function(){var t,e,n,i;for(e in t={},n=this.currentAttributes)i=n[e],s(e)&&(t[e]=i);return t},e.prototype.freezeSelection=function(){return this.setCurrentAttribute("frozen",!0)},e.prototype.thawSelection=function(){return this.removeCurrentAttribute("frozen")},e.prototype.hasFrozenSelection=function(){return this.hasCurrentAttribute("frozen")},e.proxyMethod("getSelectionManager().getPointRange"),e.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),e.proxyMethod("getSelectionManager().locationIsCursorTarget"),e.proxyMethod("getSelectionManager().selectionIsExpanded"),e.proxyMethod("delegate?.getSelectionManager"),e.prototype.setSelection=function(t){var e,n;return e=this.document.locationRangeFromRange(t),null!=(n=this.delegate)?n.compositionDidRequestChangingSelectionToLocationRange(e):void 0},e.prototype.getSelectedRange=function(){var t;return(t=this.getLocationRange())?this.document.rangeFromLocationRange(t):void 0},e.prototype.setSelectedRange=function(t){var e;return e=this.document.locationRangeFromRange(t),this.getSelectionManager().setLocationRange(e)},e.prototype.getPosition=function(){var t;return(t=this.getLocationRange())?this.document.positionFromLocation(t[0]):void 0},e.prototype.getLocationRange=function(t){var e;return null!=(e=this.getSelectionManager().getLocationRange(t))?e:l({index:0,offset:0})},e.prototype.getExpandedRangeInDirection=function(t){var e,n,i;return i=(n=this.getSelectedRange())[0],e=n[1],"backward"===t?i=this.translateUTF16PositionFromOffset(i,-1):e=this.translateUTF16PositionFromOffset(e,1),l([i,e])},e.prototype.moveCursorInDirection=function(t){var e,n,i,o;return this.editingAttachment?i=this.document.getRangeOfAttachment(this.editingAttachment):(o=this.getSelectedRange(),i=this.getExpandedRangeInDirection(t),n=!d(o,i)),this.setSelectedRange("backward"===t?i[0]:i[1]),n&&(e=this.getAttachmentAtRange(i))?this.editAttachment(e):void 0},e.prototype.expandSelectionInDirection=function(t){var e;return e=this.getExpandedRangeInDirection(t),this.setSelectedRange(e)},e.prototype.expandSelectionForEditing=function(){return this.hasCurrentAttribute("href")?this.expandSelectionAroundCommonAttribute("href"):void 0},e.prototype.expandSelectionAroundCommonAttribute=function(t){var e,n;return e=this.getPosition(),n=this.document.getRangeOfCommonAttributeAtPosition(t,e),this.setSelectedRange(n)},e.prototype.selectionContainsAttachmentWithAttribute=function(t){var e,n,i,o;if(o=this.getSelectedRange()){for(e=0,n=(i=this.document.getDocumentAtRange(o).getAttachments()).length;e<n;e++)if(i[e].hasAttribute(t))return!0;return!1}},e.prototype.selectionIsInCursorTarget=function(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())},e.prototype.positionIsCursorTarget=function(t){var e;return(e=this.document.locationFromPosition(t))?this.locationIsCursorTarget(e):void 0},e.prototype.positionIsBlockBreak=function(t){var e;return null!=(e=this.document.getPieceAtPosition(t))?e.isBlockBreak():void 0},e.prototype.getSelectedDocument=function(){var t;return(t=this.getSelectedRange())?this.document.getDocumentAtRange(t):void 0},e.prototype.getAttachments=function(){return this.attachments.slice(0)},e.prototype.refreshAttachments=function(){var t,e,n,i,o,r,a,s,l,c,u,d;for(n=this.document.getAttachments(),t=(s=h(this.attachments,n)).added,u=s.removed,this.attachments=n,i=0,r=u.length;i<r;i++)((e=u[i]).delegate=null)!=(l=this.delegate)&&"function"==typeof l.compositionDidRemoveAttachment&&l.compositionDidRemoveAttachment(e);for(d=[],o=0,a=t.length;o<a;o++)(e=t[o]).delegate=this,d.push(null!=(c=this.delegate)&&"function"==typeof c.compositionDidAddAttachment?c.compositionDidAddAttachment(e):void 0);return d},e.prototype.attachmentDidChangeAttributes=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidEditAttachment?e.compositionDidEditAttachment(t):void 0},e.prototype.attachmentDidChangePreviewURL=function(t){var e;return this.revision++,null!=(e=this.delegate)&&"function"==typeof e.compositionDidChangeAttachmentPreviewURL?e.compositionDidChangeAttachmentPreviewURL(t):void 0},e.prototype.editAttachment=function(t){var e;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null!=(e=this.delegate)&&"function"==typeof e.compositionDidStartEditingAttachment?e.compositionDidStartEditingAttachment(this.editingAttachment):void 0},e.prototype.stopEditingAttachment=function(){var t;if(this.editingAttachment)return null!=(t=this.delegate)&&"function"==typeof t.compositionDidStopEditingAttachment&&t.compositionDidStopEditingAttachment(this.editingAttachment),this.editingAttachment=null},e.prototype.canEditAttachmentCaption=function(){var t;return null!=(t=this.editingAttachment)?t.isPreviewable():void 0},e.prototype.updateAttributesForAttachment=function(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))},e.prototype.removeAttributeForAttachment=function(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))},e.prototype.breakFormattedBlock=function(t){var e,n,i,o,r;return n=t.document,e=t.block,r=[(o=t.startPosition)-1,o],e.getBlockBreakPosition()===t.startLocation.offset?(e.breaksOnReturn()&&"\n"===t.nextCharacter?o+=1:n=n.removeTextAtRange(r),r=[o,o]):"\n"===t.nextCharacter?"\n"===t.previousCharacter?r=[o-1,o+1]:(r=[o,o+1],o+=1):t.startLocation.offset-1!=0&&(o+=1),i=new K.Document([e.removeLastAttribute().copyWithoutText()]),this.setDocument(n.insertDocumentAtRange(i,r)),this.setSelection(o)},e.prototype.getPreviousBlock=function(){var t,e;return(e=this.getLocationRange())&&0<(t=e[0].index)?this.document.getBlockAtIndex(t-1):void 0},e.prototype.getBlock=function(){var t;return(t=this.getLocationRange())?this.document.getBlockAtIndex(t[0].index):void 0},e.prototype.getAttachmentAtRange=function(t){var e;return(e=this.document.getDocumentAtRange(t)).toString()===K.OBJECT_REPLACEMENT_CHARACTER+"\n"?e.getAttachments()[0]:void 0},e.prototype.notifyDelegateOfCurrentAttributesChange=function(){var t;return null!=(t=this.delegate)&&"function"==typeof t.compositionDidChangeCurrentAttributes?t.compositionDidChangeCurrentAttributes(this.currentAttributes):void 0},e.prototype.notifyDelegateOfInsertionAtRange=function(t){var e;return null!=(e=this.delegate)&&"function"==typeof e.compositionDidPerformInsertionAtRange?e.compositionDidPerformInsertionAtRange(t):void 0},e.prototype.translateUTF16PositionFromOffset=function(t,e){var n,i;return n=(i=this.document.toUTF16String()).offsetFromUCS2Offset(t),i.offsetToUCS2Offset(n+e)},e}(K.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.UndoManager=function(t){function e(t){this.composition=t,this.undoEntries=[],this.redoEntries=[]}var s;return n(e,t),e.prototype.recordUndoEntry=function(t,e){var n,i,o,r,a;return i=(r=null!=e?e:{}).context,n=r.consolidatable,o=this.undoEntries.slice(-1)[0],n&&s(o,t,i)?void 0:(a=this.createEntry({description:t,context:i}),this.undoEntries.push(a),this.redoEntries=[])},e.prototype.undo=function(){var t,e;return(e=this.undoEntries.pop())?(t=this.createEntry(e),this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)):void 0},e.prototype.redo=function(){var t,e;return(t=this.redoEntries.pop())?(e=this.createEntry(t),this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)):void 0},e.prototype.canUndo=function(){return 0<this.undoEntries.length},e.prototype.canRedo=function(){return 0<this.redoEntries.length},e.prototype.createEntry=function(t){var e,n,i;return n=(i=null!=t?t:{}).description,e=i.context,{description:null!=n?n.toString():void 0,context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}},s=function(t,e,n){return(null!=t?t.description:void 0)===(null!=e?e.toString():void 0)&&(null!=t?t.context:void 0)===JSON.stringify(n)},e}(K.BasicObject)}.call(this),function(){K.Editor=function(){function t(t,e,n){this.composition=t,this.selectionManager=e,this.element=n,this.undoManager=new K.UndoManager(this.composition)}return t.prototype.loadDocument=function(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})},t.prototype.loadHTML=function(t){return null==t&&(t=""),this.loadDocument(K.Document.fromHTML(t,{referenceElement:this.element}))},t.prototype.loadJSON=function(t){var e,n;return e=t.document,n=t.selectedRange,e=K.Document.fromJSON(e),this.loadSnapshot({document:e,selectedRange:n})},t.prototype.loadSnapshot=function(t){return this.undoManager=new K.UndoManager(this.composition),this.composition.loadSnapshot(t)},t.prototype.getDocument=function(){return this.composition.document},t.prototype.getSelectedDocument=function(){return this.composition.getSelectedDocument()},t.prototype.getSnapshot=function(){return this.composition.getSnapshot()},t.prototype.toJSON=function(){return this.getSnapshot()},t.prototype.deleteInDirection=function(t){return this.composition.deleteInDirection(t)},t.prototype.insertAttachment=function(t){return this.composition.insertAttachment(t)},t.prototype.insertDocument=function(t){return this.composition.insertDocument(t)},t.prototype.insertFile=function(t){return this.composition.insertFile(t)},t.prototype.insertHTML=function(t){return this.composition.insertHTML(t)},t.prototype.insertString=function(t){return this.composition.insertString(t)},t.prototype.insertText=function(t){return this.composition.insertText(t)},t.prototype.insertLineBreak=function(){return this.composition.insertLineBreak()},t.prototype.getSelectedRange=function(){return this.composition.getSelectedRange()},t.prototype.getPosition=function(){return this.composition.getPosition()},t.prototype.getClientRectAtPosition=function(t){var e;return e=this.getDocument().locationRangeFromRange([t,t+1]),this.selectionManager.getClientRectAtLocationRange(e)},t.prototype.expandSelectionInDirection=function(t){return this.composition.expandSelectionInDirection(t)},t.prototype.moveCursorInDirection=function(t){return this.composition.moveCursorInDirection(t)},t.prototype.setSelectedRange=function(t){
return this.composition.setSelectedRange(t)},t.prototype.activateAttribute=function(t,e){return null==e&&(e=!0),this.composition.setCurrentAttribute(t,e)},t.prototype.attributeIsActive=function(t){return this.composition.hasCurrentAttribute(t)},t.prototype.canActivateAttribute=function(t){return this.composition.canSetCurrentAttribute(t)},t.prototype.deactivateAttribute=function(t){return this.composition.removeCurrentAttribute(t)},t.prototype.canDecreaseNestingLevel=function(){return this.composition.canDecreaseNestingLevel()},t.prototype.canIncreaseNestingLevel=function(){return this.composition.canIncreaseNestingLevel()},t.prototype.decreaseNestingLevel=function(){return this.canDecreaseNestingLevel()?this.composition.decreaseNestingLevel():void 0},t.prototype.increaseNestingLevel=function(){return this.canIncreaseNestingLevel()?this.composition.increaseNestingLevel():void 0},t.prototype.canDecreaseIndentationLevel=function(){return this.canDecreaseNestingLevel()},t.prototype.canIncreaseIndentationLevel=function(){return this.canIncreaseNestingLevel()},t.prototype.decreaseIndentationLevel=function(){return this.decreaseNestingLevel()},t.prototype.increaseIndentationLevel=function(){return this.increaseNestingLevel()},t.prototype.canRedo=function(){return this.undoManager.canRedo()},t.prototype.canUndo=function(){return this.undoManager.canUndo()},t.prototype.recordUndoEntry=function(t,e){var n,i,o;return i=(o=null!=e?e:{}).context,n=o.consolidatable,this.undoManager.recordUndoEntry(t,{context:i,consolidatable:n})},t.prototype.redo=function(){return this.canRedo()?this.undoManager.redo():void 0},t.prototype.undo=function(){return this.canUndo()?this.undoManager.undo():void 0},t}()}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.ManagedAttachment=function(t){function e(t,e){var n;this.attachmentManager=t,this.attachment=e,n=this.attachment,this.id=n.id,this.file=n.file}return n(e,t),e.prototype.remove=function(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)},e.proxyMethod("attachment.getAttribute"),e.proxyMethod("attachment.hasAttribute"),e.proxyMethod("attachment.setAttribute"),e.proxyMethod("attachment.getAttributes"),e.proxyMethod("attachment.setAttributes"),e.proxyMethod("attachment.isPending"),e.proxyMethod("attachment.isPreviewable"),e.proxyMethod("attachment.getURL"),e.proxyMethod("attachment.getHref"),e.proxyMethod("attachment.getFilename"),e.proxyMethod("attachment.getFilesize"),e.proxyMethod("attachment.getFormattedFilesize"),e.proxyMethod("attachment.getExtension"),e.proxyMethod("attachment.getContentType"),e.proxyMethod("attachment.getFile"),e.proxyMethod("attachment.setFile"),e.proxyMethod("attachment.releaseFile"),e.proxyMethod("attachment.getUploadProgress"),e.proxyMethod("attachment.setUploadProgress"),e}(K.BasicObject)}.call(this),function(){var n=function(t,e){function n(){this.constructor=t}for(var i in e)o.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;K.AttachmentManager=function(t){function e(t){var e,n,i;for(null==t&&(t=[]),this.managedAttachments={},n=0,i=t.length;n<i;n++)e=t[n],this.manageAttachment(e)}return n(e,t),e.prototype.getAttachments=function(){var t,e,n,i;for(e in i=[],n=this.managedAttachments)t=n[e],i.push(t);return i},e.prototype.manageAttachment=function(t){var e,n;return null!=(e=this.managedAttachments)[n=t.id]?e[n]:e[n]=new K.ManagedAttachment(this,t)},e.prototype.attachmentIsManaged=function(t){return t.id in this.managedAttachments},e.prototype.requestRemovalOfAttachment=function(t){var e;return this.attachmentIsManaged(t)&&null!=(e=this.delegate)&&"function"==typeof e.attachmentManagerDidRequestRemovalOfAttachment?e.attachmentManagerDidRequestRemovalOfAttachment(t):void 0},e.prototype.unmanageAttachment=function(t){var e;return e=this.managedAttachments[t.id],delete this.managedAttachments[t.id],e},e}(K.BasicObject)}.call(this),function(){var h,f,n,s,p,l,g,i,m,o,E;h=K.elementContainsNode,f=K.findChildIndexOfNode,p=K.nodeIsBlockStart,l=K.nodeIsBlockStartComment,s=K.nodeIsBlockContainer,g=K.nodeIsCursorTarget,i=K.nodeIsEmptyTextNode,m=K.nodeIsTextNode,n=K.nodeIsAttachmentElement,o=K.tagName,E=K.walkTree,K.LocationMapper=function(){function t(t){this.element=t}var a,u,d,e;return t.prototype.findLocationFromContainerAndOffset=function(t,e,n){var i,o,r,a,s,l,c;for(l=(null!=n?n:{strict:!0}).strict,r=!1,a={index:o=0,offset:0},(i=this.findAttachmentElementParentForNode(t))&&(t=i.parentNode,e=f(i)),c=E(this.element,{usingFilter:d});c.nextNode();){if((s=c.currentNode)===t&&m(t)){g(s)||(a.offset+=e);break}if(s.parentNode===t){if(o++===e)break}else if(!h(t,s)&&0<o)break;p(s,{strict:l})?(r&&a.index++,r=!(a.offset=0)):a.offset+=u(s)}return a},t.prototype.findContainerAndOffsetFromLocation=function(t){var e,n,i,o,r;if(0===t.index&&0===t.offset){for(e=this.element,o=0;e.firstChild;)if(e=e.firstChild,s(e)){o=1;break}return[e,o]}if(n=(r=this.findNodeAndOffsetFromLocation(t))[0],i=r[1],n){if(m(n))(e=n).textContent,o=t.offset-i;else{if(e=n.parentNode,!p(n.previousSibling)&&!s(e))for(;n===e.lastChild&&(e=(n=e).parentNode,!s(e)););o=f(n),0!==t.offset&&o++}return[e,o]}},t.prototype.findNodeAndOffsetFromLocation=function(t){var e,n,i,o,r,a,s,l;for(n=s=0,i=(l=this.getSignificantNodesForIndex(t.index)).length;n<i;n++){if(e=l[n],o=u(e),t.offset<=s+o)if(m(e)){if(r=e,a=s,t.offset===a&&g(r))break}else r||(r=e,a=s);if((s+=o)>t.offset)break}return[r,a]},t.prototype.findAttachmentElementParentForNode=function(t){for(;t&&t!==this.element;){if(n(t))return t;t=t.parentNode}},t.prototype.getSignificantNodesForIndex=function(t){var e,n,i,o,r;for(i=[],r=E(this.element,{usingFilter:a}),o=!1;r.nextNode();)if(n=r.currentNode,l(n)){if(null!=e?e++:e=0,e===t)o=!0;else if(o)break}else o&&i.push(n);return i},u=function(t){return t.nodeType===Node.TEXT_NODE?g(t)?0:t.textContent.length:"br"===o(t)||n(t)?1:0},a=function(t){return e(t)===NodeFilter.FILTER_ACCEPT?d(t):NodeFilter.FILTER_REJECT},e=function(t){return i(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},d=function(t){return n(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},t}()}.call(this),function(){var u,d,n=[].slice;u=K.getDOMRange,d=K.setDOMRange,K.PointMapper=function(){function t(){}return t.prototype.createDOMRangeFromPoint=function(t){var e,n,i,o,r,a,s,l;if(s=t.x,l=t.y,document.caretPositionFromPoint)return i=(r=document.caretPositionFromPoint(s,l)).offsetNode,n=r.offset,(e=document.createRange()).setStart(i,n),e;if(document.caretRangeFromPoint)return document.caretRangeFromPoint(s,l);if(document.body.createTextRange){o=u();try{(a=document.body.createTextRange()).moveToPoint(s,l),a.select()}catch(c){}return e=u(),d(o),e}},t.prototype.getClientRectsForDOMRange=function(t){var e;return[(e=n.call(t.getClientRects()))[0],e[e.length-1]]},t}()}.call(this),function(){var i,o=function(t,e){return function(){return t.apply(e,arguments)}},r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=K.getDOMRange,K.SelectionChangeObserver=function(t){function e(){this.run=o(this.run,this),this.update=o(this.update,this),this.selectionManagers=[]}var n;return r(e,t),e.prototype.start=function(){return this.started?void 0:(this.started=!0,"onselectionchange"in document?document.addEventListener("selectionchange",this.update,!0):this.run())},e.prototype.stop=function(){return this.started?(this.started=!1,document.removeEventListener("selectionchange",this.update,!0)):void 0},e.prototype.registerSelectionManager=function(t){return s.call(this.selectionManagers,t)<0?(this.selectionManagers.push(t),this.start()):void 0},e.prototype.unregisterSelectionManager=function(o){var r;return this.selectionManagers=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)(r=n[t])!==o&&i.push(r);return i}.call(this),0===this.selectionManagers.length?this.stop():void 0},e.prototype.notifySelectionManagersOfSelectionChange=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.selectionManagers).length;t<e;t++)o=n[t],i.push(o.selectionDidChange());return i},e.prototype.update=function(){var t;return t=i(),n(t,this.domRange)?void 0:(this.domRange=t,this.notifySelectionManagersOfSelectionChange())},e.prototype.reset=function(){return this.domRange=null,this.update()},e.prototype.run=function(){return this.started?(this.update(),requestAnimationFrame(this.run)):void 0},n=function(t,e){return(null!=t?t.startContainer:void 0)===(null!=e?e.startContainer:void 0)&&(null!=t?t.startOffset:void 0)===(null!=e?e.startOffset:void 0)&&(null!=t?t.endContainer:void 0)===(null!=e?e.endContainer:void 0)&&(null!=t?t.endOffset:void 0)===(null!=e?e.endOffset:void 0)},e}(K.BasicObject),null==K.selectionChangeObserver&&(K.selectionChangeObserver=new K.SelectionChangeObserver)}.call(this),function(){var s,n,i,l,o,r,a,c,u,d,h=function(t,e){return function(){return t.apply(e,arguments)}},f=function(t,e){function n(){this.constructor=t}for(var i in e)p.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},p={}.hasOwnProperty;i=K.getDOMSelection,n=K.getDOMRange,d=K.setDOMRange,s=K.elementContainsNode,r=K.nodeIsCursorTarget,o=K.innerElementIsActive,l=K.handleEvent,a=K.normalizeRange,c=K.rangeIsCollapsed,u=K.rangesAreEqual,K.SelectionManager=function(t){function e(t){this.element=t,this.selectionDidChange=h(this.selectionDidChange,this),this.didMouseDown=h(this.didMouseDown,this),this.locationMapper=new K.LocationMapper(this.element),this.pointMapper=new K.PointMapper,this.lockCount=0,l("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}return f(e,t),e.prototype.getLocationRange=function(t){var e;return null==t&&(t={}),!1===t.strict?this.createLocationRangeFromDOMRange(n(),{strict:!1}):t.ignoreLock?this.currentLocationRange:null!=(e=this.lockedLocationRange)?e:this.currentLocationRange},e.prototype.setLocationRange=function(t){var e;if(!this.lockedLocationRange)return t=a(t),(e=this.createDOMRangeFromLocationRange(t))?(d(e),this.updateCurrentLocationRange(t)):void 0},e.prototype.setLocationRangeFromPointRange=function(t){var e,n;return t=a(t),n=this.getLocationAtPoint(t[0]),e=this.getLocationAtPoint(t[1]),this.setLocationRange([n,e])},e.prototype.getClientRectAtLocationRange=function(t){var e;return(e=this.createDOMRangeFromLocationRange(t))?this.getClientRectsForDOMRange(e)[1]:void 0},e.prototype.locationIsCursorTarget=function(t){var e,n;return e=(n=this.findNodeAndOffsetFromLocation(t))[0],n[1],r(e)},e.prototype.lock=function(){return 0==this.lockCount++?(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange()):void 0},e.prototype.unlock=function(){var t;return 0==--this.lockCount&&(t=this.lockedLocationRange,(this.lockedLocationRange=null)!=t)?this.setLocationRange(t):void 0},e.prototype.clearSelection=function(){var t;return null!=(t=i())?t.removeAllRanges():void 0},e.prototype.selectionIsCollapsed=function(){var t;return!0===(null!=(t=n())?t.collapsed:void 0)},e.prototype.selectionIsExpanded=function(){return!this.selectionIsCollapsed()},e.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),e.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),e.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),e.proxyMethod("pointMapper.createDOMRangeFromPoint"),e.proxyMethod("pointMapper.getClientRectsForDOMRange"),e.prototype.didMouseDown=function(){return this.pauseTemporarily()},e.prototype.pauseTemporarily=function(){var o,r,n,i,a;return this.paused=!0,a=this,r=function(){var t,e;for(a.paused=!1,clearTimeout(i),t=0,e=n.length;t<e;t++)n[t].destroy();return s(document,a.element)?a.selectionDidChange():void 0},i=setTimeout(r,200),n=function(){var t,e,n,i;for(i=[],t=0,e=(n=["mousemove","keydown"]).length;t<e;t++)o=n[t],i.push(l(o,{onElement:document,withCallback:r}));return i}()},e.prototype.selectionDidChange=function(){return this.paused||o(this.element)?void 0:this.updateCurrentLocationRange()},e.prototype.updateCurrentLocationRange=function(t){var e;return(null!=t?t:t=this.createLocationRangeFromDOMRange(n()))&&!u(t,this.currentLocationRange)?(this.currentLocationRange=t,null!=(e=this.delegate)&&"function"==typeof e.locationRangeDidChange?e.locationRangeDidChange(this.currentLocationRange.slice(0)):void 0):void 0},e.prototype.createDOMRangeFromLocationRange=function(t){var e,n,i,o;return i=this.findContainerAndOffsetFromLocation(t[0]),n=c(t)?i:null!=(o=this.findContainerAndOffsetFromLocation(t[1]))?o:i,null!=i&&null!=n?((e=document.createRange()).setStart.apply(e,i),e.setEnd.apply(e,n),e):void 0},e.prototype.createLocationRangeFromDOMRange=function(t,e){var n,i;if(null!=t&&this.domRangeWithinElement(t)&&(i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e)))return t.collapsed||(n=this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e)),a([i,n])},e.prototype.getLocationAtPoint=function(t){var e,n;return(e=this.createDOMRangeFromPoint(t))&&null!=(n=this.createLocationRangeFromDOMRange(e))?n[0]:void 0},e.prototype.domRangeWithinElement=function(t){return t.collapsed?s(this.element,t.startContainer):s(this.element,t.startContainer)&&s(this.element,t.endContainer)},e}(K.BasicObject)}.call(this),function(){var n,i,o,r=function(t,e){function n(){this.constructor=t}for(var i in e)a.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty,s=[].slice;i=K.rangeIsCollapsed,o=K.rangesAreEqual,n=K.objectsAreEqual,K.EditorController=function(t){function e(t){var e,n;this.editorElement=t.editorElement,e=t.document,n=t.html,this.selectionManager=new K.SelectionManager(this.editorElement),(this.selectionManager.delegate=this).composition=new K.Composition,(this.composition.delegate=this).attachmentManager=new K.AttachmentManager(this.composition.getAttachments()),(this.attachmentManager.delegate=this).inputController=new K.InputController(this.editorElement),(this.inputController.delegate=this).inputController.responder=this.composition,this.compositionController=new K.CompositionController(this.editorElement,this.composition),(this.compositionController.delegate=this).toolbarController=new K.ToolbarController(this.editorElement.toolbarElement),(this.toolbarController.delegate=this).editor=new K.Editor(this.composition,this.selectionManager,this.editorElement),null!=e?this.editor.loadDocument(e):this.editor.loadHTML(n)}return r(e,t),e.prototype.registerSelectionManager=function(){return K.selectionChangeObserver.registerSelectionManager(this.selectionManager)},e.prototype.unregisterSelectionManager=function(){return K.selectionChangeObserver.unregisterSelectionManager(this.selectionManager)},e.prototype.compositionDidChangeDocument=function(){return this.editorElement.notify("document-change"),this.handlingInput?void 0:this.render()},e.prototype.compositionDidChangeCurrentAttributes=function(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.editorElement.notify("attributes-change",{attributes:this.currentAttributes})},e.prototype.compositionDidPerformInsertionAtRange=function(t){return this.pasting?this.pastedRange=t:void 0},e.prototype.compositionShouldAcceptFile=function(t){return this.editorElement.notify("file-accept",{file:t})},e.prototype.compositionDidAddAttachment=function(t){var e;return e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-add",{attachment:e})},e.prototype.compositionDidEditAttachment=function(t){var e;return this.compositionController.rerenderViewForObject(t),e=this.attachmentManager.manageAttachment(t),this.editorElement.notify("attachment-edit",{attachment:e}),this.editorElement.notify("change")},e.prototype.compositionDidChangeAttachmentPreviewURL=function(t){return this.compositionController.invalidateViewForObject(t),this.editorElement.notify("change")},e.prototype.compositionDidRemoveAttachment=function(t){var e;return e=this.attachmentManager.unmanageAttachment(t),this.editorElement.notify("attachment-remove",{attachment:e})},e.prototype.compositionDidStartEditingAttachment=function(t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t),this.selectionManager.setLocationRange(this.attachmentLocationRange)},e.prototype.compositionDidStopEditingAttachment=function(){return this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null},e.prototype.compositionDidRequestChangingSelectionToLocationRange=function(t){return!this.loadingSnapshot||this.isFocused()?(this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()):void 0},e.prototype.compositionWillLoadSnapshot=function(){return this.loadingSnapshot=!0},e.prototype.compositionDidLoadSnapshot=function(){return this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1},e.prototype.getSelectionManager=function(){return this.selectionManager},e.proxyMethod("getSelectionManager().setLocationRange"),e.proxyMethod("getSelectionManager().getLocationRange"),e.prototype.attachmentManagerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.compositionControllerWillSyncDocumentView=function(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()},e.prototype.compositionControllerDidSyncDocumentView=function(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.editorElement.notify("sync")},e.prototype.compositionControllerDidRender=function(){return null!=this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.composition.updateCurrentAttributes(),this.editorElement.notify("render")),this.renderedCompositionRevision=this.composition.revision},e.prototype.compositionControllerDidFocus=function(){return this.toolbarController.hideDialog(),this.editorElement.notify("focus")},e.prototype.compositionControllerDidBlur=function(){return this.editorElement.notify("blur")},e.prototype.compositionControllerDidSelectAttachment=function(t){return this.composition.editAttachment(t)},e.prototype.compositionControllerDidRequestDeselectingAttachment=function(t){var e,n;return e=null!=(n=this.attachmentLocationRange)?n:this.composition.document.getLocationRangeOfAttachment(t),this.selectionManager.setLocationRange(e[1])},e.prototype.compositionControllerWillUpdateAttachment=function(t){return this.editor.recordUndoEntry("Edit Attachment",{context:t.id,consolidatable:!0})},e.prototype.compositionControllerDidRequestRemovalOfAttachment=function(t){return this.removeAttachment(t)},e.prototype.inputControllerWillHandleInput=function(){return this.handlingInput=!0,this.requestedRender=!1},e.prototype.inputControllerDidRequestRender=function(){return this.requestedRender=!0},e.prototype.inputControllerDidHandleInput=function(){return this.handlingInput=!1,this.requestedRender?(this.requestedRender=!1,this.render()):void 0},e.prototype.inputControllerDidAllowUnhandledInput=function(){return this.editorElement.notify("change")},e.prototype.inputControllerDidRequestReparse=function(){return this.reparse()},e.prototype.inputControllerWillPerformTyping=function(){return this.recordTypingUndoEntry()},e.prototype.inputControllerWillCutText=function(){return this.editor.recordUndoEntry("Cut")},e.prototype.inputControllerWillPasteText=function(){return this.editor.recordUndoEntry("Paste"),this.pasting=!0},e.prototype.inputControllerDidPaste=function(t){var e;return e=this.pastedRange,this.pastedRange=null,this.pasting=null,this.editorElement.notify("paste",{pasteData:t,range:e})},e.prototype.inputControllerWillMoveText=function(){return this.editor.recordUndoEntry("Move")},e.prototype.inputControllerWillAttachFiles=function(){return this.editor.recordUndoEntry("Drop Files")},e.prototype.inputControllerDidReceiveKeyboardCommand=function(t){return this.toolbarController.applyKeyboardCommand(t)},e.prototype.inputControllerDidStartDrag=function(){return this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()},e.prototype.inputControllerDidReceiveDragOverPoint=function(t){return this.selectionManager.setLocationRangeFromPointRange(t)},e.prototype.inputControllerDidCancelDrag=function(){return this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null},e.prototype.locationRangeDidChange=function(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!o(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.editorElement.notify("selection-change")},e.prototype.toolbarDidClickButton=function(){return this.getLocationRange()?void 0:this.setLocationRange({index:0,offset:0})},e.prototype.toolbarDidInvokeAction=function(t){return this.invokeAction(t)},e.prototype.toolbarDidToggleAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.toggleCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidUpdateAttribute=function(t,e){return this.recordFormattingUndoEntry(),this.composition.setCurrentAttribute(t,e),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarDidRemoveAttribute=function(t){return this.recordFormattingUndoEntry(),this.composition.removeCurrentAttribute(t),this.render(),this.selectionFrozen?void 0:this.editorElement.focus()},e.prototype.toolbarWillShowDialog=function(){return this.composition.expandSelectionForEditing(),this.freezeSelection()},e.prototype.toolbarDidShowDialog=function(t){return this.editorElement.notify("toolbar-dialog-show",{dialogName:t})},e.prototype.toolbarDidHideDialog=function(t){return this.thawSelection(),this.editorElement.focus(),this.editorElement.notify("toolbar-dialog-hide",{dialogName:t})},e.prototype.freezeSelection=function(){return this.selectionFrozen?void 0:(this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render())},e.prototype.thawSelection=function(){return this.selectionFrozen?(this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()):void 0},e.prototype.actions={undo:{test:function(){return this.editor.canUndo()},perform:function(){return this.editor.undo()}},redo:{test:function(){return this.editor.canRedo()},perform:function(){return this.editor.redo()}},link:{test:function(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}},increaseBlockLevel:{test:function(){return this.editor.canIncreaseNestingLevel()},perform:function(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseBlockLevel:{test:function(){return this.editor.canDecreaseNestingLevel()},perform:function(){return this.editor.decreaseNestingLevel()&&this.render()}}},e.prototype.canInvokeAction=function(t){var e,n;return!!this.actionIsExternal(t)||!!(null!=(e=this.actions[t])&&null!=(n=e.test)?n.call(this):void 0)},e.prototype.invokeAction=function(t){var e,n;return this.actionIsExternal(t)?this.editorElement.notify("action-invoke",{actionName:t}):null!=(e=this.actions[t])&&null!=(n=e.perform)?n.call(this):void 0},e.prototype.actionIsExternal=function(t){return/^x-./.test(t)},e.prototype.getCurrentActions=function(){var t,e;for(t in e={},this.actions)e[t]=this.canInvokeAction(t);return e},e.prototype.updateCurrentActions=function(){var t;return t=this.getCurrentActions(),n(t,this.currentActions)?void 0:(this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.editorElement.notify("actions-change",{actions:this.currentActions}))},e.prototype.reparse=function(){return this.composition.replaceHTML(this.editorElement.innerHTML)},e.prototype.render=function(){return this.compositionController.render()},e.prototype.removeAttachment=function(t){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(t),this.render()},e.prototype.recordFormattingUndoEntry=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?void 0:this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})},e.prototype.recordTypingUndoEntry=function(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})},e.prototype.getUndoContext=function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],[this.getLocationContext(),this.getTimeContext()].concat(s.call(t))},e.prototype.getLocationContext=function(){var t;return t=this.selectionManager.getLocationRange(),i(t)?t[0].index:t},e.prototype.getTimeContext=function(){return 0<K.config.undoInterval?Math.floor((new Date).getTime()/K.config.undoInterval):0},e.prototype.isFocused=function(){var t;return this.editorElement===(null!=(t=this.editorElement.ownerDocument)?t.activeElement:void 0)},e}(K.Controller)}.call(this),function(){var t,e,n,i,o,r,a,s,l,c,u,d;i=K.makeElement,o=K.selectionElements,r=K.triggerEvent,e=K.handleEvent,n=K.handleEventOnce,t=K.AttachmentView.attachmentSelector,K.registerElement("trix-editor",(c=0,a=function(t){return!document.querySelector(":focus")&&t.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===t?t.focus():void 0},u=function(t){return t.hasAttribute("contenteditable")?void 0:(t.setAttribute("contenteditable",""),n("focus",{onElement:t,withCallback:function(){return s(t)}}))},s=function(t){return l(t),d(t)},l=function(t){return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("enableObjectResizing"):void 0)?(document.execCommand("enableObjectResizing",!1,!1),e("mscontrolselect",{onElement:t,preventDefault:!0})):void 0},d=function(){var t;return("function"==typeof document.queryCommandSupported?document.queryCommandSupported("DefaultParagraphSeparator"):void 0)&&("div"===(t=K.config.blockAttributes["default"].tagName)||"p"===t)?document.execCommand("DefaultParagraphSeparator",!1,t):void 0},{defaultCSS:"%t:empty:not(:focus)::before {\n  content: attr(placeholder);\n  color: graytext;\n}\n\n%t a[contenteditable=false] {\n  cursor: text;\n}\n\n%t img {\n  max-width: 100%;\n  height: auto;\n}\n\n%t "+t+" figcaption textarea {\n  resize: none;\n}\n\n%t "+t+" figcaption textarea.trix-autoresize-clone {\n  position: absolute;\n  left: -9999px;\n  max-height: 0px;\n}\n\n%t "+t+'[data-trix-mutable] figcaption:empty::before {\n  content: "'+K.config.lang.captionPrompt+'";\n  color: graytext;\n}\n\n%t '+o.selector+" { "+o.cssText+" }",trixId:{get:function(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++c),this.trixId)}},toolbarElement:{get:function(){var t,e,n;return this.hasAttribute("toolbar")?null!=(e=this.ownerDocument)?e.getElementById(this.getAttribute("toolbar")):void 0:this.parentElement?(n="trix-toolbar-"+this.trixId,this.setAttribute("toolbar",n),t=i("trix-toolbar",{id:n}),this.parentElement.insertBefore(t,this),t):void 0}},inputElement:{get:function(){var t,e,n;return this.hasAttribute("input")?null!=(n=this.ownerDocument)?n.getElementById(this.getAttribute("input")):void 0:this.parentElement?(e="trix-input-"+this.trixId,this.setAttribute("input",e),t=i("input",{type:"hidden",id:e}),this.parentElement.insertBefore(t,this.nextElementSibling),t):void 0}},editor:{get:function(){var t;return null!=(t=this.editorController)?t.editor:void 0}},name:{get:function(){var t;return null!=(t=this.inputElement)?t.name:void 0}},value:{get:function(){var t;return null!=(t=this.inputElement)?t.value:void 0},set:function(t){var e;return this.defaultValue=t,null!=(e=this.editor)?e.loadHTML(this.defaultValue):void 0}},notify:function(t,e){var n;switch(t){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notify("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":null!=(n=this.inputElement)&&(n.value=K.serializeToContentType(this,"text/html"))}return this.editorController?r("trix-"+t,{onElement:this,attributes:e}):void 0},createdCallback:function(){return u(this)},attachedCallback:function(){return this.hasAttribute("data-trix-internal")?void 0:(null==this.editorController&&(this.editorController=new K.EditorController({editorElement:this,html:this.defaultValue=this.value})),this.editorController.registerSelectionManager(),this.registerResetListener(),a(this),requestAnimationFrame((t=this,function(){return t.notify("initialize")})));var t},detachedCallback:function(){var t;return null!=(t=this.editorController)&&t.unregisterSelectionManager(),this.unregisterResetListener()},registerResetListener:function(){return this.resetListener=this.resetBubbled.bind(this),window.addEventListener("reset",this.resetListener,!1)},unregisterResetListener:function(){return window.removeEventListener("reset",this.resetListener,!1)},resetBubbled:function(t){var e;return t.target!==(null!=(e=this.inputElement)?e.form:void 0)||t.defaultPrevented?void 0:this.reset()},reset:function(){return this.value=this.defaultValue}}))}.call(this),function(){}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=K:"function"==typeof define&&define.amd&&define(K)}.call(this),function(){}.call(this),function(){var t=this;(function(){(function(){var n=[].slice;this.ActionCable={INTERNAL:{message_types:{welcome:"welcome",ping:"ping",confirmation:"confirm_subscription",rejection:"reject_subscription"},default_mount_path:"/cable",protocols:["actioncable-v1-json","actioncable-unsupported"]},WebSocket:window.WebSocket,logger:window.console,createConsumer:function(t){var e;return null==t&&(t=null!=(e=this.getConfig("url"))?e:this.INTERNAL.default_mount_path),new l.Consumer(this.createWebSocketURL(t))},getConfig:function(t){var e;return null!=(e=document.head.querySelector("meta[name='action-cable-"+t+"']"))?e.getAttribute("content"):void 0},createWebSocketURL:function(t){var e;return t&&!/^wss?:/i.test(t)?((e=document.createElement("a")).href=t,e.href=e.href,e.protocol=e.protocol.replace("http","ws"),e.href):t},startDebugging:function(){return this.debugging=!0},stopDebugging:function(){return this.debugging=null},log:function(){var t,e;if(t=1<=arguments.length?n.call(arguments,0):[],this.debugging)return t.push(Date.now()),(e=this.logger).log.apply(e,["[ActionCable]"].concat(n.call(t)))}}}).call(this)}).call(t);var l=t.ActionCable;(function(){(function(){var i=function(t,e){return function(){return t.apply(e,arguments)}};l.ConnectionMonitor=function(){function t(t){this.connection=t,this.visibilityDidChange=i(this.visibilityDidChange,this),this.reconnectAttempts=0}var o,e,n;return t.pollInterval={min:3,max:30},t.staleThreshold=6,t.prototype.start=function(){if(!this.isRunning())return this.startedAt=e(),delete this.stoppedAt,this.startPolling(),document.addEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor started. pollInterval = "+this.getPollInterval()+" ms")},t.prototype.stop=function(){if(this.isRunning())return this.stoppedAt=e(),this.stopPolling(),document.removeEventListener("visibilitychange",this.visibilityDidChange),l.log("ConnectionMonitor stopped")},t.prototype.isRunning=function(){return null!=this.startedAt&&null==this.stoppedAt},t.prototype.recordPing=function(){return this.pingedAt=e()},t.prototype.recordConnect=function(){return this.reconnectAttempts=0,this.recordPing(),delete this.disconnectedAt,l.log(
"ConnectionMonitor recorded connect")},t.prototype.recordDisconnect=function(){return this.disconnectedAt=e(),l.log("ConnectionMonitor recorded disconnect")},t.prototype.startPolling=function(){return this.stopPolling(),this.poll()},t.prototype.stopPolling=function(){return clearTimeout(this.pollTimeout)},t.prototype.poll=function(){return this.pollTimeout=setTimeout((t=this,function(){return t.reconnectIfStale(),t.poll()}),this.getPollInterval());var t},t.prototype.getPollInterval=function(){var t,e,n,i;return n=(i=this.constructor.pollInterval).min,e=i.max,t=5*Math.log(this.reconnectAttempts+1),Math.round(1e3*o(t,n,e))},t.prototype.reconnectIfStale=function(){if(this.connectionIsStale())return l.log("ConnectionMonitor detected stale connection. reconnectAttempts = "+this.reconnectAttempts+", pollInterval = "+this.getPollInterval()+" ms, time disconnected = "+n(this.disconnectedAt)+" s, stale threshold = "+this.constructor.staleThreshold+" s"),this.reconnectAttempts++,this.disconnectedRecently()?l.log("ConnectionMonitor skipping reopening recent disconnect"):(l.log("ConnectionMonitor reopening"),this.connection.reopen())},t.prototype.connectionIsStale=function(){var t;return n(null!=(t=this.pingedAt)?t:this.startedAt)>this.constructor.staleThreshold},t.prototype.disconnectedRecently=function(){return this.disconnectedAt&&n(this.disconnectedAt)<this.constructor.staleThreshold},t.prototype.visibilityDidChange=function(){if("visible"===document.visibilityState)return setTimeout((t=this,function(){if(t.connectionIsStale()||!t.connection.isOpen())return l.log("ConnectionMonitor reopening stale connection on visibilitychange. visbilityState = "+document.visibilityState),t.connection.reopen()}),200);var t},e=function(){return(new Date).getTime()},n=function(t){return(e()-t)/1e3},o=function(t,e,n){return Math.max(e,Math.min(n,t))},t}()}).call(this),function(){var t,o,e,n,i,r=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},s=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};n=l.INTERNAL,o=n.message_types,e=n.protocols,i=2<=e.length?r.call(e,0,t=e.length-1):(t=0,[]),e[t++],l.Connection=function(){function t(t){this.consumer=t,this.open=a(this.open,this),this.subscriptions=this.consumer.subscriptions,this.monitor=new l.ConnectionMonitor(this),this.disconnected=!0}return t.reopenDelay=500,t.prototype.send=function(t){return!!this.isOpen()&&(this.webSocket.send(JSON.stringify(t)),!0)},t.prototype.open=function(){return this.isActive()?(l.log("Attempted to open WebSocket, but existing socket is "+this.getState()),!1):(l.log("Opening WebSocket, current state is "+this.getState()+", subprotocols: "+e),null!=this.webSocket&&this.uninstallEventHandlers(),this.webSocket=new l.WebSocket(this.consumer.url,e),this.installEventHandlers(),this.monitor.start(),!0)},t.prototype.close=function(t){var e;if((null!=t?t:{allowReconnect:!0}).allowReconnect||this.monitor.stop(),this.isActive())return null!=(e=this.webSocket)?e.close():void 0},t.prototype.reopen=function(){var t;if(l.log("Reopening WebSocket, current state is "+this.getState()),!this.isActive())return this.open();try{return this.close()}catch(e){return t=e,l.log("Failed to reopen WebSocket",t)}finally{l.log("Reopening WebSocket in "+this.constructor.reopenDelay+"ms"),setTimeout(this.open,this.constructor.reopenDelay)}},t.prototype.getProtocol=function(){var t;return null!=(t=this.webSocket)?t.protocol:void 0},t.prototype.isOpen=function(){return this.isState("open")},t.prototype.isActive=function(){return this.isState("open","connecting")},t.prototype.isProtocolSupported=function(){var t;return t=this.getProtocol(),0<=s.call(i,t)},t.prototype.isState=function(){var t,e;return e=1<=arguments.length?r.call(arguments,0):[],t=this.getState(),0<=s.call(e,t)},t.prototype.getState=function(){var t,e;for(e in WebSocket)if(WebSocket[e]===(null!=(t=this.webSocket)?t.readyState:void 0))return e.toLowerCase();return null},t.prototype.installEventHandlers=function(){var t,e;for(t in this.events)e=this.events[t].bind(this),this.webSocket["on"+t]=e},t.prototype.uninstallEventHandlers=function(){var t;for(t in this.events)this.webSocket["on"+t]=function(){}},t.prototype.events={message:function(t){var e,n,i;if(this.isProtocolSupported())switch(e=(i=JSON.parse(t.data)).identifier,n=i.message,i.type){case o.welcome:return this.monitor.recordConnect(),this.subscriptions.reload();case o.ping:return this.monitor.recordPing();case o.confirmation:return this.subscriptions.notify(e,"connected");case o.rejection:return this.subscriptions.reject(e);default:return this.subscriptions.notify(e,"received",n)}},open:function(){if(l.log("WebSocket onopen event, using '"+this.getProtocol()+"' subprotocol"),this.disconnected=!1,!this.isProtocolSupported())return l.log("Protocol is unsupported. Stopping monitor and disconnecting."),this.close({allowReconnect:!1})},close:function(){if(l.log("WebSocket onclose event"),!this.disconnected)return this.disconnected=!0,this.monitor.recordDisconnect(),this.subscriptions.notifyAll("disconnected",{willAttemptReconnect:this.monitor.isRunning()})},error:function(){return l.log("WebSocket onerror event")}},t}()}.call(this),function(){var c=[].slice;l.Subscriptions=function(){function t(t){this.consumer=t,this.subscriptions=[]}return t.prototype.create=function(t,e){var n,i,o;return i="object"==typeof(n=t)?n:{channel:n},o=new l.Subscription(this.consumer,i,e),this.add(o)},t.prototype.add=function(t){return this.subscriptions.push(t),this.consumer.ensureActiveConnection(),this.notify(t,"initialized"),this.sendCommand(t,"subscribe"),t},t.prototype.remove=function(t){return this.forget(t),this.findAll(t.identifier).length||this.sendCommand(t,"unsubscribe"),t},t.prototype.reject=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.findAll(t)).length;e<n;e++)r=i[e],this.forget(r),this.notify(r,"rejected"),o.push(r);return o},t.prototype.forget=function(o){var r;return this.subscriptions=function(){var t,e,n,i;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)(r=n[t])!==o&&i.push(r);return i}.call(this),o},t.prototype.findAll=function(t){var e,n,i,o,r;for(o=[],e=0,n=(i=this.subscriptions).length;e<n;e++)(r=i[e]).identifier===t&&o.push(r);return o},t.prototype.reload=function(){var t,e,n,i,o;for(i=[],t=0,e=(n=this.subscriptions).length;t<e;t++)o=n[t],i.push(this.sendCommand(o,"subscribe"));return i},t.prototype.notifyAll=function(t){var e,n,i,o,r,a,s;for(n=t,e=2<=arguments.length?c.call(arguments,1):[],a=[],i=0,o=(r=this.subscriptions).length;i<o;i++)s=r[i],a.push(this.notify.apply(this,[s,n].concat(c.call(e))));return a},t.prototype.notify=function(t,e){var n,i,o,r,a,s,l;for(s=t,i=e,n=3<=arguments.length?c.call(arguments,2):[],a=[],o=0,r=(l="string"==typeof s?this.findAll(s):[s]).length;o<r;o++)s=l[o],a.push("function"==typeof s[i]?s[i].apply(s,n):void 0);return a},t.prototype.sendCommand=function(t,e){var n;return n=t.identifier,this.consumer.send({command:e,identifier:n})},t}()}.call(this),function(){l.Subscription=function(){function t(t,e,n){this.consumer=t,null==e&&(e={}),this.identifier=JSON.stringify(e),i(this,n)}var i;return t.prototype.perform=function(t,e){return null==e&&(e={}),e.action=t,this.send(e)},t.prototype.send=function(t){return this.consumer.send({command:"message",identifier:this.identifier,data:JSON.stringify(t)})},t.prototype.unsubscribe=function(){return this.consumer.subscriptions.remove(this)},i=function(t,e){var n,i;if(null!=e)for(n in e)i=e[n],t[n]=i;return t},t}()}.call(this),function(){l.Consumer=function(){function t(t){this.url=t,this.subscriptions=new l.Subscriptions(this),this.connection=new l.Connection(this)}return t.prototype.send=function(t){return this.connection.send(t)},t.prototype.connect=function(){return this.connection.open()},t.prototype.disconnect=function(){return this.connection.close({allowReconnect:!1})},t.prototype.ensureActiveConnection=function(){if(!this.connection.isActive())return this.connection.open()},t}()}.call(this)}).call(this),"object"==typeof module&&module.exports?module.exports=l:"function"==typeof define&&define.amd&&define(l)}.call(this),function(){this.App||(this.App={}),App.cable=ActionCable.createConsumer()}.call(this),function(){}.call(this),function(){}.call(this);